/*
 Select2 4.1.0-rc.0 | https://github.com/select2/select2/blob/master/LICENSE.md */
var $jscomp=$jscomp||{};$jscomp.scope={};$jscomp.arrayIteratorImpl=function(a){var c=0;return function(){return c<a.length?{done:!1,value:a[c++]}:{done:!0}}};$jscomp.arrayIterator=function(a){return{next:$jscomp.arrayIteratorImpl(a)}};$jscomp.makeIterator=function(a){var c="undefined"!=typeof Symbol&&Symbol.iterator&&a[Symbol.iterator];return c?c.call(a):$jscomp.arrayIterator(a)};$jscomp.arrayFromIterator=function(a){for(var c,b=[];!(c=a.next()).done;)b.push(c.value);return b};
$jscomp.arrayFromIterable=function(a){return a instanceof Array?a:$jscomp.arrayFromIterator($jscomp.makeIterator(a))};
!function(a){"function"==typeof define&&define.amd?define(["jquery"],a):"object"==typeof module&&module.exports?module.exports=function(c,b){return void 0===b&&(b="undefined"!=typeof window?require("jquery"):require("jquery")(c)),a(b),b}:a(jQuery)}(function(a){function c(a,b){var d,c,p,g,e,f,h=b&&b.split("/"),B=y.map,G=B&&B["*"]||{};if(a){b=(a=a.split("/")).length-1;y.nodeIdCompat&&E.test(a[b])&&(a[b]=a[b].replace(E,""));"."===a[0].charAt(0)&&h&&(a=h.slice(0,h.length-1).concat(a));for(b=0;b<a.length;b++)"."===
(d=a[b])?(a.splice(b,1),--b):".."===d&&(0===b||1===b&&".."===a[2]||".."===a[b-1]||0<b&&(a.splice(b-1,2),b-=2));a=a.join("/")}if((h||G)&&B){for(b=(d=a.split("/")).length;0<b;--b){if(c=d.slice(0,b).join("/"),h)for(f=h.length;0<f;--f)if(p=B[h.slice(0,f).join("/")],p=p&&p[c]){var l=p;var m=b;break}if(l)break;!g&&G&&G[c]&&(g=G[c],e=b)}!l&&g&&(l=g,m=e);l&&(d.splice(0,m,l),a=d.join("/"))}return a}function b(a,b){return function(){var d=F.call(arguments,0);return"string"!=typeof d[0]&&1===d.length&&d.push(null),
n.apply(k,d.concat([a,b]))}}function d(a){var b;if(z.call(x,a)&&(b=x[a],delete x[a],D[a]=!0,m.apply(k,b)),!z.call(v,a)&&!z.call(D,a))throw Error("No "+a);return v[a]}function e(a){var b,d=a?a.indexOf("!"):-1;return-1<d&&(b=a.substring(0,d),a=a.substring(d+1,a.length)),[b,a]}function f(a){return a?e(a):[]}var h,l,k,m,n,q,u,v,x,y,D,z,F,E;var A=(a&&a.fn&&a.fn.select2&&a.fn.select2.amd&&(r=a.fn.select2.amd),r&&r.requirejs||(r?l=r:r={},v={},x={},y={},D={},z=Object.prototype.hasOwnProperty,F=[].slice,E=
/\.js$/,q=function(a,b){var t,w,p=e(a),g=p[0];b=b[1];return a=p[1],g&&(t=d(g=c(g,b))),g?a=t&&t.normalize?t.normalize(a,(w=b,function(a){return c(a,w)})):c(a,b):(g=(p=e(a=c(a,b)))[0],a=p[1],g&&(t=d(g))),{f:g?g+"!"+a:a,n:a,pr:g,p:t}},u={require:function(a){return b(a)},exports:function(a){var b=v[a];return void 0!==b?b:v[a]={}},module:function(a){return{id:a,uri:"",exports:v[a],config:(b=a,function(){return y&&y.config&&y.config[b]||{}})};var b}},m=function(a,c,e,w){var p,g,C=[];var t=typeof e;var h=
f(w=w||a);if("undefined"==t||"function"==t){c=!c.length&&e.length?["require","exports","module"]:c;for(g=0;g<c.length;g+=1)if("require"===(t=(p=q(c[g],h)).f))C[g]=u.require(a);else if("exports"===t){C[g]=u.exports(a);var l=!0}else if("module"===t)var B=C[g]=u.module(a);else if(z.call(v,t)||z.call(x,t)||z.call(D,t))C[g]=d(t);else{if(!p.p)throw Error(a+" missing "+t);p.p.load(p.n,b(w,!0),function(a){return function(b){v[a]=b}}(t),{});C[g]=v[t]}t=e?e.apply(v[a],C):void 0;a&&(B&&B.exports!==k&&B.exports!==
v[a]?v[a]=B.exports:t===k&&l||(v[a]=t))}else a&&(v[a]=e)},h=l=n=function(a,b,c,e,p){if("string"==typeof a)return u[a]?u[a](b):d(q(a,f(b)).f);if(!a.splice){if((y=a).deps&&n(y.deps,y.callback),!b)return;b.splice?(a=b,b=c,c=null):a=k}return b=b||function(){},"function"==typeof c&&(c=e,e=p),e?m(k,a,b,c):setTimeout(function(){m(k,a,b,c)},4),n},n.config=function(a){return n(a)},h._defined=v,(A=function(a,b,d){if("string"!=typeof a)throw Error("See almond README: incorrect module build, no module name");
b.splice||(d=b,b=[]);z.call(v,a)||z.call(x,a)||(x[a]=[a,b,d])}).amd={jQuery:!0},r.requirejs=h,r.require=l,r.define=A),r.define("almond",function(){}),r.define("jquery",[],function(){var b=a||$;return null==b&&console&&console.error&&console.error("Select2: An instance of jQuery or a jQuery-compatible library was not found. Make sure that you are including jQuery before Select2 on your web page."),b}),r.define("select2/utils",["jquery"],function(a){function b(a){var b;a=a.prototype;var g=[];for(b in a)"function"==
typeof a[b]&&"constructor"!==b&&g.push(b);return g}function d(){this.listeners={}}var c={Extend:function(a,b){function g(){this.constructor=a}var c,d={}.hasOwnProperty;for(c in b)d.call(b,c)&&(a[c]=b[c]);return g.prototype=b.prototype,a.prototype=new g,a.__super__=b.prototype,a},Decorate:function(a,c){function g(){var b=Array.prototype.unshift,g=a.prototype.constructor;0<c.prototype.constructor.length&&(b.call(arguments,a.prototype.constructor),g=c.prototype.constructor);g.apply(this,arguments)}var d=
b(c),p=b(a);c.displayName=a.displayName;g.prototype=new function(){this.constructor=g};for(var e=0;e<p.length;e++){var w=p[e];g.prototype[w]=a.prototype[w]}for(p=0;p<d.length;p++)e=d[p],g.prototype[e]=function(a){var b=function(){};a in g.prototype&&(b=g.prototype[a]);var d=c.prototype[a];return function(){return Array.prototype.unshift.call(arguments,b),d.apply(this,arguments)}}(e);return g}};d.prototype.on=function(a,b){this.listeners=this.listeners||{};a in this.listeners?this.listeners[a].push(b):
this.listeners[a]=[b]};d.prototype.trigger=function(a){var b=Array.prototype.slice,g=b.call(arguments,1);this.listeners=this.listeners||{};null==g&&(g=[]);0===g.length&&g.push({});(g[0]._type=a)in this.listeners&&this.invoke(this.listeners[a],b.call(arguments,1));"*"in this.listeners&&this.invoke(this.listeners["*"],arguments)};d.prototype.invoke=function(a,b){for(var g=0,c=a.length;g<c;g++)a[g].apply(this,b)};c.Observable=d;c.generateChars=function(a){for(var b="",g=0;g<a;g++)b+=Math.floor(36*Math.random()).toString(36);
return b};c.bind=function(a,b){return function(){a.apply(b,arguments)}};c._convertData=function(a){for(var b in a){var g=b.split("-"),c=a;if(1!==g.length){for(var d=0;d<g.length;d++){var p=g[d];(p=p.substring(0,1).toLowerCase()+p.substring(1))in c||(c[p]={});d==g.length-1&&(c[p]=a[b]);c=c[p]}delete a[b]}}return a};c.hasScroll=function(b,c){b=a(c);var g=c.style.overflowX,d=c.style.overflowY;return(g!==d||"hidden"!==d&&"visible"!==d)&&("scroll"===g||"scroll"===d||b.innerHeight()<c.scrollHeight||b.innerWidth()<
c.scrollWidth)};c.escapeMarkup=function(a){var b={"\\":"&#92;","&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;","/":"&#47;"};return"string"!=typeof a?a:String(a).replace(/[&<>"'\/\\]/g,function(a){return b[a]})};c.__cache={};var p=0;return c.GetUniqueElementId=function(a){var b=a.getAttribute("data-select2-id");return null!=b||(b=a.id?"select2-data-"+a.id:"select2-data-"+(++p).toString()+"-"+c.generateChars(4),a.setAttribute("data-select2-id",b)),b},c.StoreData=function(a,b,d){a=c.GetUniqueElementId(a);
c.__cache[a]||(c.__cache[a]={});c.__cache[a][b]=d},c.GetData=function(b,d){var g=c.GetUniqueElementId(b);return d?c.__cache[g]&&null!=c.__cache[g][d]?c.__cache[g][d]:a(b).data(d):c.__cache[g]},c.RemoveData=function(a){var b=c.GetUniqueElementId(a);null!=c.__cache[b]&&delete c.__cache[b];a.removeAttribute("data-select2-id")},c.copyNonInternalCssClasses=function(a,b){var c=(c=a.getAttribute("class").trim().split(/\s+/)).filter(function(a){return 0===a.indexOf("select2-")});b=(b=b.getAttribute("class").trim().split(/\s+/)).filter(function(a){return 0!==
a.indexOf("select2-")});b=c.concat(b);a.setAttribute("class",b.join(" "))},c}),r.define("select2/results",["jquery","./utils"],function(a,b){function c(a,b,g){this.$element=a;this.data=g;this.options=b;c.__super__.constructor.call(this)}return b.Extend(c,b.Observable),c.prototype.render=function(){var b=a('<ul class="select2-results__options" role="listbox"></ul>');return this.options.get("multiple")&&b.attr("aria-multiselectable","true"),this.$results=b},c.prototype.clear=function(){this.$results.empty()},
c.prototype.displayMessage=function(b){var c=this.options.get("escapeMarkup");this.clear();this.hideLoading();var g=a('<li role="alert" aria-live="assertive" class="select2-results__option"></li>'),d=this.options.get("translations").get(b.message);g.append(c(d(b.args)));g[0].className+=" select2-results__message";this.$results.append(g)},c.prototype.hideMessages=function(){this.$results.find(".select2-results__message").remove()},c.prototype.append=function(a){this.hideLoading();var b=[];if(null!=
a.results&&0!==a.results.length){a.results=this.sort(a.results);for(var c=0;c<a.results.length;c++){var d=a.results[c];d=this.option(d);b.push(d)}this.$results.append(b)}else 0===this.$results.children().length&&this.trigger("results:message",{message:"noResults"})},c.prototype.position=function(a,b){b.find(".select2-results").append(a)},c.prototype.sort=function(a){return this.options.get("sorter")(a)},c.prototype.highlightFirstItem=function(){var a=this.$results.find(".select2-results__option--selectable"),
b=a.filter(".select2-results__option--selected");(0<b.length?b:a).first().trigger("mouseenter");this.ensureHighlightVisible()},c.prototype.setClasses=function(){var c=this;this.data.current(function(d){var g=d.map(function(a){return a.id.toString()});c.$results.find(".select2-results__option--selectable").each(function(){var c=a(this),d=b.GetData(this,"data"),p=""+d.id;null!=d.element&&d.element.selected||null==d.element&&-1<g.indexOf(p)?(this.classList.add("select2-results__option--selected"),c.attr("aria-selected",
"true")):(this.classList.remove("select2-results__option--selected"),c.attr("aria-selected","false"))})})},c.prototype.showLoading=function(a){this.hideLoading();a={disabled:!0,loading:!0,text:this.options.get("translations").get("searching")(a)};a=this.option(a);a.className+=" loading-results";this.$results.prepend(a)},c.prototype.hideLoading=function(){this.$results.find(".loading-results").remove()},c.prototype.option=function(c){var d=document.createElement("li");d.classList.add("select2-results__option");
d.classList.add("select2-results__option--selectable");var g={role:"option"},e=window.Element.prototype.matches||window.Element.prototype.msMatchesSelector||window.Element.prototype.webkitMatchesSelector;for(w in(null!=c.element&&e.call(c.element,":disabled")||null==c.element&&c.disabled)&&(g["aria-disabled"]="true",d.classList.remove("select2-results__option--selectable"),d.classList.add("select2-results__option--disabled")),null==c.id&&d.classList.remove("select2-results__option--selectable"),null!=
c._resultId&&(d.id=c._resultId),c.title&&(d.title=c.title),c.children&&(g.role="group",g["aria-label"]=c.text,d.classList.remove("select2-results__option--selectable"),d.classList.add("select2-results__option--group")),g)d.setAttribute(w,g[w]);if(c.children){var w=a(d);g=document.createElement("strong");g.className="select2-results__group";this.template(c,g);var f=[];for(e=0;e<c.children.length;e++){var t=c.children[e];t=this.option(t);f.push(t)}e=a("<ul></ul>",{class:"select2-results__options select2-results__options--nested",
role:"none"});e.append(f);w.append(g);w.append(e)}else this.template(c,d);return b.StoreData(d,"data",c),d},c.prototype.bind=function(c,d){var g=this;this.$results.attr("id",c.id+"-results");c.on("results:all",function(a){g.clear();g.append(a.data);c.isOpen()&&(g.setClasses(),g.highlightFirstItem())});c.on("results:append",function(a){g.append(a.data);c.isOpen()&&g.setClasses()});c.on("query",function(a){g.hideMessages();g.showLoading(a)});c.on("select",function(){c.isOpen()&&(g.setClasses(),g.options.get("scrollAfterSelect")&&
g.highlightFirstItem())});c.on("unselect",function(){c.isOpen()&&(g.setClasses(),g.options.get("scrollAfterSelect")&&g.highlightFirstItem())});c.on("open",function(){g.$results.attr("aria-expanded","true");g.$results.attr("aria-hidden","false");g.setClasses();g.ensureHighlightVisible()});c.on("close",function(){g.$results.attr("aria-expanded","false");g.$results.attr("aria-hidden","true");g.$results.removeAttr("aria-activedescendant")});c.on("results:toggle",function(){var a=g.getHighlightedResults();
0!==a.length&&a.trigger("mouseup")});c.on("results:select",function(){var a,c=g.getHighlightedResults();0!==c.length&&(a=b.GetData(c[0],"data"),c.hasClass("select2-results__option--selected")?g.trigger("close",{}):g.trigger("select",{data:a}))});c.on("results:previous",function(){var a,b=g.getHighlightedResults(),c=g.$results.find(".select2-results__option--selectable"),d=c.index(b);0>=d||(a=d-1,0===b.length&&(a=0),(d=c.eq(a)).trigger("mouseenter"),b=g.$results.offset().top,c=d.offset().top,d=g.$results.scrollTop()+
(c-b),0===a?g.$results.scrollTop(0):0>c-b&&g.$results.scrollTop(d))});c.on("results:next",function(){var a,b=g.getHighlightedResults(),c=g.$results.find(".select2-results__option--selectable"),d=c.index(b)+1;d>=c.length||((a=c.eq(d)).trigger("mouseenter"),b=g.$results.offset().top+g.$results.outerHeight(!1),c=a.offset().top+a.outerHeight(!1),a=g.$results.scrollTop()+c-b,0===d?g.$results.scrollTop(0):b<c&&g.$results.scrollTop(a))});c.on("results:focus",function(a){a.element[0].classList.add("select2-results__option--highlighted");
a.element[0].setAttribute("aria-selected","true")});c.on("results:message",function(a){g.displayMessage(a)});a.fn.mousewheel&&this.$results.on("mousewheel",function(a){var b=g.$results.scrollTop(),c=g.$results.get(0).scrollHeight-b+a.deltaY;b=0<a.deltaY&&0>=b-a.deltaY;c=0>a.deltaY&&c<=g.$results.height();b?(g.$results.scrollTop(0),a.preventDefault(),a.stopPropagation()):c&&(g.$results.scrollTop(g.$results.get(0).scrollHeight-g.$results.height()),a.preventDefault(),a.stopPropagation())});this.$results.on("mouseup",
".select2-results__option--selectable",function(c){var d=a(this),e=b.GetData(this,"data");d.hasClass("select2-results__option--selected")?g.options.get("multiple")?g.trigger("unselect",{originalEvent:c,data:e}):g.trigger("close",{}):g.trigger("select",{originalEvent:c,data:e})});this.$results.on("mouseenter",".select2-results__option--selectable",function(c){c=b.GetData(this,"data");g.getHighlightedResults().removeClass("select2-results__option--highlighted").attr("aria-selected","false");g.trigger("results:focus",
{data:c,element:a(this)})})},c.prototype.getHighlightedResults=function(){return this.$results.find(".select2-results__option--highlighted")},c.prototype.destroy=function(){this.$results.remove()},c.prototype.ensureHighlightVisible=function(){var a,b,c,d,e=this.getHighlightedResults();0!==e.length&&(a=this.$results.find(".select2-results__option--selectable").index(e),d=this.$results.offset().top,b=e.offset().top,c=this.$results.scrollTop()+(b-d),d=b-d,c-=2*e.outerHeight(!1),2>=a?this.$results.scrollTop(0):
(d>this.$results.outerHeight()||0>d)&&this.$results.scrollTop(c))},c.prototype.template=function(b,c){var d=this.options.get("templateResult"),e=this.options.get("escapeMarkup");b=d(b,c);null==b?c.style.display="none":"string"==typeof b?c.innerHTML=e(b):a(c).append(b)},c}),r.define("select2/keys",[],function(){return{BACKSPACE:8,TAB:9,ENTER:13,SHIFT:16,CTRL:17,ALT:18,ESC:27,SPACE:32,PAGE_UP:33,PAGE_DOWN:34,END:35,HOME:36,LEFT:37,UP:38,RIGHT:39,DOWN:40,DELETE:46}}),r.define("select2/selection/base",
["jquery","../utils","../keys"],function(a,b,c){function d(a,b){this.$element=a;this.options=b;d.__super__.constructor.call(this)}return b.Extend(d,b.Observable),d.prototype.render=function(){var c=a('<span class="select2-selection" role="combobox"  aria-haspopup="true" aria-expanded="false"></span>');return this._tabindex=0,null!=b.GetData(this.$element[0],"old-tabindex")?this._tabindex=b.GetData(this.$element[0],"old-tabindex"):null!=this.$element.attr("tabindex")&&(this._tabindex=this.$element.attr("tabindex")),
c.attr("title",this.$element.attr("title")),c.attr("tabindex",this._tabindex),c.attr("aria-disabled","false"),this.$selection=c},d.prototype.bind=function(a,b){var d=this,g=a.id+"-results";this.container=a;this.$selection.on("focus",function(a){d.trigger("focus",a)});this.$selection.on("blur",function(a){d._handleBlur(a)});this.$selection.on("keydown",function(a){d.trigger("keypress",a);a.which===c.SPACE&&a.preventDefault()});a.on("results:focus",function(a){d.$selection.attr("aria-activedescendant",
a.data._resultId)});a.on("selection:update",function(a){d.update(a.data)});a.on("open",function(){d.$selection.attr("aria-expanded","true");d.$selection.attr("aria-owns",g);d._attachCloseHandler(a)});a.on("close",function(){d.$selection.attr("aria-expanded","false");d.$selection.removeAttr("aria-activedescendant");d.$selection.removeAttr("aria-owns");d.$selection.trigger("focus");d._detachCloseHandler(a)});a.on("enable",function(){d.$selection.attr("tabindex",d._tabindex);d.$selection.attr("aria-disabled",
"false")});a.on("disable",function(){d.$selection.attr("tabindex","-1");d.$selection.attr("aria-disabled","true")})},d.prototype._handleBlur=function(b){var c=this;window.setTimeout(function(){document.activeElement==c.$selection[0]||a.contains(c.$selection[0],document.activeElement)||c.trigger("blur",b)},1)},d.prototype._attachCloseHandler=function(c){a(document.body).on("mousedown.select2."+c.id,function(c){var d=a(c.target).closest(".select2");a(".select2.select2-container--open").each(function(){this!=
d[0]&&b.GetData(this,"element").select2("close")})})},d.prototype._detachCloseHandler=function(b){a(document.body).off("mousedown.select2."+b.id)},d.prototype.position=function(a,b){b.find(".selection").append(a)},d.prototype.destroy=function(){this._detachCloseHandler(this.container)},d.prototype.update=function(a){throw Error("The `update` method must be defined in child classes.");},d.prototype.isEnabled=function(){return!this.isDisabled()},d.prototype.isDisabled=function(){return this.options.get("disabled")},
d}),r.define("select2/selection/single",["jquery","./base","../utils","../keys"],function(a,b,c,d){function e(){e.__super__.constructor.apply(this,arguments)}return c.Extend(e,b),e.prototype.render=function(){var a=e.__super__.render.call(this);return a[0].classList.add("select2-selection--single"),a.html('<span class="select2-selection__rendered"></span><span class="select2-selection__arrow" role="presentation"><b role="presentation"></b></span>'),a},e.prototype.bind=function(a,b){var c=this;e.__super__.bind.apply(this,
arguments);var d=a.id+"-container";this.$selection.find(".select2-selection__rendered").attr("id",d).attr("role","textbox").attr("aria-readonly","true");this.$selection.attr("aria-labelledby",d);this.$selection.attr("aria-controls",d);this.$selection.on("mousedown",function(a){1===a.which&&c.trigger("toggle",{originalEvent:a})});this.$selection.on("focus",function(a){});this.$selection.on("blur",function(a){});a.on("focus",function(b){a.isOpen()||c.$selection.trigger("focus")})},e.prototype.clear=
function(){var a=this.$selection.find(".select2-selection__rendered");a.empty();a.removeAttr("title")},e.prototype.display=function(a,b){var c=this.options.get("templateSelection");return this.options.get("escapeMarkup")(c(a,b))},e.prototype.selectionContainer=function(){return a("<span></span>")},e.prototype.update=function(a){var b,c;0!==a.length?(c=a[0],b=this.$selection.find(".select2-selection__rendered"),a=this.display(c,b),b.empty().append(a),(c=c.title||c.text)?b.attr("title",c):b.removeAttr("title")):
this.clear()},e}),r.define("select2/selection/multiple",["jquery","./base","../utils"],function(a,b,c){function d(a,b){d.__super__.constructor.apply(this,arguments)}return c.Extend(d,b),d.prototype.render=function(){var a=d.__super__.render.call(this);return a[0].classList.add("select2-selection--multiple"),a.html('<ul class="select2-selection__rendered"></ul>'),a},d.prototype.bind=function(b,g){var e=this;d.__super__.bind.apply(this,arguments);var p=b.id+"-container";this.$selection.find(".select2-selection__rendered").attr("id",
p);this.$selection.on("click",function(a){e.trigger("toggle",{originalEvent:a})});this.$selection.on("click",".select2-selection__choice__remove",function(b){var d;e.isDisabled()||(d=a(this).parent(),d=c.GetData(d[0],"data"),e.trigger("unselect",{originalEvent:b,data:d}))});this.$selection.on("keydown",".select2-selection__choice__remove",function(a){e.isDisabled()||a.stopPropagation()})},d.prototype.clear=function(){var a=this.$selection.find(".select2-selection__rendered");a.empty();a.removeAttr("title")},
d.prototype.display=function(a,b){var c=this.options.get("templateSelection");return this.options.get("escapeMarkup")(c(a,b))},d.prototype.selectionContainer=function(){return a('<li class="select2-selection__choice"><button type="button" class="select2-selection__choice__remove" tabindex="-1"><span aria-hidden="true">&times;</span></button><span class="select2-selection__choice__display"></span></li>')},d.prototype.update=function(a){if(this.clear(),0!==a.length){for(var b=[],d=this.$selection.find(".select2-selection__rendered").attr("id")+
"-choice-",e=0;e<a.length;e++){var p=a[e],f=this.selectionContainer(),t=this.display(p,f),w=d+c.generateChars(4)+"-";p.id?w+=p.id:w+=c.generateChars(4);f.find(".select2-selection__choice__display").append(t).attr("id",w);var h=p.title||p.text;h&&f.attr("title",h);t=this.options.get("translations").get("removeItem");h=f.find(".select2-selection__choice__remove");h.attr("title",t());h.attr("aria-label",t());h.attr("aria-describedby",w);c.StoreData(f[0],"data",p);b.push(f)}this.$selection.find(".select2-selection__rendered").append(b)}},
d}),r.define("select2/selection/placeholder",[],function(){function a(a,b,c){this.placeholder=this.normalizePlaceholder(c.get("placeholder"));a.call(this,b,c)}return a.prototype.normalizePlaceholder=function(a,b){return"string"==typeof b&&(b={id:"",text:b}),b},a.prototype.createPlaceholder=function(a,b){a=this.selectionContainer();a.html(this.display(b));a[0].classList.add("select2-selection__placeholder");a[0].classList.remove("select2-selection__choice");b=b.title||b.text||a.text();return this.$selection.find(".select2-selection__rendered").attr("title",
b),a},a.prototype.update=function(a,b){var c=1==b.length&&b[0].id!=this.placeholder.id;if(1<b.length||c)return a.call(this,b);this.clear();b=this.createPlaceholder(this.placeholder);this.$selection.find(".select2-selection__rendered").append(b)},a}),r.define("select2/selection/allowClear",["jquery","../keys","../utils"],function(a,b,c){function d(){}return d.prototype.bind=function(a,b,c){var d=this;a.call(this,b,c);null==this.placeholder&&this.options.get("debug")&&window.console&&console.error&&
console.error("Select2: The `allowClear` option should be used in combination with the `placeholder` option.");this.$selection.on("mousedown",".select2-selection__clear",function(a){d._handleClear(a)});b.on("keypress",function(a){d._handleKeyboardClear(a,b)})},d.prototype._handleClear=function(a,b){if(!this.isDisabled()&&(a=this.$selection.find(".select2-selection__clear"),0!==a.length)){b.stopPropagation();b=c.GetData(a[0],"data");a=this.$element.val();this.$element.val(this.placeholder.id);var d=
{data:b};if(this.trigger("clear",d),d.prevented)this.$element.val(a);else{for(var e=0;e<b.length;e++)if(d={data:b[e]},this.trigger("unselect",d),d.prevented)return void this.$element.val(a);this.$element.trigger("input").trigger("change");this.trigger("toggle",{})}}},d.prototype._handleKeyboardClear=function(a,c,d){d.isOpen()||c.which!=b.DELETE&&c.which!=b.BACKSPACE||this._handleClear(c)},d.prototype.update=function(b,d){var e,g;b.call(this,d);this.$selection.find(".select2-selection__clear").remove();
this.$selection[0].classList.remove("select2-selection--clearable");0<this.$selection.find(".select2-selection__placeholder").length||0===d.length||(e=this.$selection.find(".select2-selection__rendered").attr("id"),g=this.options.get("translations").get("removeAllItems"),(b=a('<button type="button" class="select2-selection__clear" tabindex="-1"><span aria-hidden="true">&times;</span></button>')).attr("title",g()),b.attr("aria-label",g()),b.attr("aria-describedby",e),c.StoreData(b[0],"data",d),this.$selection.prepend(b),
this.$selection[0].classList.add("select2-selection--clearable"))},d}),r.define("select2/selection/search",["jquery","../utils","../keys"],function(a,b,c){function d(a,b,c){a.call(this,b,c)}return d.prototype.render=function(b){var c=this.options.get("translations").get("search"),d=a('<span class="select2-search select2-search--inline"><textarea class="select2-search__field" type="search" tabindex="-1" autocorrect="off" autocapitalize="none" spellcheck="false" role="searchbox" aria-autocomplete="list" ></textarea></span>');
this.$searchContainer=d;this.$search=d.find("textarea");this.$search.prop("autocomplete",this.options.get("autocomplete"));this.$search.attr("aria-label",c());b=b.call(this);return this._transferTabIndex(),b.append(this.$searchContainer),b},d.prototype.bind=function(a,d,e){var g=this,p=d.id+"-results",f=d.id+"-container";a.call(this,d,e);g.$search.attr("aria-describedby",f);d.on("open",function(){g.$search.attr("aria-controls",p);g.$search.trigger("focus")});d.on("close",function(){g.$search.val("");
g.resizeSearch();g.$search.removeAttr("aria-controls");g.$search.removeAttr("aria-activedescendant");g.$search.trigger("focus")});d.on("enable",function(){g.$search.prop("disabled",!1);g._transferTabIndex()});d.on("disable",function(){g.$search.prop("disabled",!0)});d.on("focus",function(a){g.$search.trigger("focus")});d.on("results:focus",function(a){a.data._resultId?g.$search.attr("aria-activedescendant",a.data._resultId):g.$search.removeAttr("aria-activedescendant")});this.$selection.on("focusin",
".select2-search--inline",function(a){g.trigger("focus",a)});this.$selection.on("focusout",".select2-search--inline",function(a){g._handleBlur(a)});this.$selection.on("keydown",".select2-search--inline",function(a){var d;a.stopPropagation();g.trigger("keypress",a);g._keyUpPrevented=a.isDefaultPrevented();a.which!==c.BACKSPACE||""!==g.$search.val()||0<(d=g.$selection.find(".select2-selection__choice").last()).length&&(d=b.GetData(d[0],"data"),g.searchRemoveChoice(d),a.preventDefault())});this.$selection.on("click",
".select2-search--inline",function(a){g.$search.val()&&a.stopPropagation()});var h=(d=document.documentMode)&&11>=d;this.$selection.on("input.searchcheck",".select2-search--inline",function(a){h?g.$selection.off("input.search input.searchcheck"):g.$selection.off("keyup.search")});this.$selection.on("keyup.search input.search",".select2-search--inline",function(a){var b;h&&"input"===a.type?g.$selection.off("input.search input.searchcheck"):(b=a.which)!=c.SHIFT&&b!=c.CTRL&&b!=c.ALT&&b!=c.TAB&&g.handleSearch(a)})},
d.prototype._transferTabIndex=function(a){this.$search.attr("tabindex",this.$selection.attr("tabindex"));this.$selection.attr("tabindex","-1")},d.prototype.createPlaceholder=function(a,b){this.$search.attr("placeholder",b.text)},d.prototype.update=function(a,b){var c=this.$search[0]==document.activeElement;this.$search.attr("placeholder","");a.call(this,b);this.resizeSearch();c&&this.$search.trigger("focus")},d.prototype.handleSearch=function(){var a;this.resizeSearch();this._keyUpPrevented||(a=this.$search.val(),
this.trigger("query",{term:a}));this._keyUpPrevented=!1},d.prototype.searchRemoveChoice=function(a,b){this.trigger("unselect",{data:b});this.$search.val(b.text);this.handleSearch()},d.prototype.resizeSearch=function(){this.$search.css("width","25px");var a="100%";""===this.$search.attr("placeholder")&&(a=.75*(this.$search.val().length+1)+"em");this.$search.css("width",a)},d}),r.define("select2/selection/selectionCss",["../utils"],function(a){function b(){}return b.prototype.render=function(b){var c=
b.call(this);b=this.options.get("selectionCssClass")||"";return-1!==b.indexOf(":all:")&&(b=b.replace(":all:",""),a.copyNonInternalCssClasses(c[0],this.$element[0])),c.addClass(b),c},b}),r.define("select2/selection/eventRelay",["jquery"],function(a){function b(){}return b.prototype.bind=function(b,c,d){var e=this,p="open opening close closing select selecting unselect unselecting clear clearing".split(" "),f=["opening","closing","selecting","unselecting","clearing"];b.call(this,c,d);c.on("*",function(b,
c){var d;-1!==p.indexOf(b)&&(c=c||{},d=a.Event("select2:"+b,{params:c}),e.$element.trigger(d),-1!==f.indexOf(b)&&(c.prevented=d.isDefaultPrevented()))})},b}),r.define("select2/translation",["jquery","require"],function(a,b){function c(a){this.dict=a||{}}return c.prototype.all=function(){return this.dict},c.prototype.get=function(a){return this.dict[a]},c.prototype.extend=function(b){this.dict=a.extend({},b.all(),this.dict)},c._cache={},c.loadPath=function(a){var d;return a in c._cache||(d=b(a),c._cache[a]=
d),new c(c._cache[a])},c}),r.define("select2/diacritics",[],function(){return{"\u24b6":"A","\uff21":"A","\u00c0":"A","\u00c1":"A","\u00c2":"A","\u1ea6":"A","\u1ea4":"A","\u1eaa":"A","\u1ea8":"A","\u00c3":"A","\u0100":"A","\u0102":"A","\u1eb0":"A","\u1eae":"A","\u1eb4":"A","\u1eb2":"A","\u0226":"A","\u01e0":"A","\u00c4":"A","\u01de":"A","\u1ea2":"A","\u00c5":"A","\u01fa":"A","\u01cd":"A","\u0200":"A","\u0202":"A","\u1ea0":"A","\u1eac":"A","\u1eb6":"A","\u1e00":"A","\u0104":"A","\u023a":"A","\u2c6f":"A",
"\ua732":"AA","\u00c6":"AE","\u01fc":"AE","\u01e2":"AE","\ua734":"AO","\ua736":"AU","\ua738":"AV","\ua73a":"AV","\ua73c":"AY","\u24b7":"B","\uff22":"B","\u1e02":"B","\u1e04":"B","\u1e06":"B","\u0243":"B","\u0182":"B","\u0181":"B","\u24b8":"C","\uff23":"C","\u0106":"C","\u0108":"C","\u010a":"C","\u010c":"C","\u00c7":"C","\u1e08":"C","\u0187":"C","\u023b":"C","\ua73e":"C","\u24b9":"D","\uff24":"D","\u1e0a":"D","\u010e":"D","\u1e0c":"D","\u1e10":"D","\u1e12":"D","\u1e0e":"D","\u0110":"D","\u018b":"D",
"\u018a":"D","\u0189":"D","\ua779":"D","\u01f1":"DZ","\u01c4":"DZ","\u01f2":"Dz","\u01c5":"Dz","\u24ba":"E","\uff25":"E","\u00c8":"E","\u00c9":"E","\u00ca":"E","\u1ec0":"E","\u1ebe":"E","\u1ec4":"E","\u1ec2":"E","\u1ebc":"E","\u0112":"E","\u1e14":"E","\u1e16":"E","\u0114":"E","\u0116":"E","\u00cb":"E","\u1eba":"E","\u011a":"E","\u0204":"E","\u0206":"E","\u1eb8":"E","\u1ec6":"E","\u0228":"E","\u1e1c":"E","\u0118":"E","\u1e18":"E","\u1e1a":"E","\u0190":"E","\u018e":"E","\u24bb":"F","\uff26":"F","\u1e1e":"F",
"\u0191":"F","\ua77b":"F","\u24bc":"G","\uff27":"G","\u01f4":"G","\u011c":"G","\u1e20":"G","\u011e":"G","\u0120":"G","\u01e6":"G","\u0122":"G","\u01e4":"G","\u0193":"G","\ua7a0":"G","\ua77d":"G","\ua77e":"G","\u24bd":"H","\uff28":"H","\u0124":"H","\u1e22":"H","\u1e26":"H","\u021e":"H","\u1e24":"H","\u1e28":"H","\u1e2a":"H","\u0126":"H","\u2c67":"H","\u2c75":"H","\ua78d":"H","\u24be":"I","\uff29":"I","\u00cc":"I","\u00cd":"I","\u00ce":"I","\u0128":"I","\u012a":"I","\u012c":"I","\u0130":"I","\u00cf":"I",
"\u1e2e":"I","\u1ec8":"I","\u01cf":"I","\u0208":"I","\u020a":"I","\u1eca":"I","\u012e":"I","\u1e2c":"I","\u0197":"I","\u24bf":"J","\uff2a":"J","\u0134":"J","\u0248":"J","\u24c0":"K","\uff2b":"K","\u1e30":"K","\u01e8":"K","\u1e32":"K","\u0136":"K","\u1e34":"K","\u0198":"K","\u2c69":"K","\ua740":"K","\ua742":"K","\ua744":"K","\ua7a2":"K","\u24c1":"L","\uff2c":"L","\u013f":"L","\u0139":"L","\u013d":"L","\u1e36":"L","\u1e38":"L","\u013b":"L","\u1e3c":"L","\u1e3a":"L","\u0141":"L","\u023d":"L","\u2c62":"L",
"\u2c60":"L","\ua748":"L","\ua746":"L","\ua780":"L","\u01c7":"LJ","\u01c8":"Lj","\u24c2":"M","\uff2d":"M","\u1e3e":"M","\u1e40":"M","\u1e42":"M","\u2c6e":"M","\u019c":"M","\u24c3":"N","\uff2e":"N","\u01f8":"N","\u0143":"N","\u00d1":"N","\u1e44":"N","\u0147":"N","\u1e46":"N","\u0145":"N","\u1e4a":"N","\u1e48":"N","\u0220":"N","\u019d":"N","\ua790":"N","\ua7a4":"N","\u01ca":"NJ","\u01cb":"Nj","\u24c4":"O","\uff2f":"O","\u00d2":"O","\u00d3":"O","\u00d4":"O","\u1ed2":"O","\u1ed0":"O","\u1ed6":"O","\u1ed4":"O",
"\u00d5":"O","\u1e4c":"O","\u022c":"O","\u1e4e":"O","\u014c":"O","\u1e50":"O","\u1e52":"O","\u014e":"O","\u022e":"O","\u0230":"O","\u00d6":"O","\u022a":"O","\u1ece":"O","\u0150":"O","\u01d1":"O","\u020c":"O","\u020e":"O","\u01a0":"O","\u1edc":"O","\u1eda":"O","\u1ee0":"O","\u1ede":"O","\u1ee2":"O","\u1ecc":"O","\u1ed8":"O","\u01ea":"O","\u01ec":"O","\u00d8":"O","\u01fe":"O","\u0186":"O","\u019f":"O","\ua74a":"O","\ua74c":"O","\u0152":"OE","\u01a2":"OI","\ua74e":"OO","\u0222":"OU","\u24c5":"P","\uff30":"P",
"\u1e54":"P","\u1e56":"P","\u01a4":"P","\u2c63":"P","\ua750":"P","\ua752":"P","\ua754":"P","\u24c6":"Q","\uff31":"Q","\ua756":"Q","\ua758":"Q","\u024a":"Q","\u24c7":"R","\uff32":"R","\u0154":"R","\u1e58":"R","\u0158":"R","\u0210":"R","\u0212":"R","\u1e5a":"R","\u1e5c":"R","\u0156":"R","\u1e5e":"R","\u024c":"R","\u2c64":"R","\ua75a":"R","\ua7a6":"R","\ua782":"R","\u24c8":"S","\uff33":"S","\u1e9e":"S","\u015a":"S","\u1e64":"S","\u015c":"S","\u1e60":"S","\u0160":"S","\u1e66":"S","\u1e62":"S","\u1e68":"S",
"\u0218":"S","\u015e":"S","\u2c7e":"S","\ua7a8":"S","\ua784":"S","\u24c9":"T","\uff34":"T","\u1e6a":"T","\u0164":"T","\u1e6c":"T","\u021a":"T","\u0162":"T","\u1e70":"T","\u1e6e":"T","\u0166":"T","\u01ac":"T","\u01ae":"T","\u023e":"T","\ua786":"T","\ua728":"TZ","\u24ca":"U","\uff35":"U","\u00d9":"U","\u00da":"U","\u00db":"U","\u0168":"U","\u1e78":"U","\u016a":"U","\u1e7a":"U","\u016c":"U","\u00dc":"U","\u01db":"U","\u01d7":"U","\u01d5":"U","\u01d9":"U","\u1ee6":"U","\u016e":"U","\u0170":"U","\u01d3":"U",
"\u0214":"U","\u0216":"U","\u01af":"U","\u1eea":"U","\u1ee8":"U","\u1eee":"U","\u1eec":"U","\u1ef0":"U","\u1ee4":"U","\u1e72":"U","\u0172":"U","\u1e76":"U","\u1e74":"U","\u0244":"U","\u24cb":"V","\uff36":"V","\u1e7c":"V","\u1e7e":"V","\u01b2":"V","\ua75e":"V","\u0245":"V","\ua760":"VY","\u24cc":"W","\uff37":"W","\u1e80":"W","\u1e82":"W","\u0174":"W","\u1e86":"W","\u1e84":"W","\u1e88":"W","\u2c72":"W","\u24cd":"X","\uff38":"X","\u1e8a":"X","\u1e8c":"X","\u24ce":"Y","\uff39":"Y","\u1ef2":"Y","\u00dd":"Y",
"\u0176":"Y","\u1ef8":"Y","\u0232":"Y","\u1e8e":"Y","\u0178":"Y","\u1ef6":"Y","\u1ef4":"Y","\u01b3":"Y","\u024e":"Y","\u1efe":"Y","\u24cf":"Z","\uff3a":"Z","\u0179":"Z","\u1e90":"Z","\u017b":"Z","\u017d":"Z","\u1e92":"Z","\u1e94":"Z","\u01b5":"Z","\u0224":"Z","\u2c7f":"Z","\u2c6b":"Z","\ua762":"Z","\u24d0":"a","\uff41":"a","\u1e9a":"a","\u00e0":"a","\u00e1":"a","\u00e2":"a","\u1ea7":"a","\u1ea5":"a","\u1eab":"a","\u1ea9":"a","\u00e3":"a","\u0101":"a","\u0103":"a","\u1eb1":"a","\u1eaf":"a","\u1eb5":"a",
"\u1eb3":"a","\u0227":"a","\u01e1":"a","\u00e4":"a","\u01df":"a","\u1ea3":"a","\u00e5":"a","\u01fb":"a","\u01ce":"a","\u0201":"a","\u0203":"a","\u1ea1":"a","\u1ead":"a","\u1eb7":"a","\u1e01":"a","\u0105":"a","\u2c65":"a","\u0250":"a","\ua733":"aa","\u00e6":"ae","\u01fd":"ae","\u01e3":"ae","\ua735":"ao","\ua737":"au","\ua739":"av","\ua73b":"av","\ua73d":"ay","\u24d1":"b","\uff42":"b","\u1e03":"b","\u1e05":"b","\u1e07":"b","\u0180":"b","\u0183":"b","\u0253":"b","\u24d2":"c","\uff43":"c","\u0107":"c",
"\u0109":"c","\u010b":"c","\u010d":"c","\u00e7":"c","\u1e09":"c","\u0188":"c","\u023c":"c","\ua73f":"c","\u2184":"c","\u24d3":"d","\uff44":"d","\u1e0b":"d","\u010f":"d","\u1e0d":"d","\u1e11":"d","\u1e13":"d","\u1e0f":"d","\u0111":"d","\u018c":"d","\u0256":"d","\u0257":"d","\ua77a":"d","\u01f3":"dz","\u01c6":"dz","\u24d4":"e","\uff45":"e","\u00e8":"e","\u00e9":"e","\u00ea":"e","\u1ec1":"e","\u1ebf":"e","\u1ec5":"e","\u1ec3":"e","\u1ebd":"e","\u0113":"e","\u1e15":"e","\u1e17":"e","\u0115":"e","\u0117":"e",
"\u00eb":"e","\u1ebb":"e","\u011b":"e","\u0205":"e","\u0207":"e","\u1eb9":"e","\u1ec7":"e","\u0229":"e","\u1e1d":"e","\u0119":"e","\u1e19":"e","\u1e1b":"e","\u0247":"e","\u025b":"e","\u01dd":"e","\u24d5":"f","\uff46":"f","\u1e1f":"f","\u0192":"f","\ua77c":"f","\u24d6":"g","\uff47":"g","\u01f5":"g","\u011d":"g","\u1e21":"g","\u011f":"g","\u0121":"g","\u01e7":"g","\u0123":"g","\u01e5":"g","\u0260":"g","\ua7a1":"g","\u1d79":"g","\ua77f":"g","\u24d7":"h","\uff48":"h","\u0125":"h","\u1e23":"h","\u1e27":"h",
"\u021f":"h","\u1e25":"h","\u1e29":"h","\u1e2b":"h","\u1e96":"h","\u0127":"h","\u2c68":"h","\u2c76":"h","\u0265":"h","\u0195":"hv","\u24d8":"i","\uff49":"i","\u00ec":"i","\u00ed":"i","\u00ee":"i","\u0129":"i","\u012b":"i","\u012d":"i","\u00ef":"i","\u1e2f":"i","\u1ec9":"i","\u01d0":"i","\u0209":"i","\u020b":"i","\u1ecb":"i","\u012f":"i","\u1e2d":"i","\u0268":"i","\u0131":"i","\u24d9":"j","\uff4a":"j","\u0135":"j","\u01f0":"j","\u0249":"j","\u24da":"k","\uff4b":"k","\u1e31":"k","\u01e9":"k","\u1e33":"k",
"\u0137":"k","\u1e35":"k","\u0199":"k","\u2c6a":"k","\ua741":"k","\ua743":"k","\ua745":"k","\ua7a3":"k","\u24db":"l","\uff4c":"l","\u0140":"l","\u013a":"l","\u013e":"l","\u1e37":"l","\u1e39":"l","\u013c":"l","\u1e3d":"l","\u1e3b":"l","\u017f":"l","\u0142":"l","\u019a":"l","\u026b":"l","\u2c61":"l","\ua749":"l","\ua781":"l","\ua747":"l","\u01c9":"lj","\u24dc":"m","\uff4d":"m","\u1e3f":"m","\u1e41":"m","\u1e43":"m","\u0271":"m","\u026f":"m","\u24dd":"n","\uff4e":"n","\u01f9":"n","\u0144":"n","\u00f1":"n",
"\u1e45":"n","\u0148":"n","\u1e47":"n","\u0146":"n","\u1e4b":"n","\u1e49":"n","\u019e":"n","\u0272":"n","\u0149":"n","\ua791":"n","\ua7a5":"n","\u01cc":"nj","\u24de":"o","\uff4f":"o","\u00f2":"o","\u00f3":"o","\u00f4":"o","\u1ed3":"o","\u1ed1":"o","\u1ed7":"o","\u1ed5":"o","\u00f5":"o","\u1e4d":"o","\u022d":"o","\u1e4f":"o","\u014d":"o","\u1e51":"o","\u1e53":"o","\u014f":"o","\u022f":"o","\u0231":"o","\u00f6":"o","\u022b":"o","\u1ecf":"o","\u0151":"o","\u01d2":"o","\u020d":"o","\u020f":"o","\u01a1":"o",
"\u1edd":"o","\u1edb":"o","\u1ee1":"o","\u1edf":"o","\u1ee3":"o","\u1ecd":"o","\u1ed9":"o","\u01eb":"o","\u01ed":"o","\u00f8":"o","\u01ff":"o","\u0254":"o","\ua74b":"o","\ua74d":"o","\u0275":"o","\u0153":"oe","\u01a3":"oi","\u0223":"ou","\ua74f":"oo","\u24df":"p","\uff50":"p","\u1e55":"p","\u1e57":"p","\u01a5":"p","\u1d7d":"p","\ua751":"p","\ua753":"p","\ua755":"p","\u24e0":"q","\uff51":"q","\u024b":"q","\ua757":"q","\ua759":"q","\u24e1":"r","\uff52":"r","\u0155":"r","\u1e59":"r","\u0159":"r","\u0211":"r",
"\u0213":"r","\u1e5b":"r","\u1e5d":"r","\u0157":"r","\u1e5f":"r","\u024d":"r","\u027d":"r","\ua75b":"r","\ua7a7":"r","\ua783":"r","\u24e2":"s","\uff53":"s","\u00df":"s","\u015b":"s","\u1e65":"s","\u015d":"s","\u1e61":"s","\u0161":"s","\u1e67":"s","\u1e63":"s","\u1e69":"s","\u0219":"s","\u015f":"s","\u023f":"s","\ua7a9":"s","\ua785":"s","\u1e9b":"s","\u24e3":"t","\uff54":"t","\u1e6b":"t","\u1e97":"t","\u0165":"t","\u1e6d":"t","\u021b":"t","\u0163":"t","\u1e71":"t","\u1e6f":"t","\u0167":"t","\u01ad":"t",
"\u0288":"t","\u2c66":"t","\ua787":"t","\ua729":"tz","\u24e4":"u","\uff55":"u","\u00f9":"u","\u00fa":"u","\u00fb":"u","\u0169":"u","\u1e79":"u","\u016b":"u","\u1e7b":"u","\u016d":"u","\u00fc":"u","\u01dc":"u","\u01d8":"u","\u01d6":"u","\u01da":"u","\u1ee7":"u","\u016f":"u","\u0171":"u","\u01d4":"u","\u0215":"u","\u0217":"u","\u01b0":"u","\u1eeb":"u","\u1ee9":"u","\u1eef":"u","\u1eed":"u","\u1ef1":"u","\u1ee5":"u","\u1e73":"u","\u0173":"u","\u1e77":"u","\u1e75":"u","\u0289":"u","\u24e5":"v","\uff56":"v",
"\u1e7d":"v","\u1e7f":"v","\u028b":"v","\ua75f":"v","\u028c":"v","\ua761":"vy","\u24e6":"w","\uff57":"w","\u1e81":"w","\u1e83":"w","\u0175":"w","\u1e87":"w","\u1e85":"w","\u1e98":"w","\u1e89":"w","\u2c73":"w","\u24e7":"x","\uff58":"x","\u1e8b":"x","\u1e8d":"x","\u24e8":"y","\uff59":"y","\u1ef3":"y","\u00fd":"y","\u0177":"y","\u1ef9":"y","\u0233":"y","\u1e8f":"y","\u00ff":"y","\u1ef7":"y","\u1e99":"y","\u1ef5":"y","\u01b4":"y","\u024f":"y","\u1eff":"y","\u24e9":"z","\uff5a":"z","\u017a":"z","\u1e91":"z",
"\u017c":"z","\u017e":"z","\u1e93":"z","\u1e95":"z","\u01b6":"z","\u0225":"z","\u0240":"z","\u2c6c":"z","\ua763":"z","\u0386":"\u0391","\u0388":"\u0395","\u0389":"\u0397","\u038a":"\u0399","\u03aa":"\u0399","\u038c":"\u039f","\u038e":"\u03a5","\u03ab":"\u03a5","\u038f":"\u03a9","\u03ac":"\u03b1","\u03ad":"\u03b5","\u03ae":"\u03b7","\u03af":"\u03b9","\u03ca":"\u03b9","\u0390":"\u03b9","\u03cc":"\u03bf","\u03cd":"\u03c5","\u03cb":"\u03c5","\u03b0":"\u03c5","\u03ce":"\u03c9","\u03c2":"\u03c3","\u2019":"'"}}),
r.define("select2/data/base",["../utils"],function(a){function b(a,c){b.__super__.constructor.call(this)}return a.Extend(b,a.Observable),b.prototype.current=function(a){throw Error("The `current` method must be defined in child classes.");},b.prototype.query=function(a,b){throw Error("The `query` method must be defined in child classes.");},b.prototype.bind=function(a,b){},b.prototype.destroy=function(){},b.prototype.generateResultId=function(b,c){b=b.id+"-result-";return b+=a.generateChars(4),null!=
c.id?b+="-"+c.id.toString():b+="-"+a.generateChars(4),b},b}),r.define("select2/data/select",["./base","../utils","jquery"],function(a,b,c){function d(a,b){this.$element=a;this.options=b;d.__super__.constructor.call(this)}return b.Extend(d,a),d.prototype.current=function(a){var b=this;a(Array.prototype.map.call(this.$element[0].querySelectorAll(":checked"),function(a){return b.item(c(a))}))},d.prototype.select=function(a){var b,c=this;if(a.selected=!0,null!=a.element&&"option"===a.element.tagName.toLowerCase())return a.element.selected=
!0,void this.$element.trigger("input").trigger("change");this.$element.prop("multiple")?this.current(function(b){var d=[];(a=[a]).push.apply(a,b);for(b=0;b<a.length;b++){var e=a[b].id;-1===d.indexOf(e)&&d.push(e)}c.$element.val(d);c.$element.trigger("input").trigger("change")}):(b=a.id,this.$element.val(b),this.$element.trigger("input").trigger("change"))},d.prototype.unselect=function(a){var b=this;if(this.$element.prop("multiple")){if(a.selected=!1,null!=a.element&&"option"===a.element.tagName.toLowerCase())return a.element.selected=
!1,void this.$element.trigger("input").trigger("change");this.current(function(c){for(var d=[],e=0;e<c.length;e++){var g=c[e].id;g!==a.id&&-1===d.indexOf(g)&&d.push(g)}b.$element.val(d);b.$element.trigger("input").trigger("change")})}},d.prototype.bind=function(a,b){var c=this;(this.container=a).on("select",function(a){c.select(a.data)});a.on("unselect",function(a){c.unselect(a.data)})},d.prototype.destroy=function(){this.$element.find("*").each(function(){b.RemoveData(this)})},d.prototype.query=
function(a,b){var d=[],e=this;this.$element.children().each(function(){var b;"option"!==this.tagName.toLowerCase()&&"optgroup"!==this.tagName.toLowerCase()||(b=c(this),b=e.item(b),null!==(b=e.matches(a,b))&&d.push(b))});b({results:d})},d.prototype.addOptions=function(a){this.$element.append(a)},d.prototype.option=function(a){var d;a.children?(d=document.createElement("optgroup")).label=a.text:void 0!==(d=document.createElement("option")).textContent?d.textContent=a.text:d.innerText=a.text;void 0!==
a.id&&(d.value=a.id);a.disabled&&(d.disabled=!0);a.selected&&(d.selected=!0);a.title&&(d.title=a.title);a=this._normalizeItem(a);return a.element=d,b.StoreData(d,"data",a),c(d)},d.prototype.item=function(a){var d;if(null!=(d=b.GetData(a[0],"data")))return d;var e=a[0];if("option"===e.tagName.toLowerCase())d={id:a.val(),text:a.text(),disabled:a.prop("disabled"),selected:a.prop("selected"),title:a.prop("title")};else if("optgroup"===e.tagName.toLowerCase()){d={text:a.prop("label"),children:[],title:a.prop("title")};
e=a.children("option");for(var f=[],h=0;h<e.length;h++){var p=c(e[h]);p=this.item(p);f.push(p)}d.children=f}return(d=this._normalizeItem(d)).element=a[0],b.StoreData(a[0],"data",d),d},d.prototype._normalizeItem=function(a){a!==Object(a)&&(a={id:a,text:a});return null!=(a=c.extend({},{text:""},a)).id&&(a.id=a.id.toString()),null!=a.text&&(a.text=a.text.toString()),null==a._resultId&&a.id&&null!=this.container&&(a._resultId=this.generateResultId(this.container,a)),c.extend({},{selected:!1,disabled:!1},
a)},d.prototype.matches=function(a,b){return this.options.get("matcher")(a,b)},d}),r.define("select2/data/array",["./select","../utils","jquery"],function(a,b,c){function d(a,b){this._dataToConvert=b.get("data")||[];d.__super__.constructor.call(this,a,b)}return b.Extend(d,a),d.prototype.bind=function(a,b){d.__super__.bind.call(this,a,b);this.addOptions(this.convertToOptions(this._dataToConvert))},d.prototype.select=function(a){var b=this.$element.find("option").filter(function(b,c){return c.value==
a.id.toString()});0===b.length&&(b=this.option(a),this.addOptions(b));d.__super__.select.call(this,a)},d.prototype.convertToOptions=function(a){for(var b=this,d=this.$element.find("option"),e=d.map(function(){return b.item(c(this)).id}).get(),f=[],h=0;h<a.length;h++){var p,t,w=this._normalizeItem(a[h]);0<=e.indexOf(w.id)?(p=d.filter(function(a){return function(){return c(this).val()==a.id}}(w)),t=this.item(p),t=c.extend(!0,{},w,t),t=this.option(t),p.replaceWith(t)):(t=this.option(w),w.children&&(w=
this.convertToOptions(w.children),t.append(w)),f.push(t))}return f},d}),r.define("select2/data/ajax",["./array","../utils","jquery"],function(a,b,c){function d(a,b){this.ajaxOptions=this._applyDefaults(b.get("ajax"));null!=this.ajaxOptions.processResults&&(this.processResults=this.ajaxOptions.processResults);d.__super__.constructor.call(this,a,b)}return b.Extend(d,a),d.prototype._applyDefaults=function(a){return c.extend({},{data:function(a){return c.extend({},a,{q:a.term})},transport:function(a,
b,d){a=c.ajax(a);return a.then(b),a.fail(d),a}},a,!0)},d.prototype.processResults=function(a){return a},d.prototype.query=function(a,b){function d(){var d=g.transport(g,function(d){d=e.processResults(d,a);e.options.get("debug")&&window.console&&console.error&&(d&&d.results&&Array.isArray(d.results)||console.error("Select2: The AJAX results did not return an array in the `results` key of the response."));b(d)},function(){"status"in d&&(0===d.status||"0"===d.status)||e.trigger("results:message",{message:"errorLoading"})});
e._request=d}var e=this;null!=this._request&&("function"==typeof this._request.abort&&this._request.abort(),this._request=null);var g=c.extend({type:"GET"},this.ajaxOptions);"function"==typeof g.url&&(g.url=g.url.call(this.$element,a));"function"==typeof g.data&&(g.data=g.data.call(this.$element,a));this.ajaxOptions.delay&&null!=a.term?(this._queryTimeout&&window.clearTimeout(this._queryTimeout),this._queryTimeout=window.setTimeout(d,this.ajaxOptions.delay)):d()},d}),r.define("select2/data/tags",
["jquery"],function(a){function b(a,b,d){var c=d.get("tags"),e=d.get("createTag");void 0!==e&&(this.createTag=e);e=d.get("insertTag");if(void 0!==e&&(this.insertTag=e),a.call(this,b,d),Array.isArray(c))for(a=0;a<c.length;a++)b=c[a],b=this._normalizeItem(b),b=this.option(b),this.$element.append(b)}return b.prototype.query=function(a,b,d){var c=this;this._removeOldTags();null!=b.term&&null==b.page?a.call(this,b,function I(a,e){for(var g=a.results,f=0;f<g.length;f++){var h=g[f],p=null!=h.children&&!I({results:h.children},
!0);if((h.text||"").toUpperCase()===(b.term||"").toUpperCase()||p)return!e&&(a.data=g,void d(a))}if(e)return!0;var t;e=c.createTag(b);null!=e&&((t=c.option(e)).attr("data-select2-tag","true"),c.addOptions([t]),c.insertTag(g,e));a.results=g;d(a)}):a.call(this,b,d)},b.prototype.createTag=function(a,b){if(null==b.term)return null;b=b.term.trim();return""===b?null:{id:b,text:b}},b.prototype.insertTag=function(a,b,d){b.unshift(d)},b.prototype._removeOldTags=function(b){this.$element.find("option[data-select2-tag]").each(function(){this.selected||
a(this).remove()})},b}),r.define("select2/data/tokenizer",["jquery"],function(a){function b(a,b,d){var c=d.get("tokenizer");void 0!==c&&(this.tokenizer=c);a.call(this,b,d)}return b.prototype.bind=function(a,b,d){a.call(this,b,d);this.$search=b.dropdown.$search||b.selection.$search||d.find(".select2-search__field")},b.prototype.query=function(b,d,c){var e=this;d.term=d.term||"";var f=this.tokenizer(d,this.options,function(b){var d,c=e._normalizeItem(b);e.$element.find("option").filter(function(){return a(this).val()===
c.id}).length||((d=e.option(c)).attr("data-select2-tag",!0),e._removeOldTags(),e.addOptions([d]));e.trigger("select",{data:c})});f.term!==d.term&&(this.$search.length&&(this.$search.val(f.term),this.$search.trigger("focus")),d.term=f.term);b.call(this,d,c)},b.prototype.tokenizer=function(b,d,c,e){b=c.get("tokenSeparators")||[];c=d.term;for(var g=0,f=this.createTag||function(a){return{id:a.term,text:a.term}};g<c.length;){var h=c[g];-1!==b.indexOf(h)?(h=c.substr(0,g),null!=(h=f(a.extend({},d,{term:h})))?
(e(h),c=c.substr(g+1)||"",g=0):g++):g++}return{term:c}},b}),r.define("select2/data/minimumInputLength",[],function(){function a(a,b,d){this.minimumInputLength=d.get("minimumInputLength");a.call(this,b,d)}return a.prototype.query=function(a,b,d){b.term=b.term||"";b.term.length<this.minimumInputLength?this.trigger("results:message",{message:"inputTooShort",args:{minimum:this.minimumInputLength,input:b.term,params:b}}):a.call(this,b,d)},a}),r.define("select2/data/maximumInputLength",[],function(){function a(a,
b,d){this.maximumInputLength=d.get("maximumInputLength");a.call(this,b,d)}return a.prototype.query=function(a,b,d){b.term=b.term||"";0<this.maximumInputLength&&b.term.length>this.maximumInputLength?this.trigger("results:message",{message:"inputTooLong",args:{maximum:this.maximumInputLength,input:b.term,params:b}}):a.call(this,b,d)},a}),r.define("select2/data/maximumSelectionLength",[],function(){function a(a,b,d){this.maximumSelectionLength=d.get("maximumSelectionLength");a.call(this,b,d)}return a.prototype.bind=
function(a,b,d){var c=this;a.call(this,b,d);b.on("select",function(){c._checkIfMaximumSelected()})},a.prototype.query=function(a,b,d){var c=this;this._checkIfMaximumSelected(function(){a.call(c,b,d)})},a.prototype._checkIfMaximumSelected=function(a,b){var d=this;this.current(function(a){a=null!=a?a.length:0;0<d.maximumSelectionLength&&a>=d.maximumSelectionLength?d.trigger("results:message",{message:"maximumSelected",args:{maximum:d.maximumSelectionLength}}):b&&b()})},a}),r.define("select2/dropdown",
["jquery","./utils"],function(a,b){function d(a,b){this.$element=a;this.options=b;d.__super__.constructor.call(this)}return b.Extend(d,b.Observable),d.prototype.render=function(){var b=a('<span class="select2-dropdown"><span class="select2-results"></span></span>');return b.attr("dir",this.options.get("dir")),this.$dropdown=b},d.prototype.bind=function(){},d.prototype.position=function(a,b){},d.prototype.destroy=function(){this.$dropdown.remove()},d}),r.define("select2/dropdown/search",["jquery"],
function(a){function b(){}return b.prototype.render=function(b){var d=b.call(this),c=this.options.get("translations").get("search");b=a('<span class="select2-search select2-search--dropdown"><input class="select2-search__field" type="search" tabindex="-1" autocorrect="off" autocapitalize="none" spellcheck="false" role="searchbox" aria-autocomplete="list" /></span>');return this.$searchContainer=b,this.$search=b.find("input"),this.$search.prop("autocomplete",this.options.get("autocomplete")),this.$search.attr("aria-label",
c()),d.prepend(b),d},b.prototype.bind=function(b,d,c){var e=this,f=d.id+"-results";b.call(this,d,c);this.$search.on("keydown",function(a){e.trigger("keypress",a);e._keyUpPrevented=a.isDefaultPrevented()});this.$search.on("input",function(b){a(this).off("keyup")});this.$search.on("keyup input",function(a){e.handleSearch(a)});d.on("open",function(){e.$search.attr("tabindex",0);e.$search.attr("aria-controls",f);e.$search.trigger("focus");window.setTimeout(function(){e.$search.trigger("focus")},0)});
d.on("close",function(){e.$search.attr("tabindex",-1);e.$search.removeAttr("aria-controls");e.$search.removeAttr("aria-activedescendant");e.$search.val("");e.$search.trigger("blur")});d.on("focus",function(){d.isOpen()||e.$search.trigger("focus")});d.on("results:all",function(a){null!=a.query.term&&""!==a.query.term||(e.showSearch(a)?e.$searchContainer[0].classList.remove("select2-search--hide"):e.$searchContainer[0].classList.add("select2-search--hide"))});d.on("results:focus",function(a){a.data._resultId?
e.$search.attr("aria-activedescendant",a.data._resultId):e.$search.removeAttr("aria-activedescendant")})},b.prototype.handleSearch=function(a){var b;this._keyUpPrevented||(b=this.$search.val(),this.trigger("query",{term:b}));this._keyUpPrevented=!1},b.prototype.showSearch=function(a,b){return!0},b}),r.define("select2/dropdown/hidePlaceholder",[],function(){function a(a,b,d,c){this.placeholder=this.normalizePlaceholder(d.get("placeholder"));a.call(this,b,d,c)}return a.prototype.append=function(a,b){b.results=
this.removePlaceholder(b.results);a.call(this,b)},a.prototype.normalizePlaceholder=function(a,b){return"string"==typeof b&&(b={id:"",text:b}),b},a.prototype.removePlaceholder=function(a,b){a=b.slice(0);for(var d=b.length-1;0<=d;d--)this.placeholder.id===b[d].id&&a.splice(d,1);return a},a}),r.define("select2/dropdown/infiniteScroll",["jquery"],function(a){function b(a,b,d,c){this.lastParams={};a.call(this,b,d,c);this.$loadingMore=this.createLoadingMore();this.loading=!1}return b.prototype.append=function(a,
b){this.$loadingMore.remove();this.loading=!1;a.call(this,b);this.showLoadingMore(b)&&(this.$results.append(this.$loadingMore),this.loadMoreIfNeeded())},b.prototype.bind=function(a,b,d){var c=this;a.call(this,b,d);b.on("query",function(a){c.lastParams=a;c.loading=!0});b.on("query:append",function(a){c.lastParams=a;c.loading=!0});this.$results.on("scroll",this.loadMoreIfNeeded.bind(this))},b.prototype.loadMoreIfNeeded=function(){var b=a.contains(document.documentElement,this.$loadingMore[0]);!this.loading&&
b&&(b=this.$results.offset().top+this.$results.outerHeight(!1),this.$loadingMore.offset().top+this.$loadingMore.outerHeight(!1)<=b+50&&this.loadMore())},b.prototype.loadMore=function(){this.loading=!0;var b=a.extend({},{page:1},this.lastParams);b.page++;this.trigger("query:append",b)},b.prototype.showLoadingMore=function(a,b){return b.pagination&&b.pagination.more},b.prototype.createLoadingMore=function(){var b=a('<li class="select2-results__option select2-results__option--load-more"role="option" aria-disabled="true"></li>'),
d=this.options.get("translations").get("loadingMore");return b.html(d(this.lastParams)),b},b}),r.define("select2/dropdown/attachBody",["jquery","../utils"],function(a,b){function d(b,d,c){this.$dropdownParent=a(c.get("dropdownParent")||document.body);b.call(this,d,c)}return d.prototype.bind=function(a,b,d){var c=this;a.call(this,b,d);b.on("open",function(){c._showDropdown();c._attachPositioningHandler(b);c._bindContainerResultHandlers(b)});b.on("close",function(){c._hideDropdown();c._detachPositioningHandler(b)});
this.$dropdownContainer.on("mousedown",function(a){a.stopPropagation()})},d.prototype.destroy=function(a){a.call(this);this.$dropdownContainer.remove()},d.prototype.position=function(a,b,d){b.attr("class",d.attr("class"));b[0].classList.remove("select2");b[0].classList.add("select2-container--open");b.css({position:"absolute",top:-999999});this.$container=d},d.prototype.render=function(b){var d=a("<span></span>");b=b.call(this);return d.append(b),this.$dropdownContainer=d},d.prototype._hideDropdown=
function(a){this.$dropdownContainer.detach()},d.prototype._bindContainerResultHandlers=function(a,b){var d;this._containerResultsHandlersBound||(d=this,b.on("results:all",function(){d._positionDropdown();d._resizeDropdown()}),b.on("results:append",function(){d._positionDropdown();d._resizeDropdown()}),b.on("results:message",function(){d._positionDropdown();d._resizeDropdown()}),b.on("select",function(){d._positionDropdown();d._resizeDropdown()}),b.on("unselect",function(){d._positionDropdown();d._resizeDropdown()}),
this._containerResultsHandlersBound=!0)},d.prototype._attachPositioningHandler=function(d,c){var e=this;d="scroll.select2."+c.id;var f="resize.select2."+c.id,h="orientationchange.select2."+c.id;c=this.$container.parents().filter(b.hasScroll);c.each(function(){b.StoreData(this,"select2-scroll-position",{x:a(this).scrollLeft(),y:a(this).scrollTop()})});c.on(d,function(d){d=b.GetData(this,"select2-scroll-position");a(this).scrollTop(d.y)});a(window).on(d+" "+f+" "+h,function(a){e._positionDropdown();
e._resizeDropdown()})},d.prototype._detachPositioningHandler=function(d,c){d="scroll.select2."+c.id;var e="resize.select2."+c.id;c="orientationchange.select2."+c.id;this.$container.parents().filter(b.hasScroll).off(d);a(window).off(d+" "+e+" "+c)},d.prototype._positionDropdown=function(){var b=a(window),d=this.$dropdown[0].classList.contains("select2-dropdown--above"),c=this.$dropdown[0].classList.contains("select2-dropdown--below"),e=null,f=this.$container.offset();f.bottom=f.top+this.$container.outerHeight(!1);
var h=this.$container.outerHeight(!1);var l=f.top;h=f.top+h;var m=this.$dropdown.outerHeight(!1),k=b.scrollTop(),t=b.scrollTop()+b.height(),n=k<f.top-m;b=t>f.bottom+m;k={left:f.left,top:h};t=this.$dropdownParent;"static"===t.css("position")&&(t=t.offsetParent());f={top:0,left:0};(a.contains(document.body,t[0])||t[0].isConnected)&&(f=t.offset());k.top-=f.top;k.left-=f.left;d||c||(e="below");b||!n||d?!n&&b&&d&&(e="below"):e="above";("above"==e||d&&"below"!==e)&&(k.top=l-f.top-m);null!=e&&(this.$dropdown[0].classList.remove("select2-dropdown--below"),
this.$dropdown[0].classList.remove("select2-dropdown--above"),this.$dropdown[0].classList.add("select2-dropdown--"+e),this.$container[0].classList.remove("select2-container--below"),this.$container[0].classList.remove("select2-container--above"),this.$container[0].classList.add("select2-container--"+e));this.$dropdownContainer.css(k)},d.prototype._resizeDropdown=function(){var a={width:this.$container.outerWidth(!1)+"px"};this.options.get("dropdownAutoWidth")&&(a.minWidth=a.width,a.position="relative",
a.width="auto");this.$dropdown.css(a)},d.prototype._showDropdown=function(a){this.$dropdownContainer.appendTo(this.$dropdownParent);this._positionDropdown();this._resizeDropdown()},d}),r.define("select2/dropdown/minimumResultsForSearch",[],function(){function a(a,b,d,c){this.minimumResultsForSearch=d.get("minimumResultsForSearch");0>this.minimumResultsForSearch&&(this.minimumResultsForSearch=1/0);a.call(this,b,d,c)}return a.prototype.showSearch=function(a,b){return!(function g(a){for(var b=0,d=0;d<
a.length;d++){var c=a[d];c.children?b+=g(c.children):b++}return b}(b.data.results)<this.minimumResultsForSearch)&&a.call(this,b)},a}),r.define("select2/dropdown/selectOnClose",["../utils"],function(a){function b(){}return b.prototype.bind=function(a,b,d){var c=this;a.call(this,b,d);b.on("close",function(a){c._handleSelectOnClose(a)})},b.prototype._handleSelectOnClose=function(b,d){if(d&&null!=d.originalSelect2Event&&(b=d.originalSelect2Event,"select"===b._type||"unselect"===b._type))return;b=this.getHighlightedResults();
1>b.length||null!=(b=a.GetData(b[0],"data")).element&&b.element.selected||null==b.element&&b.selected||this.trigger("select",{data:b})},b}),r.define("select2/dropdown/closeOnSelect",[],function(){function a(){}return a.prototype.bind=function(a,b,d){var c=this;a.call(this,b,d);b.on("select",function(a){c._selectTriggered(a)});b.on("unselect",function(a){c._selectTriggered(a)})},a.prototype._selectTriggered=function(a,b){(a=b.originalEvent)&&(a.ctrlKey||a.metaKey)||this.trigger("close",{originalEvent:a,
originalSelect2Event:b})},a}),r.define("select2/dropdown/dropdownCss",["../utils"],function(a){function b(){}return b.prototype.render=function(b){var d=b.call(this);b=this.options.get("dropdownCssClass")||"";return-1!==b.indexOf(":all:")&&(b=b.replace(":all:",""),a.copyNonInternalCssClasses(d[0],this.$element[0])),d.addClass(b),d},b}),r.define("select2/dropdown/tagsSearchHighlight",["../utils"],function(a){function b(){}return b.prototype.highlightFirstItem=function(b){var d=this.$results.find(".select2-results__option--selectable:not(.select2-results__option--selected)");
if(0<d.length){var c=d.first();if((d=a.GetData(c[0],"data").element)&&d.getAttribute&&"true"===d.getAttribute("data-select2-tag"))return void c.trigger("mouseenter")}b.call(this)},b}),r.define("select2/i18n/en",[],function(){return{errorLoading:function(){return"The results could not be loaded."},inputTooLong:function(a){var b=a.input.length-a.maximum;a="Please delete "+b+" character";return 1!=b&&(a+="s"),a},inputTooShort:function(a){return"Please enter "+(a.minimum-a.input.length)+" or more characters"},
loadingMore:function(){return"Loading more results\u2026"},maximumSelected:function(a){var b="You can only select "+a.maximum+" item";return 1!=a.maximum&&(b+="s"),b},noResults:function(){return"No results found"},searching:function(){return"Searching\u2026"},removeAllItems:function(){return"Remove all items"},removeItem:function(){return"Remove item"},search:function(){return"Search"}}}),r.define("select2/defaults","jquery ./results ./selection/single ./selection/multiple ./selection/placeholder ./selection/allowClear ./selection/search ./selection/selectionCss ./selection/eventRelay ./utils ./translation ./diacritics ./data/select ./data/array ./data/ajax ./data/tags ./data/tokenizer ./data/minimumInputLength ./data/maximumInputLength ./data/maximumSelectionLength ./dropdown ./dropdown/search ./dropdown/hidePlaceholder ./dropdown/infiniteScroll ./dropdown/attachBody ./dropdown/minimumResultsForSearch ./dropdown/selectOnClose ./dropdown/closeOnSelect ./dropdown/dropdownCss ./dropdown/tagsSearchHighlight ./i18n/en".split(" "),
function(a,b,d,c,e,f,h,l,m,k,n,u,q,r,v,y,D,x,z,A,F,E,J,K,L,M,N,O,P,Q,R){function g(){this.reset()}return g.prototype.apply=function(g){var p;null==(g=a.extend(!0,{},this.defaults,g)).dataAdapter&&(null!=g.ajax?g.dataAdapter=v:null!=g.data?g.dataAdapter=r:g.dataAdapter=q,0<g.minimumInputLength&&(g.dataAdapter=k.Decorate(g.dataAdapter,x)),0<g.maximumInputLength&&(g.dataAdapter=k.Decorate(g.dataAdapter,z)),0<g.maximumSelectionLength&&(g.dataAdapter=k.Decorate(g.dataAdapter,A)),g.tags&&(g.dataAdapter=
k.Decorate(g.dataAdapter,y)),null==g.tokenSeparators&&null==g.tokenizer||(g.dataAdapter=k.Decorate(g.dataAdapter,D)));null==g.resultsAdapter&&(g.resultsAdapter=b,null!=g.ajax&&(g.resultsAdapter=k.Decorate(g.resultsAdapter,K)),null!=g.placeholder&&(g.resultsAdapter=k.Decorate(g.resultsAdapter,J)),g.selectOnClose&&(g.resultsAdapter=k.Decorate(g.resultsAdapter,N)),g.tags&&(g.resultsAdapter=k.Decorate(g.resultsAdapter,Q)));null==g.dropdownAdapter&&(g.multiple?g.dropdownAdapter=F:(p=k.Decorate(F,E),g.dropdownAdapter=
p),0!==g.minimumResultsForSearch&&(g.dropdownAdapter=k.Decorate(g.dropdownAdapter,M)),g.closeOnSelect&&(g.dropdownAdapter=k.Decorate(g.dropdownAdapter,O)),null!=g.dropdownCssClass&&(g.dropdownAdapter=k.Decorate(g.dropdownAdapter,P)),g.dropdownAdapter=k.Decorate(g.dropdownAdapter,L));null==g.selectionAdapter&&(g.multiple?g.selectionAdapter=c:g.selectionAdapter=d,null!=g.placeholder&&(g.selectionAdapter=k.Decorate(g.selectionAdapter,e)),g.allowClear&&(g.selectionAdapter=k.Decorate(g.selectionAdapter,
f)),g.multiple&&(g.selectionAdapter=k.Decorate(g.selectionAdapter,h)),null!=g.selectionCssClass&&(g.selectionAdapter=k.Decorate(g.selectionAdapter,l)),g.selectionAdapter=k.Decorate(g.selectionAdapter,m));g.language=this._resolveLanguage(g.language);g.language.push("en");p=[];for(var n=0;n<g.language.length;n++){var u=g.language[n];-1===p.indexOf(u)&&p.push(u)}return g.language=p,g.translations=this._processTranslations(g.language,g.debug),g},g.prototype.reset=function(){function b(a){return a.replace(/[^\u0000-\u007E]/g,
function(a){return u[a]||a})}this.defaults={amdLanguageBase:"./i18n/",autocomplete:"off",closeOnSelect:!0,debug:!1,dropdownAutoWidth:!1,escapeMarkup:k.escapeMarkup,language:{},matcher:function H(d,c){if(null==d.term||""===d.term.trim())return c;if(c.children&&0<c.children.length){for(var e=a.extend(!0,{},c),g=c.children.length-1;0<=g;g--)null==H(d,c.children[g])&&e.children.splice(g,1);return 0<e.children.length?e:H(d,e)}e=b(c.text).toUpperCase();d=b(d.term).toUpperCase();return-1<e.indexOf(d)?c:
null},minimumInputLength:0,maximumInputLength:0,maximumSelectionLength:0,minimumResultsForSearch:0,selectOnClose:!1,scrollAfterSelect:!1,sorter:function(a){return a},templateResult:function(a){return a.text},templateSelection:function(a){return a.text},theme:"default",width:"resolve"}},g.prototype.applyFromElement=function(a,b){var d=a.language,c=this.defaults.language,e=b.prop("lang");b=b.closest("[lang]").prop("lang");b=Array.prototype.concat.call(this._resolveLanguage(e),this._resolveLanguage(d),
this._resolveLanguage(c),this._resolveLanguage(b));return a.language=b,a},g.prototype._resolveLanguage=function(b){if(!b||a.isEmptyObject(b))return[];if(a.isPlainObject(b))return[b];var d;b=Array.isArray(b)?b:[b];for(var c=[],e=0;e<b.length;e++)c.push(b[e]),"string"==typeof b[e]&&0<b[e].indexOf("-")&&(d=b[e].split("-")[0],c.push(d));return c},g.prototype._processTranslations=function(b,d){for(var c=new n,e=0;e<b.length;e++){var g=new n,f=b[e];if("string"==typeof f)try{g=n.loadPath(f)}catch(S){try{f=
this.defaults.amdLanguageBase+f,g=n.loadPath(f)}catch(T){d&&window.console&&console.warn&&console.warn('Select2: The language file for "'+f+'" could not be automatically loaded. A fallback will be used instead.')}}else g=a.isPlainObject(f)?new n(f):f;c.extend(g)}return c},g.prototype.set=function(b,d){var c={};c[a.camelCase(b)]=d;c=k._convertData(c);a.extend(!0,this.defaults,c)},new g}),r.define("select2/options",["jquery","./defaults","./utils"],function(a,b,d){function c(a,d){this.options=a;null!=
d&&this.fromElement(d);null!=d&&(this.options=b.applyFromElement(this.options,d));this.options=b.apply(this.options)}return c.prototype.fromElement=function(b){function c(a,b){return b.toUpperCase()}var e=["select2"];null==this.options.multiple&&(this.options.multiple=b.prop("multiple"));null==this.options.disabled&&(this.options.disabled=b.prop("disabled"));null==this.options.autocomplete&&b.prop("autocomplete")&&(this.options.autocomplete=b.prop("autocomplete"));null==this.options.dir&&(b.prop("dir")?
this.options.dir=b.prop("dir"):b.closest("[dir]").prop("dir")?this.options.dir=b.closest("[dir]").prop("dir"):this.options.dir="ltr");b.prop("disabled",this.options.disabled);b.prop("multiple",this.options.multiple);d.GetData(b[0],"select2Tags")&&(this.options.debug&&window.console&&console.warn&&console.warn('Select2: The `data-select2-tags` attribute has been changed to use the `data-data` and `data-tags="true"` attributes and will be removed in future versions of Select2.'),d.StoreData(b[0],"data",
d.GetData(b[0],"select2Tags")),d.StoreData(b[0],"tags",!0));d.GetData(b[0],"ajaxUrl")&&(this.options.debug&&window.console&&console.warn&&console.warn("Select2: The `data-ajax-url` attribute has been changed to `data-ajax--url` and support for the old attribute will be removed in future versions of Select2."),b.attr("ajax--url",d.GetData(b[0],"ajaxUrl")),d.StoreData(b[0],"ajax-Url",d.GetData(b[0],"ajaxUrl")));for(var f={},h=0;h<b[0].attributes.length;h++){var l=b[0].attributes[h].name,k="data-";l.substr(0,
k.length)==k&&(l=l.substring(k.length),k=d.GetData(b[0],l),f[l.replace(/-([a-z])/g,c)]=k)}a.fn.jquery&&"1."==a.fn.jquery.substr(0,2)&&b[0].dataset&&(f=a.extend(!0,{},b[0].dataset,f));var m;b=a.extend(!0,{},d.GetData(b[0]),f);for(m in b=d._convertData(b))-1<e.indexOf(m)||(a.isPlainObject(this.options[m])?a.extend(this.options[m],b[m]):this.options[m]=b[m]);return this},c.prototype.get=function(a){return this.options[a]},c.prototype.set=function(a,b){this.options[a]=b},c}),r.define("select2/core",["jquery",
"./options","./utils","./keys"],function(a,b,d,c){var e=function(a,c){null!=d.GetData(a[0],"select2")&&d.GetData(a[0],"select2").destroy();this.$element=a;this.id=this._generateId(a);c=c||{};this.options=new b(c,a);e.__super__.constructor.call(this);var g=a.attr("tabindex")||0;d.StoreData(a[0],"old-tabindex",g);a.attr("tabindex","-1");c=this.options.get("dataAdapter");this.dataAdapter=new c(a,this.options);g=this.render();this._placeContainer(g);c=this.options.get("selectionAdapter");this.selection=
new c(a,this.options);this.$selection=this.selection.render();this.selection.position(this.$selection,g);c=this.options.get("dropdownAdapter");this.dropdown=new c(a,this.options);this.$dropdown=this.dropdown.render();this.dropdown.position(this.$dropdown,g);g=this.options.get("resultsAdapter");this.results=new g(a,this.options,this.dataAdapter);this.$results=this.results.render();this.results.position(this.$results,this.$dropdown);var f=this;this._bindAdapters();this._registerDomEvents();this._registerDataEvents();
this._registerSelectionEvents();this._registerDropdownEvents();this._registerResultsEvents();this._registerEvents();this.dataAdapter.current(function(a){f.trigger("selection:update",{data:a})});a[0].classList.add("select2-hidden-accessible");a.attr("aria-hidden","true");this._syncAttributes();d.StoreData(a[0],"select2",this);a.data("select2",this)};return d.Extend(e,d.Observable),e.prototype._generateId=function(a){return"select2-"+(null!=a.attr("id")?a.attr("id"):null!=a.attr("name")?a.attr("name")+
"-"+d.generateChars(2):d.generateChars(4)).replace(/(:|\.|\[|\]|,)/g,"")},e.prototype._placeContainer=function(a){a.insertAfter(this.$element);var b=this._resolveWidth(this.$element,this.options.get("width"));null!=b&&a.css("width",b)},e.prototype._resolveWidth=function(a,b){var d=/^width:(([-+]?([0-9]*\.)?[0-9]+)(px|em|ex|%|in|cm|mm|pt|pc))/i;if("resolve"==b)return d=this._resolveWidth(a,"style"),null!=d?d:this._resolveWidth(a,"element");if("element"==b)return d=a.outerWidth(!1),0>=d?"auto":d+"px";
if("style"!=b)return"computedstyle"!=b?b:window.getComputedStyle(a[0]).width;a=a.attr("style");if("string"!=typeof a)return null;a=a.split(";");b=0;for(var c=a.length;b<c;b+=1){var e=a[b].replace(/\s/g,"").match(d);if(null!==e&&1<=e.length)return e[1]}return null},e.prototype._bindAdapters=function(){this.dataAdapter.bind(this,this.$container);this.selection.bind(this,this.$container);this.dropdown.bind(this,this.$container);this.results.bind(this,this.$container)},e.prototype._registerDomEvents=
function(){var a=this;this.$element.on("change.select2",function(){a.dataAdapter.current(function(b){a.trigger("selection:update",{data:b})})});this.$element.on("focus.select2",function(b){a.trigger("focus",b)});this._syncA=d.bind(this._syncAttributes,this);this._syncS=d.bind(this._syncSubtree,this);this._observer=new window.MutationObserver(function(b){a._syncA();a._syncS(b)});this._observer.observe(this.$element[0],{attributes:!0,childList:!0,subtree:!1})},e.prototype._registerDataEvents=function(){var a=
this;this.dataAdapter.on("*",function(b,d){a.trigger(b,d)})},e.prototype._registerSelectionEvents=function(){var a=this,b=["toggle","focus"];this.selection.on("toggle",function(){a.toggleDropdown()});this.selection.on("focus",function(b){a.focus(b)});this.selection.on("*",function(d,c){-1===b.indexOf(d)&&a.trigger(d,c)})},e.prototype._registerDropdownEvents=function(){var a=this;this.dropdown.on("*",function(b,d){a.trigger(b,d)})},e.prototype._registerResultsEvents=function(){var a=this;this.results.on("*",
function(b,d){a.trigger(b,d)})},e.prototype._registerEvents=function(){var a=this;this.on("open",function(){a.$container[0].classList.add("select2-container--open")});this.on("close",function(){a.$container[0].classList.remove("select2-container--open")});this.on("enable",function(){a.$container[0].classList.remove("select2-container--disabled")});this.on("disable",function(){a.$container[0].classList.add("select2-container--disabled")});this.on("blur",function(){a.$container[0].classList.remove("select2-container--focus")});
this.on("query",function(b){a.isOpen()||a.trigger("open",{});this.dataAdapter.query(b,function(d){a.trigger("results:all",{data:d,query:b})})});this.on("query:append",function(b){this.dataAdapter.query(b,function(d){a.trigger("results:append",{data:d,query:b})})});this.on("keypress",function(b){var d=b.which;a.isOpen()?d===c.ESC||d===c.UP&&b.altKey?(a.close(b),b.preventDefault()):d===c.ENTER||d===c.TAB?(a.trigger("results:select",{}),b.preventDefault()):d===c.SPACE&&b.ctrlKey?(a.trigger("results:toggle",
{}),b.preventDefault()):d===c.UP?(a.trigger("results:previous",{}),b.preventDefault()):d===c.DOWN&&(a.trigger("results:next",{}),b.preventDefault()):(d===c.ENTER||d===c.SPACE||d===c.DOWN&&b.altKey)&&(a.open(),b.preventDefault())})},e.prototype._syncAttributes=function(){this.options.set("disabled",this.$element.prop("disabled"));this.isDisabled()?(this.isOpen()&&this.close(),this.trigger("disable",{})):this.trigger("enable",{})},e.prototype._isChangeMutation=function(a){var b=this;if(a.addedNodes&&
0<a.addedNodes.length)for(var d=0;d<a.addedNodes.length;d++){if(a.addedNodes[d].selected)return!0}else{if(a.removedNodes&&0<a.removedNodes.length)return!0;if(Array.isArray(a))return a.some(function(a){return b._isChangeMutation(a)})}return!1},e.prototype._syncSubtree=function(a){a=this._isChangeMutation(a);var b=this;a&&this.dataAdapter.current(function(a){b.trigger("selection:update",{data:a})})},e.prototype.trigger=function(a,b){var d=e.__super__.trigger,c={open:"opening",close:"closing",select:"selecting",
unselect:"unselecting",clear:"clearing"};if(void 0===b&&(b={}),a in c){var f=c[a];c={prevented:!1,name:a,args:b};if(d.call(this,f,c),c.prevented)return void(b.prevented=!0)}d.call(this,a,b)},e.prototype.toggleDropdown=function(){this.isDisabled()||(this.isOpen()?this.close():this.open())},e.prototype.open=function(){this.isOpen()||this.isDisabled()||this.trigger("query",{})},e.prototype.close=function(a){this.isOpen()&&this.trigger("close",{originalEvent:a})},e.prototype.isEnabled=function(){return!this.isDisabled()},
e.prototype.isDisabled=function(){return this.options.get("disabled")},e.prototype.isOpen=function(){return this.$container[0].classList.contains("select2-container--open")},e.prototype.hasFocus=function(){return this.$container[0].classList.contains("select2-container--focus")},e.prototype.focus=function(a){this.hasFocus()||(this.$container[0].classList.add("select2-container--focus"),this.trigger("focus",{}))},e.prototype.enable=function(a){this.options.get("debug")&&window.console&&console.warn&&
console.warn('Select2: The `select2("enable")` method has been deprecated and will be removed in later Select2 versions. Use $element.prop("disabled") instead.');null!=a&&0!==a.length||(a=[!0]);a=!a[0];this.$element.prop("disabled",a)},e.prototype.data=function(){this.options.get("debug")&&0<arguments.length&&window.console&&console.warn&&console.warn('Select2: Data can no longer be set using `select2("data")`. You should consider setting the value instead using `$element.val()`.');var a=[];return this.dataAdapter.current(function(b){a=
b}),a},e.prototype.val=function(a){if(this.options.get("debug")&&window.console&&console.warn&&console.warn('Select2: The `select2("val")` method has been deprecated and will be removed in later Select2 versions. Use $element.val() instead.'),null==a||0===a.length)return this.$element.val();a=a[0];Array.isArray(a)&&(a=a.map(function(a){return a.toString()}));this.$element.val(a).trigger("input").trigger("change")},e.prototype.destroy=function(){d.RemoveData(this.$container[0]);this.$container.remove();
this._observer.disconnect();this._syncS=this._syncA=this._observer=null;this.$element.off(".select2");this.$element.attr("tabindex",d.GetData(this.$element[0],"old-tabindex"));this.$element[0].classList.remove("select2-hidden-accessible");this.$element.attr("aria-hidden","false");d.RemoveData(this.$element[0]);this.$element.removeData("select2");this.dataAdapter.destroy();this.selection.destroy();this.dropdown.destroy();this.results.destroy();this.results=this.dropdown=this.selection=this.dataAdapter=
null},e.prototype.render=function(){var b=a('<span class="select2 select2-container"><span class="selection"></span><span class="dropdown-wrapper" aria-hidden="true"></span></span>');return b.attr("dir",this.options.get("dir")),this.$container=b,this.$container[0].classList.add("select2-container--"+this.options.get("theme")),d.StoreData(b[0],"element",this.$element),b},e}),r.define("select2/dropdown/attachContainer",[],function(){function a(a,b,d){a.call(this,b,d)}return a.prototype.position=function(a,
b,d){d.find(".dropdown-wrapper").append(b);b[0].classList.add("select2-dropdown--below");d[0].classList.add("select2-container--below")},a}),r.define("select2/dropdown/stopPropagation",[],function(){function a(){}return a.prototype.bind=function(a,b,d){a.call(this,b,d);this.$dropdown.on("blur change click dblclick focus focusin focusout input keydown keyup keypress mousedown mouseenter mouseleave mousemove mouseover mouseup search touchend touchstart",function(a){a.stopPropagation()})},a}),r.define("select2/selection/stopPropagation",
[],function(){function a(){}return a.prototype.bind=function(a,b,d){a.call(this,b,d);this.$selection.on("blur change click dblclick focus focusin focusout input keydown keyup keypress mousedown mouseenter mouseleave mousemove mouseover mouseup search touchend touchstart",function(a){a.stopPropagation()})},a}),A=function(a){function b(b){var h,g=b||window.event,l=k.call(arguments,1),m,u=0,q=0,p=0,r=0,t=0;if(b=a.event.fix(g),b.type="mousewheel","detail"in g&&(q=-1*g.detail),"wheelDelta"in g&&(q=g.wheelDelta),
"wheelDeltaY"in g&&(q=g.wheelDeltaY),"wheelDeltaX"in g&&(u=-1*g.wheelDeltaX),"axis"in g&&g.axis===g.HORIZONTAL_AXIS&&(u=-1*q,q=0),m=0===q?u:q,"deltaY"in g&&(m=q=-1*g.deltaY),"deltaX"in g&&(u=g.deltaX,0===q&&(m=-1*u)),0!==q||0!==u)return 1===g.deltaMode?(m*=h=a.data(this,"mousewheel-line-height"),q*=h,u*=h):2===g.deltaMode&&(m*=h=a.data(this,"mousewheel-page-height"),q*=h,u*=h),p=Math.max(Math.abs(q),Math.abs(u)),(!f||p<f)&&c(g,f=p)&&(f/=40),c(g,p)&&(m/=40,u/=40,q/=40),m=Math[1<=m?"floor":"ceil"](m/
f),u=Math[1<=u?"floor":"ceil"](u/f),q=Math[1<=q?"floor":"ceil"](q/f),n.settings.normalizeOffset&&this.getBoundingClientRect&&(p=this.getBoundingClientRect(),r=b.clientX-p.left,t=b.clientY-p.top),b.deltaX=u,b.deltaY=q,b.deltaFactor=f,b.offsetX=r,b.offsetY=t,b.deltaMode=0,l.unshift(b,m,u,q),e&&clearTimeout(e),e=setTimeout(d,200),(a.event.dispatch||a.event.handle).apply(this,l)}function d(){f=null}function c(a,b){return n.settings.adjustOldDeltas&&"mousewheel"===a.type&&0==b%120}var e,f,h=["wheel","mousewheel",
"DOMMouseScroll","MozMousePixelScroll"],l="onwheel"in document||9<=document.documentMode?["wheel"]:["mousewheel","DomMouseScroll","MozMousePixelScroll"],k=Array.prototype.slice;if(a.event.fixHooks)for(var m=h.length;m;)a.event.fixHooks[h[--m]]=a.event.mouseHooks;var n=a.event.special.mousewheel={version:"3.1.12",setup:function(){if(this.addEventListener)for(var d=l.length;d;)this.addEventListener(l[--d],b,!1);else this.onmousewheel=b;a.data(this,"mousewheel-line-height",n.getLineHeight(this));a.data(this,
"mousewheel-page-height",n.getPageHeight(this))},teardown:function(){if(this.removeEventListener)for(var d=l.length;d;)this.removeEventListener(l[--d],b,!1);else this.onmousewheel=null;a.removeData(this,"mousewheel-line-height");a.removeData(this,"mousewheel-page-height")},getLineHeight:function(b){var d=a(b);b=d["offsetParent"in a.fn?"offsetParent":"parent"]();return b.length||(b=a("body")),parseInt(b.css("fontSize"),10)||parseInt(d.css("fontSize"),10)||16},getPageHeight:function(b){return a(b).height()},
settings:{adjustOldDeltas:!0,normalizeOffset:!0}};a.fn.extend({mousewheel:function(a){return a?this.bind("mousewheel",a):this.trigger("mousewheel")},unmousewheel:function(a){return this.unbind("mousewheel",a)}})},"function"==typeof r.define&&r.define.amd?r.define("jquery-mousewheel",["jquery"],A):"object"==typeof exports?module.exports=A:A(a),r.define("jquery.select2",["jquery","jquery-mousewheel","./select2/core","./select2/defaults","./select2/utils"],function(a,b,d,c,e){var f;return null==a.fn.select2&&
(f=["open","close","destroy"],a.fn.select2=function(b){if("object"==typeof(b=b||{}))return this.each(function(){var c=a.extend(!0,{},b);new d(a(this),c)}),this;if("string"!=typeof b)throw Error("Invalid arguments for Select2: "+b);var c,g=Array.prototype.slice.call(arguments,1);return this.each(function(){var a=e.GetData(this,"select2");null==a&&window.console&&console.error&&console.error("The select2('"+b+"') method was called on an element that is not using Select2.");c=a[b].apply(a,g)}),-1<f.indexOf(b)?
this:c}),null==a.fn.select2.defaults&&(a.fn.select2.defaults=c),d}),{define:r.define,require:r.require});var r=A.require("jquery.select2");return a.fn.select2.amd=A,r});"undefined"===typeof window.tdcPostSettings&&(window.tdcPostSettings={tdbTemplateType:"all"});
if(window.tdbVue&&"undefined"!==typeof window.tdbVue.router){var eventHub=new CloudLibraryVue;CloudLibraryVue.component("image-links",{template:'\n            <a :class="classes" :href="link">{{text}}</a>\n        ',props:{classes:[],link:"",text:""}});new CloudLibraryVue({el:"#tdb-modal",router:window.tdbVue.router})}window.tdbVueManager&&"undefined"!==typeof window.tdbVueManager.router&&new CloudLibraryVue({el:"#tdb-modal-website-manager",router:window.tdbVueManager.router});
(function(){function a(a,d,c,f,h,l,k){var b=jQuery(".tdb-"+a+"-templates");b.length&&"undefined"===typeof b.data("tdb-templates")&&("undefined"!==typeof l&&l.call(),tdbGetMobileTemplates(a,d,b),l="","undefined"!==typeof tdcState&&(l=tdcState.isMobileComposer()?"1":""),l={action:"tdb_get_"+a+"_templates",mobile_templates:l,_nonce:window.tdb_globals.wpRestNonce},l[a+"_id"]=d,jQuery.ajax({type:"POST",url:td_ajax_url,data:l,success:function(e,l,m){b.html("");e=jQuery.parseJSON(e);l='<div class="tdb-templates-header"><div class="tdb-templates-header-item tdb-templates-header-item-name"><span>Cloud Templates</span></div>'+
("undefined"!==typeof f&&!0===f?'<div class="tdb-templates-header-item tdb-templates-header-item-global"><span>Global</span></div>':"")+'<div class="tdb-templates-header-item tdb-templates-header-item-mobile" title="Optional - Create or assign a dedicated Mobile Template"><span>Mobile Template</span></div></div>';var n=m="",u=!1;_.isArray(e)&&e.length?(_.each(e,function(b,e,l){e="";"true"===b.is_current.toString()&&(e=" tdb-current",u=!0);e='<div class="tdb-template-el tdb-'+a+"-template-el"+e+'"  data-template-id="'+
b.template_id+'"><div class="tdb-template-el-id tdb-'+a+'-template-id">'+b.template_id+'</div><div class="tdb-template-el-title" data-type="'+a+'" data-action="'+c+'" title="'+b.template_title+' - Set template for this post" data-'+a+'-id="'+d+'" data-template-id="'+b.template_id+'">'+b.template_title+'</div><div class="tdb-template-el-wrap"><div class="tdb-template-el-icon"><div class="tdb-template-el-options"><div title="Rename template" class="tdb-template-el-edit">Rename</div><div title="Duplicate template" class="tdb-template-el-duplicate">Duplicate</div><div title="Delete template" class="tdb-template-el-delete">Delete</div></div></div></div>';
"undefined"!==typeof f&&!0===f&&(l="","undefined"!==typeof h&&""!==h&&(l='data-global-action="'+h+'"'),e+='<div class="tdb-template-el-global tdb-'+a+'-template-global" title="Set as Global Template" data-type="'+a+'" data-'+a+'-id="'+d+'" data-template-id="'+b.template_id+'" '+l+'><input type="checkbox" class="tdb-template-el-global-input tdb-'+a+'-template-global-input" '+(!0===b.is_global?'checked="checked" ':"")+'><label></label><span class="tdb-template-el-global-checked tdb-'+a+'-template-global-checked">Global</span></div>');
e+='<div class="tdb-template-el-mobile-wrap tdb-'+a+'-template-mobile" data-type="'+a+'" data-'+a+'-id="'+d+'" data-template-id="'+b.template_id+'"><span class="tdb-template-el-mobile">'+(""===b.mobile_template_title?"-":'<span class="tdb-template-el-mobile-active">Yes</span>')+'</span><div class="tdb-template-el-mobile-btns" data-mobile-template-id="'+b.mobile_template_id+'" data-template-id="'+b.template_id+'"><div title="Optional - New mobile template" class="'+a+"id-"+b.template_id+' tdb-template-el-mobile-btn tdb-template-el-mobile-blank tdb-create-mobile-template" data-type="'+
a+'" data-'+a+'-id="'+d+'" data-template-id="'+b.template_id+'"></div><div title="Load mobile template from TagDiv Cloud Library" class="'+a+"id-"+b.template_id+' tdb-template-el-mobile-btn tdb-template-el-mobile-import tdb-load-mobile-template"></div></div></div>';n+=e+"</div>"}),"undefined"!==typeof f&&!0===f&&(m+='<div class="tdb-template-el tdb-'+a+"-template-el "+(u?"":"tdb-current")+'"><div class="tdb-template-el-id tdb-'+a+'-template-id"></div><div class="tdb-template-el-title" data-type="'+
a+'" data-action="'+c+'" title="Set as Global Template" data-'+a+'-id="'+d+'" data-template-id="">Global Template</div></div>'),b.append(m+l+n)):(b.append(l),b.append('<div class="tdb-templates-desc">No cloud templates. Please import one or more templates from <b>Cloud Library</b>.</div>'));b.data("tdb-templates",!0);"undefined"!==typeof k&&k.call()},error:function(a,b,d){}}))}function c(a,d,c){var b=jQuery(window);b.resize(function(){var e=b.width();a.offset().left+d.width()>e?d.hasClass(c)||d.addClass(c):
d.hasClass(c)&&d.removeClass(c)});b.resize()}jQuery(document).ready(function(){jQuery("#wp-admin-bar-tdb_template_builder_disabled a").click(function(a){a.preventDefault();alert("Please select tagDiv Builder Template from the theme panel or set a default template. The current page/post uses a template that is not editable.")});jQuery("#wp-admin-bar-new-tdb_templates").hide()});jQuery("body").on("click","#wp-admin-bar-tdb_template_load, .tdb-load-mobile-template",function(a){a.preventDefault();var b=
jQuery(this),c=b.attr("class");a="";var f=!1;b.hasClass("tdb-load-mobile-template")&&(f=!0);"undefined"!==typeof c&&(0===c.indexOf("singleid-")?(a={wp_type:"single",templateType:"Single"},b=c.split(" ")[0].replace("singleid-",""),f?a.assign_mobile_to_template=b:a.assign_to_post=b):0===c.indexOf("categoryid-")?(a={wp_type:"category",templateType:"Category"},b=c.split(" ")[0].replace("categoryid-",""),f?a.assign_mobile_to_template=b:a.assign_to_category=b):0===c.indexOf("404")?(a={wp_type:"404",templateType:"404"},
b=btoa(window.location.href),f?a.assign_mobile_to_template=b:a.assign_to_404=b):0===c.indexOf("date")?(a={wp_type:"date",templateType:"Date"},b=btoa(window.location.href),f?a.assign_mobile_to_template=b:a.assign_to_archive=b):0===c.indexOf("search")?(a={wp_type:"search",templateType:"Search"},b=btoa(window.location.href),f?a.assign_mobile_to_template=b:a.assign_to_search=b):0===c.indexOf("attachment")?(a={wp_type:"attachment",templateType:"Attachment"},b=btoa(window.location.href),f?a.assign_mobile_to_template=
b:a.assign_to_attachment=b):0===c.indexOf("authorid")?(a={wp_type:"author",templateType:"Author"},b=c.split(" ")[0].replace("authorid-",""),f?a.assign_mobile_to_template=b:a.assign_to_author=b):0===c.indexOf("tagid")?(a={wp_type:"tag",templateType:"Tag"},b=c.split(" ")[0].replace("tagid-",""),f?a.assign_mobile_to_template=b:a.assign_to_tag=b):0===c.indexOf("pageid")?(a={wp_type:"page",templateType:"Pages"},b=c.split(" ")[0].replace("pageid-",""),f&&(a.assign_mobile_to_template=b)):0===c.indexOf("woo_productid-")?
(a={wp_type:"woo_product",templateType:"Woo Product"},b=c.split(" ")[0].replace("woo_productid-",""),f?a.assign_mobile_to_template=b:a.assign_to_woo_product=b):0===c.indexOf("woo_archive")?(a={wp_type:"woo_archive",templateType:"Woo Archive"},b=btoa(window.location.href),f?a.assign_mobile_to_template=b:a.assign_to_search=b):0===c.indexOf("woo_search_archive")?(a={wp_type:"woo_search_archive",templateType:"Woo Search"},b=btoa(window.location.href),f?a.assign_mobile_to_template=b:a.assign_to_search=
b):0===c.indexOf("woo_shop_base")?(a={wp_type:"woo_shop_base",templateType:"Woo Shop Base"},b=btoa(window.location.href),f?a.assign_mobile_to_template=b:a.assign_to_search=b):0===c.indexOf("cpt_tax")?(a={wp_type:"cpt_tax",templateType:"Custom Taxonomy"},b=c.split(" ")[0].replace("templateid-",""),f?a.assign_mobile_to_template=b:a.assign_to_cpt_tax=b):0===c.indexOf("cpt")&&(a={wp_type:"cpt",templateType:"Custom Post Type"},b=c.split(" ")[0].replace("cptid-",""),f?a.assign_mobile_to_template=b:a.assign_to_cpt=
b),""!==a&&(a.hide_mobile_selector="hide",window.tdbVue.router.push({name:"loadRoute",params:a})))}).on("click",".tdb-create-mobile-template",function(a){var b=jQuery(this),c=b.data("template-id"),f=b.data("type");tdConfirm.modal({caption:"Create Mobile "+("page"===f?"Page":"Template"),objectContext:window,callbackYes:function(){var a=jQuery("#tdb-new-template-name"),d=jQuery("#tdb-copy-content");jQuery.ajax({type:"POST",url:td_ajax_url,data:{action:"tdb_create_mobile_template",template_id:c,template_title:a.val(),
template_type:f,copyContent:d.is(":checked")?"1":"0",_nonce:window.tdb_globals.wpRestNonce},success:function(a,d,e){a=jQuery.parseJSON(a);"undefined"!==typeof a.mobile_template_id&&(tdConfirm.close(),d=b.closest(".tdb-template-el"),d.length&&(e=d.find(".tdb-template-el-mobile:first"),d.find(".tdb-template-el-mobile-btns:first").data("mobile-template-id",a.mobile_template_id),e.html('<span class="tdb-template-el-mobile-active">Yes</span>')),tdbGetMobileTemplates(f,c))},error:function(a,b,d){}})},htmlInfoContent:"Enter the mobile "+
("page"===f?"page":"template")+' name: <input id="tdb-new-template-name" type="text" value=""onfocus="(function(e){ jQuery( e.target ).siblings(\'#tdb-modal-notice\').fadeOut(50); })(event)"/><em id="tdb-modal-notice"></em><div class="tdb-form-check"><input type="checkbox" class="form-check-input" id="tdb-copy-content"><label class="form-check-label" for="tdb-copy-content"><span class="tdb-check"></span><span class="tdb-check-title">Copy content</span></label></div>',textYes:"Create",textNo:"Cancel"})}).on("click",
"#wp-admin-bar-tdb_template_single > a, #wp-admin-bar-tdb_template_category > a, #wp-admin-bar-tdb_template_404 > a, #wp-admin-bar-tdb_template_date > a, #wp-admin-bar-tdb_template_search > a, #wp-admin-bar-tdb_template_attachment > a, #wp-admin-bar-tdb_template_author > a, #wp-admin-bar-tdb_template_tag > a, #wp-admin-bar-tdb_template_woo_product > a, #wp-admin-bar-tdb_template_woo_archive > a, #wp-admin-bar-tdb_template_woo_shop_base > a, #wp-admin-bar-tdb_template_woo_search_archive > a, #wp-admin-bar-tdb_template_cpt > a, #wp-admin-bar-tdb_template_cpt_tax > a",
function(b){b.preventDefault();var d=jQuery(this),e=d.parent(),f=e.attr("class"),h="",l="",k="",m="";switch(e.attr("id")){case "wp-admin-bar-tdb_template_single":h="single";l="tdb_assign_single_template_to_post";k="tdb_assign_single_template_global";m=f.replace(h+"id-","");break;case "wp-admin-bar-tdb_template_category":h="category";l="tdb_assign_cat_template_to_cat";k="tdb_assign_cat_template_global";m=f.replace(h+"id-","");break;case "wp-admin-bar-tdb_template_404":h="404";l="tdb_assign_404_template_global";
k="";m=f.replace("templateid-","");break;case "wp-admin-bar-tdb_template_date":h="date";l="tdb_assign_date_template_global";k="";m=f.replace("templateid-","");break;case "wp-admin-bar-tdb_template_search":h="search";l="tdb_assign_search_template_global";k="";m=f.replace("templateid-","");break;case "wp-admin-bar-tdb_template_attachment":h="attachment";l="tdb_assign_attachment_template_global";k="";m=f.replace("templateid-","");break;case "wp-admin-bar-tdb_template_author":h="author";l="tdb_assign_author_template_to_author";
k="tdb_assign_author_template_global";m=f.replace(h+"id-","");break;case "wp-admin-bar-tdb_template_tag":h="tag";l="tdb_assign_tag_template_to_tag";k="tdb_assign_tag_template_global";m=f.replace(h+"id-","");break;case "wp-admin-bar-tdb_template_woo_product":h="woo_product";l="tdb_assign_woo_product_template_to_product";k="tdb_assign_woo_product_template_global";m=f.replace(h+"id-","");break;case "wp-admin-bar-tdb_template_woo_archive":h="woo_archive";l="tdb_assign_woo_archive_template_to_tax";k="tdb_assign_woo_archive_template_global";
m=f.replace(h+"id-","");break;case "wp-admin-bar-tdb_template_woo_search_archive":h="woo_search_archive";l="tdb_assign_woo_search_archive_template_global";k="";m=f.replace("templateid-","");break;case "wp-admin-bar-tdb_template_woo_shop_base":h="woo_shop_base";l="tdb_assign_woo_shop_base_template_global";k="";m=f.replace("templateid-","");break;case "wp-admin-bar-tdb_template_cpt":h="cpt";l="tdb_assign_cpt_template_to_cpt";k="tdb_assign_cpt_template_global";m=f.replace(h+"id-","");break;case "wp-admin-bar-tdb_template_cpt_tax":h=
"cpt_tax",l="tdb_assign_cpt_tax_template_to_tax",k="tdb_assign_cpt_tax_template_global",m=f.replace("templateid-","")}var n=jQuery(".tdb-"+h+"-templates");n.length?b.currentTarget===this&&jQuery(b.target).parent().attr("id")==="wp-admin-bar-tdb_template_"+h&&(n.toggle(),d.toggleClass("tdb-templates-open"),d.toggleClass("tdb-templates-close")):(d.addClass("tdb-templates-loading"),n=jQuery('<div class="tdb-templates tdb-'+h+'-templates" data-type="'+h+'"></div>'),n.insertAfter(d),n.show());a(h,m,l,
""===k?!1:!0,k,void 0,function(){d.removeClass("tdb-templates-loading");d.addClass("tdb-templates-open");c(d,n,"tdb-templates-align-right")})}).on("click","#wp-admin-bar-tdc_page_mobile_template > a",function(a){a.preventDefault();var b=jQuery(this);a=b.parent().attr("class").replace("pageid-","");var e=jQuery("#tdb-mobile-templates");e.length?(e.toggle(),b.toggleClass("tdb-templates-open"),b.toggleClass("tdb-templates-close")):(b.addClass("tdb-templates-loading"),b.addClass("tdb-templates-open"),
tdbGetMobileTemplates("page",a,b,void 0,function(){b.removeClass("tdb-templates-loading");jQuery("#tdb-mobile-templates").show();c(b,jQuery("#tdb-mobile-templates"),"tdb-mobile-templates-align-right")}))}).on("click","#wp-admin-bar-tdc_create_mobile_page",function(a){var b=jQuery(this).attr("class").split(" ")[0].replace("pageid-","");tdConfirm.modal({caption:"Create Mobile Page",objectContext:window,callbackYes:function(){var a=jQuery("#tdb-new-template-name"),d=jQuery("#tdb-copy-content");jQuery.ajax({type:"POST",
url:td_ajax_url,data:{action:"tdb_create_mobile_template",template_id:b,template_title:a.val(),template_type:"page",copyContent:d.is(":checked")?"1":"0",_nonce:window.tdb_globals.wpRestNonce},success:function(d,c,e){"undefined"!==typeof jQuery.parseJSON(d).mobile_template_id&&(tdConfirm.close(),d=jQuery("#wp-admin-bar-tdc_page_mobile_template"),d.length&&d.find("a:first").html('<span class="td-mob-page-before">Mobile page</span>'+a.val()),tdbGetMobileTemplates("page",b))},error:function(a,b,d){}})},
htmlInfoContent:'Enter the mobile page name: <input id="tdb-new-template-name" type="text" value="" onfocus="(function(e){ jQuery( e.target ).siblings(\'#tdb-modal-notice\').fadeOut(50); })(event)"/><em id="tdb-modal-notice"></em><div class="tdb-form-check"><input type="checkbox" class="form-check-input" id="tdb-copy-content"><label class="form-check-label" for="tdb-copy-content"><span class="tdb-check"></span><span class="tdb-check-title">Copy content</span></label></div>',textYes:"Create",textNo:"Cancel"})}).on("click",
".tdb-single-template-global label, .tdb-category-template-global label, .tdb-author-template-global label, .tdb-tag-template-global label, .tdb-woo_product-template-global label, .tdb-woo_archive-template-global label, .tdb-cpt-template-global label, .tdb-cpt_tax-template-global label ",function(a){a.preventDefault();a=jQuery(this);var b=a.closest(".tdb-template-el-global"),c=b.data("type"),f=b.data("global-action");b=a.parent().data(c+"-id");var h=a.parent().data("template-id"),l=jQuery(".tdb-templates");
a={action:f,template_id:h,_nonce:window.tdb_globals.wpRestNonce};switch(c){case "single":a.single_id=b;break;case "category":a.category_id=b;break;case "tag":a.tag_id=b;break;case "author":a.author_id=b;break;case "woo_product":a.woo_product_id=b;break;case "woo_archive":a.woo_term_id=b;break;case "cpt":a.cpt_id=b;break;case "cpt_tax":a.cpt_tax_id=b}jQuery.ajax({type:"POST",url:td_ajax_url,data:a,success:function(a,b,d){a=jQuery.parseJSON(a);"undefined"!==typeof a.reload&&window.location.reload();
"undefined"!==typeof a.global_template_id&&(l.find(".tdb-"+c+'-template-global > input[type="checkbox"]').removeAttr("checked"),l.find(".tdb-"+c+'-template-global[data-template-id="'+h+'"] > input[type="checkbox"]').attr("checked",!0))},error:function(a,b,d){}});return!1}).on("click",".tdb-template-el-title",function(a){a.preventDefault();if(a.target===a.currentTarget){a=jQuery(this);var b=a.data("action"),c=a.data("type"),f=a.data(c+"-id"),h=a.data("template-id");b={action:b,template_id:h,_nonce:window.tdb_globals.wpRestNonce};
"cpt"===c?b.cpt=a.data("cpt-id"):"cpt_tax"===c&&(b.cpt_tax=a.data("cpt_tax-id"));switch(c){case "single":b.single_id=f;break;case "category":b.category_id=f;break;case "author":b.author_id=f;break;case "tag":b.tag_id=f;break;case "woo_product":b.woo_product_id=f;break;case "woo_archive":b.woo_term_id=f;break;case "cpt":b.cpt_id=f;break;case "cpt_tax":b.cpt_tax_id=f}jQuery.ajax({type:"POST",url:td_ajax_url,data:b,success:function(a,b,d){"undefined"===typeof jQuery.parseJSON(a).reload&&"cpt"!==c&&"cpt_tax"!==
c||window.location.reload()},error:function(a,b,d){}});return!1}}).on("change",".tdb-template-el-title-input",function(a){a.preventDefault();a=jQuery(this);var b=a.closest(".tdb-templates"),c=a.closest(".tdb-template-el"),f=c.find(".tdb-template-el-title:first");b.data("type");b=c.data("template-id");f.html();jQuery.ajax({type:"POST",url:td_ajax_url,data:{action:"tdb_change_template_name",template_id:b,template_title:a.val(),_nonce:window.tdb_globals.wpRestNonce},success:function(a,b,d){a=jQuery.parseJSON(a);
"undefined"!==typeof a.template_id&&(f.html(a.template_title),f.removeData("title"))},error:function(a,b,d){}})}).on("click",".tdb-template-el-edit",function(a){a.preventDefault();var b=jQuery(this);a=b.closest(".tdb-templates");var c=b.closest(".tdb-template-el");b=c.find(".tdb-template-el-title:first");a.data("type");c.data("template-id");c=b.html();"undefined"===typeof b.data("title")&&(a.find(".tdb-template-el-title").each(function(a,b){a=jQuery(b);b=a.data("title");"undefined"!==typeof b&&(a.html(b),
a.removeData("title"))}),b.data("title",b.html()),b.html('<input class="tdb-template-el-title-input" type="text" value="'+c+'">'),b.find("input").focus().select())}).on("click",".tdb-template-el-duplicate",function(b){b.preventDefault();b=jQuery(this);var c=b.closest(".tdb-templates"),e=b.closest(".tdb-template-el"),f=e.find(".tdb-template-el-title:first"),h=c.data("type");b=e.data("template-id");var l=f.html(),k=f.data(h+"-id"),m=f.data("action"),n="";0<="single category tag author woo_product woo_archive".split(" ").indexOf(h)&&
(e=e.find(".tdb-template-el-global:first"),e.length&&(n=e.data("global-action")));tdbApi.run({wpNonce:window.tdb_globals.wpRestNonce,cloudEndPoint:"td-cloud-library/new_template",post:{postId:b,templateType:h,templateName:l,duplicateTemplate:!0},done:function(b){c.removeData("tdb-templates");a(h,0<="single category tag author woo_product woo_archive cpt".split(" ").indexOf(h)?k:"",m,""===n?!1:!0,n)},error:function(a){console.log("td-cloud-library/new_template ( duplicate template ) - ERROR",a)}});
jQuery(".tdb-template-el-title-input").trigger("change")}).on("keyup",".tdb-template-el-title-input",function(a){27===a.keyCode&&jQuery(this).trigger("change")}).on("click",".tdb-template-el-delete",function(a){a=jQuery(this);a.closest(".tdb-templates");var b=a.closest(".tdb-template-el");a=b.data("template-id");jQuery.ajax({type:"POST",url:td_ajax_url,data:{action:"tdb_delete_template",template_id:a,_nonce:window.tdb_globals.wpRestNonce},success:function(a,c,d){a=jQuery.parseJSON(a);"undefined"!==
typeof a.reload&&window.location.reload();"undefined"!==typeof a.template_id&&b.remove()},error:function(a,b,c){}});jQuery(".tdb-template-el-title-input").trigger("change")}).on("click",function(a){a=jQuery(a.target);a.closest("#wp-admin-bar-tdb_template_single").length||a.closest("#wp-admin-bar-tdb_template_category").length||a.closest("#wp-admin-bar-tdb_template_404").length||a.closest("#wp-admin-bar-tdb_template_date").length||a.closest("#wp-admin-bar-tdb_template_search").length||a.closest("#wp-admin-bar-tdb_template_attachment").length||
a.closest("#wp-admin-bar-tdb_template_author").length||a.closest("#wp-admin-bar-tdb_template_tag").length||a.closest("#wp-admin-bar-tdb_template_woo_product").length||a.closest("#wp-admin-bar-tdb_template_woo_archive").length||a.closest("#wp-admin-bar-tdb_template_woo_search_archive").length||a.closest("#wp-admin-bar-tdb_template_woo_shop_base").length||a.closest("#wp-admin-bar-tdb_template_cpt").length||a.closest("#wp-admin-bar-tdb_template_cpt_tax").length||a.closest("#wp-admin-bar-tdc_page_mobile_template").length||
(a=jQuery(".tdb-templates"),a.length&&(a.hide(),a.prev("a").removeClass("tdb-templates-open").addClass("tdb-templates-close"),jQuery(".tdb-template-el-title-input").trigger("change")),a=jQuery("#tdb-mobile-templates"),a.length&&(a.hide(),a.prev("a").removeClass("tdb-templates-open").addClass("tdb-templates-close")))}).on("click","#tdb-mobile-templates .tdb-template-el-mobile-list-el",function(a){var b=jQuery(this),c=jQuery("#tdb-mobile-templates");a=b.data("template-id");var f=b.data("mobile-template-id"),
h=c.closest(".tdb-template-el-mobile-btns"),l=b.closest(".tdb-template-el-mobile-wrap"),k=b.closest("#wp-admin-bar-tdc_page_mobile_template");jQuery.ajax({type:"POST",url:td_ajax_url,data:{action:"tdb_set_mobile_template",template_id:a,mobile_template_id:f,_nonce:window.tdb_globals.wpRestNonce},success:function(a,d,e){a=jQuery.parseJSON(a);_.isObject(a)&&!_.isUndefined(a.result)&&1===a.result&&(h.data("mobile-template-id",f),c.find(".tdb-template-el-mobile-list-el").removeClass("tdb-current"),c.find('.tdb-template-el-mobile-list-el[data-mobile-template-id="'+
f+'"]').addClass("tdb-current"),l.length&&(a=l.find(".tdb-template-el-mobile:first"),""===f?a.html("-"):a.html('<span class="tdb-template-el-mobile-active">Yes</span>')),k.length&&(k.find("a:first").html('<span class="td-mob-page-before" style="margin-right:10px;">Mobile page</span>'+b.find(".tdb-template-el-mobile-list-title:first").html()),"No mobile page"===b.find(".tdb-template-el-mobile-list-title:first").html()&&k.find("a:first").html('<span class="td-mob-page-before">Mobile page</span>')))}})}).on("click",
"#tdb-mobile-templates .tdb-template-el-mobile-list-edit",function(a){a.stopPropagation()}).on("click","#tdb-mobile-templates .tdb-template-el-mobile-list-delete",function(a){a.stopPropagation();a=jQuery(this);var b=a.data("type"),c=a.closest(".tdb-template-el-mobile-list-el"),f=c.data("template-id");a=c.data("mobile-template-id");var h=c.hasClass("tdb-current"),l=jQuery("#tdb-mobile-templates").closest(".tdb-template-el");jQuery.ajax({type:"POST",url:td_ajax_url,data:{action:"tdb_delete_template",
template_id:a,_nonce:window.tdb_globals.wpRestNonce},success:function(a,d,e){"undefined"!==typeof jQuery.parseJSON(a).template_id&&tdbGetMobileTemplates(b,f,void 0,function(){jQuery("#tdb-mobile-templates").addClass("loading")},function(){jQuery("#tdb-mobile-templates").removeClass("loading");if(h)if("page"===b){var a=jQuery("#wp-admin-bar-tdc_page_mobile_template");a.length&&a.find("a:first").html('<span class="td-mob-page-before">Mobile page</span>No mobile page')}else c.remove(),l.length&&l.find(".tdb-template-el-mobile:first").html("-")})},
error:function(a,b,c){}})}).on("mouseenter",".tdb-template-el-mobile-btns",function(a){a=jQuery(this);var b=a.data("mobile-template-id"),c=a.data("template-id"),f=jQuery("#tdb-mobile-templates");f.find(".tdb-template-el-mobile-list-inner").is(":empty")||(f.appendTo(a).show(),f.find(".tdb-template-el-mobile-list-el").removeClass("tdb-current"),f.find(".tdb-template-el-mobile-list-el").data("template-id",c),f.find('.tdb-template-el-mobile-list-el[data-mobile-template-id="'+b+'"]').addClass("tdb-current"))}).on("mouseleave",
".tdb-template-el-mobile-btns",function(a){a=jQuery(".tdb-templates");var b=jQuery("#tdb-mobile-templates");b.hide();b.insertBefore(a);b.find(".tdb-template-el-mobile-list-el").removeClass("tdb-current")});jQuery(".tdb-templates");window.tdbGetMobileTemplates=function(a,c,e,f,h,l,k){var b=jQuery("#tdb-mobile-templates",l);b.length||(b=jQuery('<div id="tdb-mobile-templates" class="tdb-template-el-mobile-list"><div class="tdb-template-el-mobile-list-inner"></div><div class="tdb-template-el-mobile-list-separator" style="height: 1px;width: 100%;background-color: #ebebeb;margin: 10px 0;"></div><a href="https://tagdiv.com/newspaper-10-3-7-update-brings-customizable-and-fast-mobile-pages/" target="_blank" style="height: auto;padding: 0;color: #1a9a75;" class="tdb-template-el-mobile-list-no-el">Documentation &#187;</a></div>'),
b.hide());"undefined"!==typeof e&&b.insertAfter(e);e={action:"tdb_get_"+a+"_mobile_templates",_nonce:window.tdb_globals.wpRestNonce};e[a+"_id"]=c;"undefined"!==typeof f&&f.call();jQuery.ajax({type:"POST",url:td_ajax_url,data:e,success:function(d,e,f){var l="";f=jQuery.parseJSON(d);d='<li id="wp-admin-bar-tdb_template_load" class="pageid-'+c+' tdb-load-mobile-template tdb-template-el-mobile-list-el"><div class="ab-item ab-empty-item" title="Optional - Load mobile page from TagDiv Cloud Library"></div><span class="tdb-template-el-mobile-list-title">Load mobile page from Cloud Library</span></li><li id="wp-admin-bar-tdc_create_mobile_page" class="pageid-'+
c+' tdb-template-el-mobile-list-el"><div class="ab-item ab-empty-item" title="Optional - Create blank mobile page"></div><span class="tdb-template-el-mobile-list-title">Create blank mobile page</span></li>';if(_.isArray(f)&&f.length){var m=!1,n="template";e="";"page"===a&&(n="page",e=d);_.each(f,function(b,d,e){d="";_.isUndefined(b.is_current)||(d="tdb-current",m=!0);l+='<div class="tdb-template-el-mobile-list-el '+d+'" data-mobile-template-id="'+b.template_id+'" data-template-id="'+c+'"><div class="tdb-template-el-mobile-list-title" title="'+
b.template_title+'">'+b.template_title+'</div><a class="tdb-template-el-mobile-list-edit" title="Edit mobile '+n+' with Composer" href="'+b.template_url+'" target="_blank"></a><div class="tdb-template-el-mobile-list-delete" title="Delete mobile '+n+'" data-type="'+a+'"></div></div>'});""!==l&&(f="",m||(f="tdb-current",m=!0),l=e+'<div class="tdb-template-el-mobile-list-separator" style="height: 1px;width: 100%;background-color: #ebebeb;margin: 10px 0;"></div><div class="tdb-template-el-mobile-list-el '+
f+'" data-mobile-template-id="" data-template-id="'+c+'"><div class="tdb-template-el-mobile-list-title">No mobile '+n+"</div></div>"+l);""!==l&&(b.html('<div class="tdb-template-el-mobile-list-inner">'+l+'</div><div class="tdb-template-el-mobile-list-separator" style="height: 1px;width: 100%;background-color: #ebebeb;margin: 10px 0;"></div><a href="https://tagdiv.com/newspaper-10-3-7-update-brings-customizable-and-fast-mobile-pages/" target="_blank" style="height: auto;padding: 0;color: #1a9a75;" class="tdb-template-el-mobile-list-no-el">Documentation &#187;</a>'),
e=b.parent(".tdb-template-el-mobile-btns"),!_.isUndefined(k)&&e.length&&(b.find(".tdb-template-el-mobile-list-el").removeClass("tdb-current"),b.find(".tdb-template-el-mobile-list-el").data("template-id",c),b.find('.tdb-template-el-mobile-list-el[data-mobile-template-id="'+k+'"]').addClass("tdb-current")),b.is(":visible")&&e.length?b.show():b.hide())}""===l&&("page"===a?b.html(d+'<div class="tdb-template-el-mobile-list-separator" style="height: 1px;width: 100%;background-color: #ebebeb;margin: 10px 0;"></div><div class="tdb-template-el-mobile-list-inner"><div class="tdb-template-el-mobile-list-no-el">No mobile page, please import or create a new mobile page.</div><div class="tdb-template-el-mobile-list-separator" style="height: 1px;width: 100%;background-color: #ebebeb;margin: 10px 0;"></div><a href="https://tagdiv.com/newspaper-10-3-7-update-brings-customizable-and-fast-mobile-pages/" target="_blank" style="height: auto;padding: 0;color: #1a9a75;" class="tdb-template-el-mobile-list-no-el">Documentation &#187;</a></div>'):
b.html(""));"undefined"!==typeof h&&h.call()}})}})();
jQuery(window).on("load",function(){var a=!1;window.parent===window.top&&"undefined"!==typeof window.name&&"tdc-live-iframe"===window.name&&"undefined"!==typeof window.parent.tdcSidebar&&(a=!0);if(window.self===window.top||a)jQuery(".tdb_single_reading_progress").each(function(){var c=jQuery(this),b=c.data("td-block-uid");c=c.data("bar-position");var d=new tdReadingProgressBar.item;d.blockUid=b;d.barPosition=c;tdReadingProgressBar.addItem(d);a&&tdReadingProgressBar.createFixedBar(d,0,30)}),a||tdReadingProgressBar.calculateBarsFill()});
var tdbMenu={};
(function(){tdbMenu={items:[],item:function(){this.blockUid="";this._outsideClickArea=this._mainMenu=this._itemsWithSubmenu=null;this._outsideClickExcludedAreas="";this._openMenuClass="tdb-hover";this._openMenuBodyClass="tdb-open-menu";this._is_initialized=this.isMegaMenuParentPos=this.isMegaMenuFull=this.inComposer=!1},init:function(){tdbMenu.items=[]},_initialize_item:function(a){if(!0!==a._is_initialized){tdbMenu._setHover(a);var c=0<jQuery("."+a.blockUid).parents(".td-header-template-wrap").length,b=
a.jqueryObj.find(".tdb-menu .tdb-mega-menu .sub-menu"),d=a.jqueryObj.find(".tdb-menu .tdb-mega-menu-page .sub-menu");0<b.length&&(window.tdb_p_autoload_vars.isAjax?c||(a.isMegaMenuFull&&tdbMenu.megaMenuFull(a,a.inComposer),a.isMegaMenuParentPos&&tdbMenu.megaMenuParentPos(a,a.inComposer)):(a.isMegaMenuFull&&tdbMenu.megaMenuFull(a,a.inComposer),a.isMegaMenuParentPos&&tdbMenu.megaMenuParentPos(a,a.inComposer)));0<d.length&&0<jQuery("."+a.blockUid).parents(".tdc-row-is-sticky").length&&(window.tdb_p_autoload_vars.isAjax?
c||tdbMenu.pageMegaMenuHeight(a,a.inComposer):tdbMenu.pageMegaMenuHeight(a,a.inComposer));a._is_initialized=!0}},addItem:function(a){if("undefined"===typeof a.blockUid)throw"item.blockUid is not defined";tdbMenu.items.push(a);tdbMenu._initialize_item(a)},deleteItem:function(a){for(var c=0;c<tdbMenu.items.length;c++)if(tdbMenu.items[c].blockUid===a)return tdbMenu.items.splice(c,1),!0;return!1},megaMenuFull:function(a,c){function b(){l=d.find(".tdb-menu .tdb-mega-menu .sub-menu");l.each(function(){h=
-e.left+"px";jQuery(this).attr("style","left:"+h+"; width: "+jQuery("body").outerWidth()+"px !important")});k||(d.find(".tdb-mega-menu-inactive").removeClass("tdb-mega-menu-inactive"),k=!0)}var d=a.jqueryObj,e,f,h,l,k=!1;jQuery(window).resize(function(){setTimeout(function(){e=d.offset();f=e.left;b();c&&setInterval(function(){e=d.offset();e.left!==f&&(b(),f=e.left)},1E3)},1500)});jQuery(window).resize()},megaMenuParentPos:function(a,c){function b(){h=d.find(".tdb-menu .tdb-mega-menu > ul");h.show();
h.each(function(){jQuery(this).css("left","");l=jQuery(this).offset();k=l.left;0>k?jQuery(this).offset({left:0}):(m=jQuery(window).width()-(k+jQuery(this).outerWidth()),0>m&&jQuery(this).offset({left:jQuery(window).width()-jQuery(this).outerWidth()}))});n||(d.find(".tdb-mega-menu-inactive").removeClass("tdb-mega-menu-inactive"),n=!0);h.hide()}var d=a.jqueryObj,e,f,h,l,k,m,n=!1;setTimeout(function(){jQuery(window).resize(function(){e=d.offset();f=e.left;b();c&&setInterval(function(){e=d.offset();e.left!==
f&&(b(),f=e.left)},1E3)});jQuery(window).resize()},60)},pageMegaMenuHeight:function(a,c){function b(){f.show();f.each(function(){var a=jQuery(this),b=a.find("> li"),c=e.offset().top+e.outerHeight();b=b.outerHeight();var f=d.scrollTop(),n=d.height();c+b>n+f?a.css({height:n+f-c,"overflow-y":"auto"}):a.css({height:"auto","overflow-y":"visible"})});f.hide()}var d=jQuery(window),e=a.jqueryObj,f=e.find(".tdb-menu .tdb-mega-menu-page > ul");setTimeout(function(){d.on("resize scroll",function(){b();c&&setInterval(function(){b()},
1E3)});d.resize().scroll()},1500)},_getSubmenuPosition:function(a){var c=jQuery(window).width();a=a.children(".sub-menu").first();if(0<a.length){var b=a.offset().left+a.width();b>c&&(a.parent().parent().hasClass("tdb-menu")?a.css("left","-"+(b-c)+"px"):a.addClass("reversed").css("left","-"+(a.width()+0)+"px"))}},_getMouseAngleDirection:function(a,c,b,d){return Math.atan2(b-a,d-c)/Math.PI*180},_setHover:function(a){var c=a.jqueryObj.find(".tdb-menu");c.supersubs({minWidth:10,maxWidth:20,extraWidth:1,
applyMin:!0});var b=c.find(".menu-item-has-children > a, .tdb-mega-menu > a");b.parent().find(".sub-menu").first().css("display","none");if(tdDetect.isTouchDevice)jQuery(document).on("touchstart","body",function(c){var d=b.parent(),e=jQuery("body");e.hasClass(a._openMenuBodyClass)&&!d.is(c.target)&&0===d.has(c.target).length&&(d.removeClass(a._openMenuClass),d.children(".sub-menu").hide(),e.removeClass(a._openMenuBodyClass))}),b.on("touchstart",function(c){c.preventDefault();c.stopPropagation();var d=
jQuery(this);c=d.parent();var e=jQuery("body");c.hasClass(a._openMenuClass)?null!==d.attr("href")&&"#"!==d.attr("href")?window.location.href=d.attr("href"):((c.parent().hasClass("tdb-menu")||c.parent().hasClass("top-header-menu"))&&e.removeClass(a._openMenuBodyClass),c.removeClass(a._openMenuClass),c.find(".sub-menu").hide(),c.find("li").removeClass(a._openMenuClass)):(c.parent().hasClass("tdb-menu")||c.parent().hasClass("top-header-menu")?(b.parent().removeClass(a._openMenuClass),b.parent().children(".sub-menu").hide()):
(d=c.siblings(),d.removeClass(a._openMenuClass),d.find(".sub-menu").hide(),d.find("li").removeClass(a._openMenuClass)),c.addClass(a._openMenuClass),c.children(".sub-menu").show(),tdbMenu._getSubmenuPosition(c),e.addClass(a._openMenuBodyClass))});else{var d={},e,f=!0;c.on("mouseleave",function(){b.parent().removeClass(a._openMenuClass);b.parent().children(".sub-menu").hide();d={}});c.find(".menu-item").hover(function(){var c=jQuery(this),l="",k,m;if(c.hasClass("menu-item-has-children")||c.hasClass("tdb-mega-menu"))if(c.parent().hasClass("tdb-menu"))if(jQuery.isEmptyObject(d))c.addClass(a._openMenuClass),
c.children(".sub-menu").show(),d=c;else{if(c[0]!==d[0]){var n=m=k=0;var q=null;!0===f&&(f=!1,e=setTimeout(function(){b.parent().removeClass(a._openMenuClass);b.parent().children(".sub-menu").hide();c.addClass(a._openMenuClass);c.children(".sub-menu").show();d=c},400));c.on("mousemove",function(h){5<=k?(k=0,q=tdbMenu._getMouseAngleDirection(m,n,h.pageX,h.pageY),m=h.pageX,n=h.pageY):(k++,0===m&&0===n&&(m=h.pageX,n=h.pageY));null!==q&&(85<q||-85>q)&&(b.parent().removeClass(a._openMenuClass),b.parent().children(".sub-menu").hide(),
c.addClass(a._openMenuClass),c.children(".sub-menu").show(),c.off("mousemove"),clearTimeout(e),f=!0,d=c)})}}else l=c.siblings(),l.removeClass(a._openMenuClass),l.find(".sub-menu").hide(),l.find("li").removeClass(a._openMenuClass),c.addClass(a._openMenuClass),c.children(".sub-menu").show(),tdbMenu._getSubmenuPosition(c);else c.parent().hasClass("tdb-menu")?jQuery.isEmptyObject(d)||(n=m=k=0,q=null,!0===f&&(f=!1,e=setTimeout(function(){b.parent().removeClass(a._openMenuClass);b.parent().children(".sub-menu").hide();
d={}},400)),c.on("mousemove",function(h){5<=k?(k=0,q=tdbMenu._getMouseAngleDirection(m,n,h.pageX,h.pageY),m=h.pageX,n=h.pageY):(k++,0===m&&0===n&&(m=h.pageX,n=h.pageY));null!==q&&(85<q||-85>q)&&(b.parent().removeClass(a._openMenuClass),b.parent().children(".sub-menu").hide(),c.off("mousemove"),clearTimeout(e),f=!0,d={})})):(d=c.parent(),l=c.siblings(),l.removeClass(a._openMenuClass),l.find(".sub-menu").hide(),l.find("li").removeClass(a._openMenuClass))},function(){var a=jQuery(this);!1===f&&(clearTimeout(e),
f=!0);a.off("mousemove")})}},unsetHover:function(a){null!==a._itemsWithSubmenu&&a._itemsWithSubmenu.off();null!==a._outsideClickArea&&a._outsideClickArea.off()}}})();var tdbMenuItemPullDown={};
(function(){tdbMenuItemPullDown={init:function(){setTimeout(function(){jQuery(".tdb-menu-items-pulldown").each(function(a,c){var b=jQuery(c),d=b.parent().attr("id");c=jQuery("."+d);var e="";"none"!==c.css("max-width")&&(e=c.css("max-width"));if(c.hasClass("tdb-menu-items-in-more")){var f=b.find(".tdb-menu:first"),h=f.parents(".tdb-menu-items-pulldown:first"),l=[];a=new tdPullDown.item;if(void 0!==c.css("display")&&"inline-block"===c.css("display")){var k=c.closest(".vc_column_container");h=k;var m=
"";m=0!==k.find(".tdc-elements").length?".tdc-elements":".wpb_wrapper";k.find(m+" > .td_block_wrap").each(function(){var a=.9*k.outerWidth(!0),b=jQuery(this).outerWidth(!0);if(jQuery(this).data("td-block-uid")!==d)if(b<a)l.push(jQuery(this));else return!1})}a.blockUid=d;a.horizontal_jquery_obj=f;a.vertical_jquery_obj=b.find(".tdb-menu-items-dropdown:first");a.horizontal_element_css_class="tdb-menu-item-button";a.horizontal_no_items_css_class="tdb-menu-items-empty";a.container_jquery_obj=h;a.horizontal_max_width=
e;a.excluded_jquery_elements=l;a.isTdbMenu=!0;b=c.find(".tdb-main-sub-icon-fake");b.length&&(a.main_sub_icon=b.html());c=c.find(".tdb-sub-icon-fake");c.length&&(a.sub_icon=c.html());tdPullDown.add_item(a)}f.parents(".tdb-menu-items-pulldown:first").hasClass("tdb-menu-items-pulldown-inactive")&&f.parents(".tdb-menu-items-pulldown:first").removeClass("tdb-menu-items-pulldown-inactive")})},50)}}})();jQuery().ready(function(){});jQuery(document).ready(function(){tdbMenuItemPullDown.init()});
var tdbSearch={};
(function(){tdbSearch={items:[],init:function(){tdbSearch.items=[]},item:function(){this.jqueryObj=this.blockAtts=this.blockUid=void 0;this._is_search_open=!1;this._is_live_search_active=!0;this._last_request_results_count=this._current_selection_index=0;this._first_down_up=!0;this._resultsLimit=void 0;this._openSearchFormClass="";this._is_initialized=this.disable_trigger=this.isSearchFormFull=this.inComposer=!1},_initialize_item:function(a){if(!0!==a._is_initialized){jQuery(document).on("click",function(b){!0===
a._is_search_open&&(a.jqueryObj.find("*").find(b.target).length||tdbSearch.hide_search_box(a))});if(!a.disable_trigger)a.jqueryObj.find(".tdb-head-search-btn").on("click",function(b){b.preventDefault();b.stopPropagation();!0===a._is_search_open?tdbSearch.hide_search_box(a):tdbSearch.show_search_box(a)});a._is_live_search_active&&!a.inComposer&&a.jqueryObj.find(".tdb-head-search-form-input").keydown(function(b){if(b.which&&39===b.which||b.keyCode&&39===b.keyCode||b.which&&37===b.which||b.keyCode&&
37===b.keyCode)tdbSearch.set_input_focus(a);else{if(b.which&&13===b.which||b.keyCode&&13===b.keyCode)return b=a.jqueryObj.find(".tdb-aj-cur-element"),0<b.length?window.location=b.find(".entry-title a").attr("href"):jQuery(this).parent().parent().submit(),!1;if(b.which&&40===b.which||b.keyCode&&40===b.keyCode)return tdbSearch.move_prompt_down(a),!1;if(b.which&&38===b.which||b.keyCode&&38===b.keyCode)return tdbSearch.move_prompt_up(a),!1;(b.which&&8===b.which||b.keyCode&&8===b.keyCode)&&1===jQuery(this).val().length&&
a.jqueryObj.find(".tdb-aj-search").empty();tdbSearch.set_input_focus(a);setTimeout(function(){tdbSearch.do_ajax_call(a)},100);return!0}});if(!a.disable_trigger){var c=0<jQuery("."+a.blockUid).parents(".td-header-template-wrap").length;window.tdb_p_autoload_vars.isAjax?c||(a.isSearchFormFull?tdbSearch.searchFormWidth(a,!0,a.inComposer):tdbSearch.searchFormWidth(a,!1,a.inComposer)):a.isSearchFormFull?tdbSearch.searchFormWidth(a,!0,a.inComposer):tdbSearch.searchFormWidth(a,!1,a.inComposer)}a._is_initialized=
!0}},addItem:function(a){if("undefined"===typeof a.blockUid)throw"item.blockUid is not defined";tdbSearch.items.push(a);tdbSearch._initialize_item(a)},deleteItem:function(a){for(var c=0;c<tdbSearch.items.length;c++)if(tdbSearch.items[c].blockUid===a)return tdbSearch.items.splice(c,1),!0;return!1},searchFormWidth:function(a,c,b){function d(){l=-f.left+"px";k.attr("style",k.attr("style")+";left:"+l)}var e=a.jqueryObj,f,h,l,k=e.find(".tdb-drop-down-search");jQuery(window).resize(function(){var a=e.offset().left;
c?(k.attr("style","width: "+jQuery("body").outerWidth()+"px !important; left: -"+a+"px;"),setTimeout(function(){f=e.offset();h=f.left;d();b&&setInterval(function(){f=e.offset();f.left!==h&&(d(),h=f.left)},1E3)},500)):k.attr("style","width: "+jQuery("body").outerWidth()+"px !important;")});a.inComposer&&jQuery(window).resize()},show_search_box:function(a){a.jqueryObj.find(".tdb-drop-down-search").addClass(a._openSearchFormClass);!0!==tdDetect.isIos&&setTimeout(function(){document.querySelector("."+
a.blockUid+" .tdb-head-search-form-input").focus()},200);a._is_search_open=!0},hide_search_box:function(a){a.jqueryObj.find(".tdb-drop-down-search").removeClass(a._openSearchFormClass);a._is_search_open=!1},move_prompt_up:function(a){!0===a._first_down_up?(a._first_down_up=!1,0===a._current_selection_index?a._current_selection_index=a._last_request_results_count-1:a._current_selection_index--):0===a._current_selection_index?a._current_selection_index=a._last_request_results_count:a._current_selection_index--;
tdbSearch._repaintCurrentElement(a)},move_prompt_down:function(a){!0===a._first_down_up?a._first_down_up=!1:a._current_selection_index===a._last_request_results_count?a._current_selection_index=0:a._current_selection_index++;tdbSearch._repaintCurrentElement(a)},set_input_focus:function(a){a._current_selection_index=0;a._first_down_up=!0;a.jqueryObj.find(".tdb-search-form").fadeTo(100,1);a.jqueryObj.find(".td_module_wrap").removeClass("tdb-aj-cur-element")},remove_input_focus:function(a){0!==a._last_request_results_count&&
a.jqueryObj.find(".tdb-head-search-form-input").addClass("tdb-head-search-nofocus")},_repaintCurrentElement:function(a){a.jqueryObj.find(".td_module_wrap").removeClass("tdb-aj-cur-element");a._current_selection_index>a._last_request_results_count-1?(a.jqueryObj.find(".tdb-search-form").fadeTo(100,1),a.jqueryObj.find(".tdb-head-search-form-input").removeClass("tdb-head-search-nofocus")):(tdbSearch.remove_input_focus(a),a.jqueryObj.find(".td_module_wrap").eq(a._current_selection_index).addClass("tdb-aj-cur-element"))},
do_ajax_call:function(a){var c=a.jqueryObj.find(".tdb-head-search-form-input").val();""===c?tdbSearch.set_input_focus(a):tdLocalCache.exist("tdb-"+c)?tdbSearch.process_ajax_response(tdLocalCache.get("tdb-"+c),a):jQuery.ajax({type:"POST",url:td_ajax_url,data:{action:"td_ajax_search",module:"tdb_module_search",atts:a.blockAtts,td_string:c,limit:a._resultsLimit},success:function(b,d,e){tdLocalCache.set("tdb-"+c,b);tdbSearch.process_ajax_response(b,a)},error:function(a,c,e){window.console.log(e)}})},
process_ajax_response:function(a,c){var b=c.jqueryObj.find(".tdb-head-search-form-input").val(),d=c.jqueryObj.find(".tdb-aj-search");""===b?d.empty():(a=jQuery.parseJSON(a),a.td_search_query===b&&(c._current_selection_index=0,c._last_request_results_count=a.td_total_in_list,c._first_down_up=!0,d.html(a.td_data),"undefined"!==typeof window.tdAnimationStack&&!0===window.tdAnimationStack.activated&&(window.tdAnimationStack.check_for_new_items(".tdb-aj-search .td-animation-stack",window.tdAnimationStack.SORTED_METHOD.sort_left_to_right,
!0,!1),window.tdAnimationStack.compute_items(!1))))},hideAllItems:function(){tdbSearch.items.forEach(function(a){tdbSearch.hide_search_box(a)})}}})();jQuery().ready(function(){tdbSearch.init();setTimeout(function(){jQuery(window).resize()},500)});var tdbLocationFinder={};jQuery().ready(function(){tdbLocationFinder.init()});
(function(){tdbLocationFinder={items:[],item:function(){this.blockObj=this.uid="";this.mapMarker=this.map=void 0;this.defLong=this.defLat=0;this.defZoom=3;this.defAddress="";this.errorContainer=void 0;this._is_initialized=this._in_composer=!1},init:function(){tdbLocationFinder.items=[];this._is_running=!1},_initialize_item:function(a){!0!==a._is_initialized&&(a.errorContainer=a.blockObj.find(".tdb-s-notif"),tdbLocationFinder.initMap(a),a._in_composer||(""!==a.defAddress&&tdbLocationFinder.displayLocationByAddress(a,
a.defAddress),tdbLocationFinder.locationSearch(a),tdbLocationFinder.currentLocation(a)),a._is_initialized=!0)},addItem:function(a){if("undefined"===typeof a.uid)throw"item.uid is not defined";tdbLocationFinder.items.push(a);tdbLocationFinder._initialize_item(a)},locationSearch:function(a){var c=document.querySelector("#tdb-lf-search-"+a.uid),b=new google.maps.places.Autocomplete(c,{types:["address"],fields:["address_components","geometry"]});b.addListener("place_changed",function(){var d=b.getPlace();
c.classList.add("loading");c.disabled=!0;tdbLocationFinder.updateError(a,"",!1);if(d.geometry){var e=d.address_components,f="",h="",l="",k="",m="",n="",q=d.geometry.location;console.log(e);for(d=0;d<e.length;d++)for(var u=0;u<e[d].types.length;u++){"route"===e[d].types[u]&&(f=e[d].long_name);"street_number"===e[d].types[u]&&(h=e[d].long_name);"postal_code"===e[d].types[u]&&(l=e[d].long_name);if(""===k&&"locality"===e[d].types[u]||""===k&&"postal_town"===e[d].types[u])k=e[d].long_name;"administrative_area_level_1"===
e[d].types[u]&&(m=e[d].long_name);"country"===e[d].types[u]&&(n=e[d].long_name)}""===m&&(m=k);setTimeout(function(){tdbLocationFinder.updateLocationInputs(a,f,h,l,k,m,n);tdbLocationFinder.updateMap(a,q.lat(),q.lng(),15);c.classList.remove("loading");c.disabled=!1},400)}else setTimeout(function(){c.value="";tdbLocationFinder.updateLocationInputs(a,"","","");tdbLocationFinder.updateMap(a,0,0,3);c.classList.remove("loading");c.disabled=!1},400)})},displayLocationByAddress:function(a,c){var b={lat:0,
lng:0};(new google.maps.Geocoder).geocode({address:c},function(c,e){if("OK"===e)return c=c[0].geometry.location,tdbLocationFinder.updateMap(a,c.lat(),c.lng(),15),b});return b},currentLocation:function(a){var c=a.blockObj.find(".tdb-lf-curr-loc"),b=a.blockObj.find("#tdb-lf-search-"+a.uid);c.on("click",function(){b.addClass("loading").prop("disabled",!0);tdbLocationFinder.updateError(a,"",!1);navigator.geolocation.getCurrentPosition(function(c){c=new google.maps.LatLng(c.coords.latitude,c.coords.longitude);
(new google.maps.Geocoder).geocode({location:c},function(c,d){if("OK"===d){d=c[0].address_components;var e="",f="",k="",m="",n="",q="",u=c[0].geometry.location;for(c=0;c<d.length;c++)for(var v=0;v<d[c].types.length;v++)"route"===d[c].types[v]&&(e=d[c].long_name),"street_number"===d[c].types[v]&&(f=d[c].long_name),"postal_code"===d[c].types[v]&&(k=d[c].long_name),"locality"===d[c].types[v]&&(m=d[c].long_name),"administrative_area_level_1"===d[c].types[v]&&(n=d[c].long_name),"country"===d[c].types[v]&&
(q=d[c].long_name);""===n&&(n=m);setTimeout(function(){b.val(e+(""!==f?" "+f:"")+", "+m+", "+q);tdbLocationFinder.updateLocationInputs(a,e,f,k,m,n,q);tdbLocationFinder.updateMap(a,u.lat(),u.lng(),15);b.removeClass("loading").prop("disabled",!1)},400)}else b.removeClass("loading").prop("disabled",!1)})},function(){tdbLocationFinder.updateError(a,"Unable to retrieve your current location. Please activate the location setting, then refresh the page.",!0);b.removeClass("loading").prop("disabled",!1)})})},
initMap:function(a){var c=document.querySelector("."+a.uid+" .tdb-lf-map"),b={lat:a.defLat,lng:a.defLong};a.map=new google.maps.Map(c,{center:b,zoom:a.defZoom});a.mapMarker=new google.maps.Marker({position:b,map:a.map})},updateMap:function(a,c,b,d){c=new google.maps.LatLng(c,b);a.map.setCenter(c);a.map.setZoom(d);a.mapMarker.setPosition(c)},updateLocationInputs:function(a,c,b,d,e,f,h){var l=jQuery("#tdb-lf-address-"+a.uid),k=jQuery("#tdb-lf-postal-code-"+a.uid),m=jQuery("#tdb-lf-city-"+a.uid),n=jQuery("#tdb-lf-state-"+
a.uid);a=jQuery("#tdb-lf-country-"+a.uid);l.val(c+" "+b);k.val(d);m.val(e);n.val(f);a.val(h)},updateError:function(a,c,b){b=void 0===b?!0:b;a=a.errorContainer;a.find(".tdb-s-notif-descr").html(c);b?a.show():a.hide()},deleteItem:function(a){for(var c=0;c<tdbLocationFinder.items.length;c++)if(tdbLocationFinder.items[c].uid===a)return tdbLocationFinder.items.splice(c,1),!0;return!1},resetItems:function(){tdbLocationFinder.items=[]}}})();var tdbLocationDisplay={};jQuery().ready(function(){tdbLocationDisplay.init()});
(function(){tdbLocationDisplay={items:[],item:function(){this.blockObj=this.uid="";this.mapMarker=this.map=void 0;this.address="";this._is_initialized=!1},init:function(){tdbLocationDisplay.items=[];this._is_running=!1},_initialize_item:function(a){!0!==a._is_initialized&&((new google.maps.Geocoder).geocode({address:a.address},function(c,b){"OK"===b?(c=c[0].geometry.location,tdbLocationDisplay.initMap(a,c.lat(),c.lng(),15)):tdbLocationDisplay.initMap(a,0,0,3)}),a._is_initialized=!0)},addItem:function(a){if("undefined"===
typeof a.uid)throw"item.uid is not defined";tdbLocationDisplay.items.push(a);tdbLocationDisplay._initialize_item(a)},initMap:function(a,c,b,d){var e=document.querySelector("."+a.uid+" .tdb-sld-map");c={lat:c,lng:b};a.map=new google.maps.Map(e,{center:c,zoom:d});a.mapMarker=new google.maps.Marker({position:c,map:a.map})},deleteItem:function(a){for(var c=0;c<tdbLocationDisplay.items.length;c++)if(tdbLocationDisplay.items[c].uid===a)return tdbLocationDisplay.items.splice(c,1),!0;return!1},resetItems:function(){tdbLocationDisplay.items=
[]}}})();var tdbFormTaxonomies={};jQuery().ready(function(){tdbFormTaxonomies.init()});
(function(){tdbFormTaxonomies={items:[],item:function(){this.enableTermCreate=this.disableSearch=this.showAllTerms=this.required=this.blockObj=this.uid="";this.orderBy="name";this.order="ASC";this.termIsHerarchical=this.termType="";this.subChildDisplay=this.childDisplay=this.parentDisplay="dropdown";this.subChildLimit=this.childLimit=this.parentLimit=-1;this.disabledForGuests=!1;this._nonce="";this._is_initialized=this._in_composer=!1},init:function(){tdbFormTaxonomies.items=[];this._is_running=!1},
_initialize_item:function(a){if(!0!==a._is_initialized){a.blockObj.on("select2:open",function(){document.querySelector(".select2-search__field").focus()});a.disabledForGuests||jQuery("."+a.uid+" .tdb-s-form-group select").select2({dropdownCssClass:"tdb-s-select2 tdb-s-select2-"+a.uid,templateSelection:function(a){return jQuery(a.element).text().replace(/ *\([^)]*\) */g,"")}});if(!a.showAllTerms)a.blockObj.on("change","select.tdb-s-form-input",function(c){tdbFormTaxonomies.renderTermChildrenFromDropdown(a,
jQuery(c.target))});a.blockObj.on("click",".tdb-s-fc-label",function(c){c.preventDefault();c=jQuery(c.target);var b=c.closest(".tdb-s-form-group").data("display");"checkbox"===b?tdbFormTaxonomies.renderTermChildrenFromCheckbox(a,c):"radio"===b&&tdbFormTaxonomies.renderTermChildrenFromRadio(a,c)});a.blockObj.on("keyup",".tdb-ft-checkbox-search",function(){var a=jQuery(this),b=new RegExp(a.val(),"i");a.closest(".tdb-s-form-group").find(".tdb-s-fc-label").each(function(){var a=jQuery(this),c=a.closest(".tdb-s-form-check");
b.test(a.text())?c.show():c.hide()})});if(a.enableTermCreate)a.blockObj.on("click",".tdb-ft-create-term",function(c){c.preventDefault();c=jQuery(c.target).closest(".tdb-s-form-group");var b=c.data("term-hierarchy"),d="child"===b||"sub-child"===b?c.data("parent-id"):0,e=a.blockObj.find(".tdb-s-content");c='<div class="tdb-s-form"><div class="tdb-s-form-content"><div class="tdb-s-fc-inner"><div class="tdb-s-form-group tdb-s-form-group-sm tdb-s-form-group-name"><label class="tdb-s-form-label" for="tdb-ft-new-term-name">Name</label><input type="text" class="tdb-s-form-input" name="tdb-ft-new-term-name" id="tdb-ft-new-term-name"></div>';
a.termIsHerarchical&&(c+='<div class="tdb-s-form-group tdb-s-form-group-sm tdb-s-form-group-parent"><label class="tdb-s-form-label" for="tdb-ft-new-term-parent-id">Parent</label><div class="tdb-s-form-select-wrap tdb-s-content tdb-s-content-loading"><select class="tdb-s-form-input" name="tdb-ft-new-term-parent-id" id="tdb-ft-new-term-parent-id"><option value="0">-- Select parent --</option></select><svg class="tdb-s-form-select-icon" xmlns="http://www.w3.org/2000/svg" width="8.947" height="12.578" viewBox="0 0 8.947 12.578"><g transform="translate(7.947 1) rotate(90)"><path d="M0,7.947A1,1,0,0,1-.58,7.761,1,1,0,0,1-.815,6.366l2.06-2.893L-.815.58A1,1,0,0,1-.58-.815,1,1,0,0,1,.815-.58L3.288,2.893a1,1,0,0,1,0,1.16L.815,7.527A1,1,0,0,1,0,7.947Z" transform="translate(8.104 0)"/><path d="M2.474,7.947a1,1,0,0,1-.815-.42L-.815,4.053a1,1,0,0,1,0-1.16L1.659-.58A1,1,0,0,1,3.053-.815,1,1,0,0,1,3.288.58L1.228,3.473l2.06,2.893a1,1,0,0,1-.814,1.58Z" transform="translate(0 0)"/></g></svg></div></div>');
c+='<div class="tdb-s-form-group tdb-s-form-group-sm tdb-s-form-group-descr"><label class="tdb-s-form-label" for="tdb-ft-new-term-descr">Description</label><textarea class="tdb-s-form-input" name="tdb-ft-new-term-descr" id="tdb-ft-new-term-descr"></textarea></div></div></div></div>';var f=new tdbModal.item;f.customClasses="tdb-ft-create-term-modal tdb-ft-create-term-modal-"+a.uid;f.title="Create new term";f.body=c;f.validateFormInputs=[{id:"tdb-ft-new-term-name",rules:"required"}];tdbModal.addItem(f);
tdbModal.openModal(f);if(a.termIsHerarchical){var h=f.modalObj.find("#tdb-ft-new-term-parent-id");jQuery.ajax({type:"POST",url:td_ajax_url,data:{action:"tdb_ft_get_terms",_nonce:a._nonce,parentTermID:-1,termType:a.termType,depth:2,orderBy:a.orderBy,order:a.order},success:function(b){b=jQuery.parseJSON(b);Object.keys(b).length&&h.append(tdbFormTaxonomies.render_dropdown_options(b,0,[d.toString()]));h.select2({dropdownCssClass:"tdb-s-select2 tdb-s-select2-"+a.uid});h.closest(".tdb-s-form-select-wrap").removeClass("tdb-s-content-loading")}})}f.modalObj.on("tdbModal.confirming",
function(){var b=f.modalObj.find(".tdb-s-fc-inner"),c=b.find("#tdb-ft-new-term-name"),d=b.find("#tdb-ft-new-term-parent-id"),h=b.find("#tdb-ft-new-term-descr");c=c.val();var q=d.length?d.val():0;d=h.val();b.find(".tdb-s-notif").remove();!0===tdbModal._validate_form_inputs(f)?jQuery.ajax({type:"POST",url:td_ajax_url,data:{action:"tdb_create_term",_nonce:a._nonce,termName:c,termType:a.termType,termDescr:d,parentTermID:q},success:function(c){c=jQuery.parseJSON(c);if(c.errors.length){var d='<div class="tdb-s-notif tdb-s-notif-xsm tdb-s-notif-error">';
d+='<ul class="tdb-s-notif-list">';jQuery.each(c.errors,function(a,b){d+="<li>"+b+"</li>"});d+="</ul>";d+="</div>";b.append(d);f.modalObj.trigger("tdbModal.confirmingReset")}else{f.modalObj.trigger("tdbModal.confirmed");c=0==q||a.showAllTerms?e.find('.tdb-s-form-group[data-term-hierarchy="parent"]'):e.find('.tdb-s-form-group[data-parent-id="'+q+'"]');var h=c.data("display");if(c.length){var l=[];if("dropdown"===h){var k=c.find("select option:selected");k.length&&l.push(k.val())}else"checkbox"===h?
(k=c.find(".tdb-s-form-check input:checked"),jQuery.each(k,function(a,b){l.push(jQuery(this).val())})):"radio"===h&&(k=c.find(".tdb-s-form-check input:checked"),k.length&&l.push(k.val()));tdbFormTaxonomies.refreshTerms(a,c,q,l,h)}else c=e.find('[value="'+q+'"]'),c.length&&(k=c.closest(".tdb-s-form-group"),h=k.data("term-hierarchy"),k=k.data("display"),"sub-child"!==h&&("dropdown"===k?c.is(":selected")&&(c=c.closest("select"),tdbFormTaxonomies.renderTermChildrenFromDropdown(a,c)):"checkbox"===k?c.is(":checked")&&
(c=c.closest(".tdb-s-fc-label"),tdbFormTaxonomies.renderTermChildrenFromCheckbox(a,c,!0)):"radio"===k&&c.is(":checked")&&(c=c.closest(".tdb-s-fc-label"),tdbFormTaxonomies.renderTermChildrenFromRadio(a,c,!0))))}}}):f.modalObj.trigger("tdbModal.confirmingReset")})});a._is_initialized=!0}},addItem:function(a){if("undefined"===typeof a.uid)throw"item.uid is not defined";tdbFormTaxonomies.items.push(a);tdbFormTaxonomies._initialize_item(a)},renderTermChildrenFromDropdown:function(a,c){var b=c.closest(".tdb-s-form-group").data("term-hierarchy"),
d=c.val(),e=c.find("option:selected").text().replace(/ *\([^)]*\) */g,""),f="",h="",l=c.attr("data-old-term-id");""===c.val()?tdbFormTaxonomies.removeChildTerms(a,l,b):(c.attr("data-old-term-id",d),"parent"===b?f="child":"child"===b&&(f="sub-child"),"child"===f?h=a.childDisplay:"sub-child"===f&&(h=a.subChildDisplay),tdbFormTaxonomies.removeChildTerms(a,l,b),tdbFormTaxonomies.renderTermChildren(a,d,e,b,f,h))},renderTermChildrenFromCheckbox:function(a,c,b){b=void 0===b?!1:b;var d=c.find('input[type="checkbox"]'),
e=c.closest(".tdb-s-form-group").data("term-hierarchy"),f=d.val();c=c.find(".tdb-s-fc-title").text();var h="",l="",k=a.blockObj.find(".tdb-s-form");d.prop("disabled")||("parent"===e?h="child":"child"===e?h="sub-child":"sub-child"===e&&(h="last-level"),"child"===h?l=a.childDisplay:"sub-child"===h&&(l=a.subChildDisplay),d.prop("checked")&&!b?(d.prop("checked",!1),a.showAllTerms?tdbFormTaxonomies.manageLimits(a):tdbFormTaxonomies.removeChildTerms(a,f,e)):(d.prop("checked",!0),a.showAllTerms?tdbFormTaxonomies.manageLimits(a):
"last-level"===h?(k.addClass("tdb-s-content-loading"),setTimeout(function(){tdbFormTaxonomies.manageLimits(a);k.removeClass("tdb-s-content-loading")},400)):tdbFormTaxonomies.renderTermChildren(a,f,c,e,h,l)))},renderTermChildrenFromRadio:function(a,c,b){b=void 0===b?!1:b;var d=c.find('input[type="radio"]'),e=c.closest(".tdb-s-form-group"),f=e.find(".tdb-ft-checkboxes");e=e.data("term-hierarchy");var h=d.val();c=c.find(".tdb-s-fc-title").text();var l="",k="",m=f.attr("data-old-term-id");f.attr("data-old-term-id",
h);"parent"===e?l="child":"child"===e&&(l="sub-child");"child"===l?k=a.childDisplay:"sub-child"===l&&(k=a.subChildDisplay);d.prop("checked")?b&&(tdbFormTaxonomies.removeChildTerms(a,m,e),tdbFormTaxonomies.renderTermChildren(a,h,c,e,l,k)):(f.find('input[value="'+m+'"]').prop("checked",!1),d.prop("checked",!0),tdbFormTaxonomies.removeChildTerms(a,m,e),tdbFormTaxonomies.renderTermChildren(a,h,c,e,l,k))},renderTermChildren:function(a,c,b,d,e,f){var h=a.blockObj.find(".tdb-s-content"),l=h.find(".tdb-s-fc-inner");
h.addClass("tdb-s-content-loading");jQuery.ajax({type:"POST",url:td_ajax_url,data:{action:"tdb_ft_get_terms",_nonce:a._nonce,parentTermID:c,termType:a.termType,orderBy:a.orderBy,order:a.order},success:function(d){d=jQuery.parseJSON(d);var k="";Object.keys(d).length&&(k='<div class="tdb-s-form-group" data-term-hierarchy="'+e+'" data-parent-id="'+c+'" data-parent-name="'+b+'" data-display="'+f+'">',k+='<label class="tdb-s-form-label">',k+='<span class="tdb-s-form-label-inner">',k+=b.charAt(0).toUpperCase()+
b.slice(1),k+="</span>",a.enableTermCreate&&(k+='<a class="tdb-s-btn tdb-s-btn-simple tdb-ft-create-term" href="#">Add new</a>'),"checkbox"!==f||a.disableSearch||(k+='<input class="tdb-s-form-input tdb-ft-checkbox-search" type="text" placeholder="Search by keyword...">'),k+="</label>","dropdown"===f?(k+='<div class="tdb-s-form-select-wrap">',k+='<select class="tdb-s-form-input" name="tdb-posts-form-taxonomies-'+a.uid+'[]">',k+='<option value="">-- Select '+e+" "+(a.termName.charAt(0).toLowerCase()+
a.termName.slice(1))+" --</option>",k+=tdbFormTaxonomies.render_dropdown_options(d,0,[]),k+="</select>",k+='<svg class="tdb-s-form-select-icon" xmlns="http://www.w3.org/2000/svg" width="8.947" height="12.578" viewBox="0 0 8.947 12.578"><g transform="translate(7.947 1) rotate(90)"><path d="M0,7.947A1,1,0,0,1-.58,7.761,1,1,0,0,1-.815,6.366l2.06-2.893L-.815.58A1,1,0,0,1-.58-.815,1,1,0,0,1,.815-.58L3.288,2.893a1,1,0,0,1,0,1.16L.815,7.527A1,1,0,0,1,0,7.947Z" transform="translate(8.104 0)"/><path d="M2.474,7.947a1,1,0,0,1-.815-.42L-.815,4.053a1,1,0,0,1,0-1.16L1.659-.58A1,1,0,0,1,3.053-.815,1,1,0,0,1,3.288.58L1.228,3.473l2.06,2.893a1,1,0,0,1-.814,1.58Z" transform="translate(0 0)"/></g></svg>',
k+="</div>"):"checkbox"===f?(k+='<div class="tdb-ft-checkboxes">',k+='<div class="tdb-s-form-checkboxes-wrap">',k+=tdbFormTaxonomies.render_checkboxes(a,d,0,[]),k+="</div>",k+="</div>"):"radio"===f&&(k+='<div class="tdb-ft-checkboxes">',k+='<div class="tdb-s-form-checkboxes-wrap">',k+=tdbFormTaxonomies.render_radios(a,d,0,[]),k+="</div>",k+="</div>"),k+="</div>",k=jQuery(k),"dropdown"===f&&k.find("select").select2({dropdownCssClass:"tdb-s-select2 tdb-s-select2-"+a.uid}));setTimeout(function(){l.append(k);
tdbFormTaxonomies.manageLimits(a);h.removeClass("tdb-s-content-loading")},200)}})},refreshTerms:function(a,c,b,d,e){var f=a.blockObj.find(".tdb-s-content");f.addClass("tdb-s-content-loading");jQuery.ajax({type:"POST",url:td_ajax_url,data:{action:"tdb_ft_get_terms",_nonce:a._nonce,parentTermID:a.showAllTerms?-1:b,termType:a.termType,orderBy:a.orderBy,order:a.order},success:function(b){var h=jQuery.parseJSON(b);setTimeout(function(){Object.keys(h).length&&("dropdown"===e?(c.find("select option:not(:first-child)").remove(),
c.find("select").append(tdbFormTaxonomies.render_dropdown_options(h,0,d))):"checkbox"===e?c.find(".tdb-s-form-checkboxes-wrap").html(tdbFormTaxonomies.render_checkboxes(a,h,0,d)):"radio"===e&&c.find(".tdb-s-form-checkboxes-wrap").html(tdbFormTaxonomies.render_radios(a,h,0,d)));tdbFormTaxonomies.manageLimits(a);f.removeClass("tdb-s-content-loading")},200)}})},render_dropdown_options:function(a,c,b){var d="",e="-".repeat(c);""!==e&&(e+=" ");c++;jQuery.each(a,function(a,h){var f=-1!==jQuery.inArray(h.id.toString(),
b);d+='<option value="'+h.id+'" '+(f?"selected":"")+">"+e+a+"</option>";0<Object.keys(h.children).length&&(d+=tdbFormTaxonomies.render_dropdown_options(h.children,c,b))});return d},render_checkboxes:function(a,c,b,d){var e="",f="-".repeat(b);""!==f&&(f+=" ");b++;jQuery.each(c,function(c,l){var h=-1!==jQuery.inArray(l.id.toString(),d);e+='<div class="tdb-s-form-check">';e+='<label class="tdb-s-fc-label">';e+='<input type="checkbox" name="tdb-posts-form-taxonomies-'+a.uid+'[]" value="'+l.id+'" '+(h?
"checked":"")+">";e+='<span class="tdb-s-fc-check"></span>';e+='<span class="tdb-s-fc-title">'+f+c+"</span>";e+="</label>";e+="</div>";0<Object.keys(l.children).length&&(e+=tdbFormTaxonomies.render_checkboxes(a,l.children,b,d))});return e},render_radios:function(a,c,b,d,e){e=void 0===e?"":e;var f="",h="-".repeat(b);""!==h&&(h+=" ");b++;""===e&&(e=Math.floor(65536*(1+Math.random())).toString(16).substring(1));jQuery.each(c,function(c,k){var l=-1!==jQuery.inArray(k.id.toString(),d);f+='<div class="tdb-s-form-check">';
f+='<label class="tdb-s-fc-label">';f+='<input type="radio" name="tdb-posts-form-taxonomies-'+a.uid+"-"+e+'[]" value="'+k.id+'" '+(l?"checked":"")+">";f+='<span class="tdb-s-fc-check"></span>';f+='<span class="tdb-s-fc-title">'+h+c+"</span>";f+="</label>";f+="</div>";0<Object.keys(k.children).length&&(f+=tdbFormTaxonomies.render_radios(a,k.children,b,d))});return f},removeChildTerms:function(a,c,b){var d=a.blockObj.find(".tdb-s-content"),e=d.find('.tdb-s-form-group[data-parent-id="'+c+'"]');d.addClass("tdb-s-content-loading");
setTimeout(function(){if(e.length&&(e.remove(),"parent"===b)){var c=void 0,h=e.find("input:checked");h.length&&h.each(function(){c=d.find('.tdb-s-form-group[data-parent-id="'+jQuery(this).val()+'"]')});h=e.find("select");h.length&&(c=d.find('.tdb-s-form-group[data-parent-id="'+h.val()+'"]'));"undefined"!==typeof c&&c.length&&c.remove()}tdbFormTaxonomies.manageLimits(a);d.removeClass("tdb-s-content-loading")},400)},manageLimits:function(a){var c=a.blockObj.find(".tdb-ft-limit-warning"),b=c.find(".tdb-ft-limit-parent-notif"),
d=c.find(".tdb-ft-limit-child-notif"),e=c.find(".tdb-ft-limit-sub-child-notif"),f=a.blockObj.find('.tdb-s-form-group[data-term-hierarchy="parent"]'),h=a.blockObj.find('.tdb-s-form-group[data-term-hierarchy="child"]'),l=a.blockObj.find('.tdb-s-form-group[data-term-hierarchy="sub-child"]'),k=f.find("input:checked").length,m=h.find("input:checked").length,n=l.find("input:checked").length;k=-1<a.parentLimit&&k>=a.parentLimit;m=-1<a.childLimit&&m>=a.childLimit;a=-1<a.subChildLimit&&n>=a.subChildLimit;
k&&b.length||m&&d.length||a&&e.length?c.show():c.hide();k?(f.find('input[type="checkbox"]:not(:checked)').prop("disabled",!0),b.show()):(f.find('input[type="checkbox"]:not(:checked)').prop("disabled",!1),b.hide());m?(h.find('input[type="checkbox"]:not(:checked)').prop("disabled",!0),d.show()):(h.find('input[type="checkbox"]:not(:checked)').prop("disabled",!1),d.hide());a?(l.find('input[type="checkbox"]:not(:checked)').prop("disabled",!0),e.show()):(l.find('input[type="checkbox"]:not(:checked)').prop("disabled",
!1),e.hide())},deleteItem:function(a){for(var c=0;c<tdbFormTaxonomies.items.length;c++)if(tdbFormTaxonomies.items[c].uid===a)return tdbFormTaxonomies.items.splice(c,1),!0;return!1},resetItems:function(){tdbFormTaxonomies.items=[]}}})();var tdbFormFileUpload={};jQuery().ready(function(){tdbFormFileUpload.init()});
(function(){tdbFormFileUpload={items:[],item:function(){this.blockObj=this.uid="";this.fileType="image";this.fileExtensions=["jpg","jpeg","png","gif","ico"];this.maxUploadSize=0;this._is_initialized=this._in_composer=!1},init:function(){tdbFormFileUpload.items=[];this._is_running=!1},_initialize_item:function(a){if(!0!==a._is_initialized){var c=a.blockObj.find(".tdb-s-form-file");c.bind("dragover",function(){jQuery(this).addClass("tdb-s-form-file-dragover")});c.bind("dragleave drop",function(){jQuery(this).removeClass("tdb-s-form-file-dragover")});
a.blockObj.find(".tdb-s-form-file input").on("change",function(b){var c=jQuery(this);b=b.currentTarget.files[0];tdbFormFileUpload.manageNotif(a,!1);-1===jQuery.inArray(c.val().split(".").pop().toLowerCase(),a.fileExtensions)?(tdbFormFileUpload.manageNotif(a,!0,"Sorry, you are not allowed to upload this "+a.fileType+" file type."),c.val("")):b.size>a.maxUploadSize?(tdbFormFileUpload.manageNotif(a,!0,"Sorry, the "+a.fileType+" exceeds the maximum upload file size limit."),c.val("")):tdbFormFileUpload.addPreview(a,
b)});a.blockObj.on("click",".tdb-s-ffp-remove",function(b){b.preventDefault();tdbFormFileUpload.removePreview(a)});a._is_initialized=!0}},addItem:function(a){if("undefined"===typeof a.uid)throw"item.uid is not defined";tdbFormFileUpload.items.push(a);tdbFormFileUpload._initialize_item(a)},manageNotif:function(a,c,b){b=void 0===b?"":b;a=a.blockObj.find(".tdb-s-notif");c?a.show().text(b):a.hide().text(b)},addPreview:function(a,c){a.blockObj.find(".tdb-s-form");var b=a.blockObj.find(".tdb-s-form-file");
b.addClass("tdb-s-content-loading");setTimeout(function(){switch(a.fileType){case "image":var d=new FileReader;d.onload=function(){b.prepend('<div class="tdb-s-form-file-preview tdb-s-form-file-preview-image"><div class="tdb-s-ffip-img" style="background-image:url('+d.result+')"></div><button class="tdb-s-btn tdb-s-btn-sm tdb-s-btn-red tdb-s-ffp-remove" title="Remove image file"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-trash-2"><polyline points="3 6 5 6 21 6"></polyline><path d="M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6m3 0V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2"></path><line x1="10" y1="11" x2="10" y2="17"></line><line x1="14" y1="11" x2="14" y2="17"></line></svg></button></div>')};
d.readAsDataURL(c);break;case "document":b.prepend('<div class="tdb-s-form-file-box tdb-s-form-file-preview tdb-s-form-file-preview-document"><svg xmlns="http://www.w3.org/2000/svg" width="40" height="40" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-file-text tdb-s-ffu-ico"><path d="M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"></path><polyline points="14 2 14 8 20 8"></polyline><line x1="16" y1="13" x2="8" y2="13"></line><line x1="16" y1="17" x2="8" y2="17"></line><polyline points="10 9 9 9 8 9"></polyline></svg><div class="tdb-s-ffu-txt">'+
c.name+'</div><button class="tdb-s-btn tdb-s-btn-sm tdb-s-btn-red tdb-s-ffp-remove" title="Remove file"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-trash-2"><polyline points="3 6 5 6 21 6"></polyline><path d="M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6m3 0V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2"></path><line x1="10" y1="11" x2="10" y2="17"></line><line x1="14" y1="11" x2="14" y2="17"></line></svg></button></div>');
break;case "audio":var e=new FileReader;e.onload=function(){b.prepend('<div class="tdb-s-form-file-preview tdb-s-form-file-preview-audio"><audio controls class="tdb-s-ffu-audio"><source src="'+e.result+'" type="'+c.type+'"></audio><button class="tdb-s-btn tdb-s-btn-sm tdb-s-btn-red tdb-s-ffp-remove" title="Remove audio file"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-trash-2"><polyline points="3 6 5 6 21 6"></polyline><path d="M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6m3 0V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2"></path><line x1="10" y1="11" x2="10" y2="17"></line><line x1="14" y1="11" x2="14" y2="17"></line></svg></button></div>')};
e.readAsDataURL(c);break;case "video":var f=new FileReader;f.onload=function(){b.prepend('<div class="tdb-s-form-file-preview tdb-s-form-file-preview-video"><video class="tdb-s-ffip-video" controls><source src="'+f.result+'" type="'+c.type+'"></video><button class="tdb-s-btn tdb-s-btn-sm tdb-s-btn-red tdb-s-ffp-remove" title="Remove video file"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-trash-2"><polyline points="3 6 5 6 21 6"></polyline><path d="M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6m3 0V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2"></path><line x1="10" y1="11" x2="10" y2="17"></line><line x1="14" y1="11" x2="14" y2="17"></line></svg></button></div>')};
f.readAsDataURL(c)}b.addClass("tdb-s-form-file-previewing");b.removeClass("tdb-s-content-loading")},600)},removePreview:function(a){var c=a.blockObj.find(".tdb-s-form-file"),b=c.find(".tdb-s-form-file-input");c.addClass("tdb-s-content-loading");setTimeout(function(){a.blockObj.attr("data-no-save","false");c.find(".tdb-s-form-file-preview").remove();b.val("");c.removeClass("tdb-s-form-file-previewing");c.removeClass("tdb-s-content-loading")},400)},deleteItem:function(a){for(var c=0;c<tdbFormFileUpload.items.length;c++)if(tdbFormFileUpload.items[c].uid===
a)return tdbFormFileUpload.items.splice(c,1),!0;return!1},resetItems:function(){tdbFormFileUpload.items=[]}}})();var tdbPostsList={};jQuery().ready(function(){tdbPostsList.init()});
(function(){tdbPostsList={items:[],item:function(){this.blockObj=this.uid="";this.renderOptions={};this.activeFilters={};this.confirmModals=[];this.topNotifications=[];this._is_initialized=!1},init:function(){tdbPostsList.items=[];this._is_running=!1},addItem:function(a){if("undefined"===typeof a.uid)throw"item.uid is not defined";tdbPostsList.items.push(a);tdbPostsList._initialize_item(a)},deleteItem:function(a){for(var c=0;c<tdbPostsList.items.length;c++)if(tdbPostsList.items[c].uid===a)return tdbPostsList.items.splice(c,
1),!0;return!1},resetItems:function(){tdbPostsList.items=[]},renderPosts:function(a){var c=a.blockObj.find(".tdb-block-inner");jQuery.when(jQuery.ajax({type:"POST",url:td_ajax_url,data:{action:"tdb_get_posts_list_posts",_ajax_nonce:a.blockObj.find("#tdb_posts_list_nonce").val(),options:a.renderOptions,activeFilters:a.activeFilters},success:function(a){a=jQuery.parseJSON(a);""!==a.html&&c.html(a.html)}})).done(function(){a.blockObj.trigger("postsList.rendered")})},onSearch:function(a,c,b){a.blockObj.trigger("postsList.rendering");
a.activeFilters.search={keyword:c,in:b};tdbPostsList.renderPosts(a)},onSortByColumn:function(a,c){a.blockObj.trigger("postsList.rendering");"undefined"!==typeof a.activeFilters.columnSort&&a.activeFilters.columnSort.name===c?a.activeFilters.columnSort.order="ASC"===a.activeFilters.columnSort.order?"DESC":"ASC":a.activeFilters.columnSort={name:c,order:"ASC"};tdbPostsList.renderPosts(a)},onPagination:function(a,c){a.blockObj.trigger("postsList.rendering");a.renderOptions.currentPage=c;tdbPostsList.renderPosts(a)},
onChangePostStatus:function(a,c,b,d){var e=new tdbModal.item;e.customClasses="tdb-plist-confirm-modal tdb-plist-confirm-modal-"+a.uid;e.title=tdbPostsList._stringFromBinary(a.confirmModals.publish.title);e.body='<div class="tdb-s-modal-txt">'+tdbPostsList._stringFromBinary(a.confirmModals.publish.body).replace("%POST_TITLE%",b)+"</div>";e.cancelBtnTxt=window.tdb_modal_cancel_alt;e.confirmBtnTxt=window.tdb_modal_confirm_alt;tdbModal.addItem(e);tdbModal.openModal(e);e.modalObj.on("tdbModal.confirming",
function(){e.modalObj.trigger("tdbModal.confirmed")});e.modalObj.on("tdbModal.confirmed",function(){a.blockObj.trigger("postsList.rendering");jQuery.ajax({method:"POST",url:td_ajax_url,data:{action:"tdb_posts_list_update_post_status",_ajax_nonce:a.blockObj.find("#tdb_posts_list_nonce").val(),postID:c,newStatus:d},success:function(b){b=jQuery.parseJSON(b);if(""!==b.success){a.topNotifications.push({message:b.success,type:"success"});var d=a.blockObj.find('.tdb-plist-post[data-post-id="'+c+'"]'),e=
d.find(".tdb-plist-publish-post");d.find(".tdb-s-table-col-title .tdb-plist-title-status").remove();e.prev().remove();e.remove()}""!==b.error&&a.topNotifications.push({message:b.error,type:"error"});a.blockObj.trigger("postsList.rendered")}})})},onDeletePost:function(a,c,b){var d=a.blockObj.find(".tdb-block-inner"),e=new tdbModal.item;e.customClasses="tdb-plist-confirm-modal tdb-plist-confirm-modal-"+a.uid;e.title=tdbPostsList._stringFromBinary(a.confirmModals.delete.title);e.body='<div class="tdb-s-modal-txt">'+
tdbPostsList._stringFromBinary(a.confirmModals.delete.body).replace("%POST_TITLE%",b)+"</div>";e.cancelBtnTxt=window.tdb_modal_cancel_alt;e.confirmBtnTxt=window.tdb_modal_confirm_alt;tdbModal.addItem(e);tdbModal.openModal(e);e.modalObj.on("tdbModal.confirming",function(){e.modalObj.trigger("tdbModal.confirmed")});e.modalObj.on("tdbModal.confirmed",function(){a.blockObj.trigger("postsList.rendering");jQuery.ajax({type:"POST",url:td_ajax_url,data:{action:"tdb_posts_list_delete_post",_ajax_nonce:a.blockObj.find("#tdb_posts_list_nonce").val(),
postID:c},success:function(b){b=jQuery.parseJSON(b);""!==b.success&&(a.topNotifications.push({message:b.success,type:"success"}),1===d.find(".tdb-plist-post").length&&a.renderOptions.currentPage--,tdbPostsList.renderPosts(a));""!==b.error&&(a.topNotifications.push({message:b.error,type:"error"}),a.blockObj.trigger("postsList.rendered"))}})})},topNotifications:function(a){var c=a.blockObj.find(".tdb-block-inner"),b=c.find(".tdb-plist-notifs-top");b.length||(c.prepend('<div class="tdb-plist-notifs-top"></div>'),
b=c.find(".tdb-plist-notifs-top"));jQuery.each(a.topNotifications,function(a,c){b.prepend('<div class="tdb-s-notif tdb-s-notif-sm tdb-s-notif-'+c.type+'"><div class="tdb-s-notif-descr">'+c.message+"</div></div>")});a.topNotifications=[];setTimeout(function(){b.remove()},5E3)},_initialize_item:function(a){if(!0!==a._is_initialized){var c=a.blockObj.find(".tdb-block-inner");a.blockObj.on("postsList.rendering",function(){c.hasClass("tdb-s-content-loading")||c.addClass("tdb-s-content-loading")});a.blockObj.on("postsList.rendered",
function(){tdbPostsList.topNotifications(a);c.hasClass("tdb-s-content-loading")&&c.removeClass("tdb-s-content-loading")});a.blockObj.on("keydown",".tdb-plist-search .tdb-plist-search-keyword",function(a){13===a.keyCode&&jQuery(this).closest(".tdb-plist-search").find("button").click()});a.blockObj.on("click",".tdb-plist-search button",function(b){b.preventDefault();var c=jQuery(this).closest(".tdb-plist-search");b=c.find(".tdb-plist-search-keyword").val();c=c.find(".tdb-plist-search-in").val();tdbPostsList.onSearch(a,
b,c)});a.blockObj.on("click",".tdb-s-table-header th",function(){var b=jQuery(this).data("column");tdbPostsList.onSortByColumn(a,b)});a.blockObj.on("click",".tdb-plist-publish-post",function(b){b.preventDefault();var c=jQuery(this);b=c.data("post-id");c=c.data("post-title");tdbPostsList.onChangePostStatus(a,b,c,"publish")});a.blockObj.on("click",".tdb-plist-delete-post",function(b){b.preventDefault();var c=jQuery(this);b=c.data("post-id");c=c.data("post-title");tdbPostsList.onDeletePost(a,b,c)});
a.blockObj.on("click",".tdb-s-pagination-item",function(b){b.preventDefault();b=jQuery(this).data("page");tdbPostsList.onPagination(a,b)});a._is_initialized=!0}},_stringToBinary:function(a){for(var c=new Uint16Array(a.length),b=0;b<c.length;b++)c[b]=a.charCodeAt(b);return btoa(String.fromCharCode.apply(String,$jscomp.arrayFromIterable(new Uint8Array(c.buffer))))},_stringFromBinary:function(a){a=atob(a);for(var c=new Uint8Array(a.length),b=0;b<c.length;b++)c[b]=a.charCodeAt(b);return String.fromCharCode.apply(String,
$jscomp.arrayFromIterable(new Uint16Array(c.buffer)))}}})();var tdbModal={};jQuery().ready(function(){tdbModal.init()});
(function(){tdbModal={items:[],item:function(){this.body=this.title=this.customClasses=this.modalObj=this.uid="";this.cancelBtnTxt=window.tdb_modal_cancel;this.confirmBtnTxt=window.tdb_modal_confirm;this.validateFormInputs=void 0;this._is_initialized=this._is_modal_open=!1},init:function(){tdbModal.items=[];this._is_running=!1},addItem:function(a){if("undefined"===typeof a.uid)throw"item.uid is not defined";tdbModal.items.push(a);tdbModal._initialize_item(a)},deleteItem:function(a){for(var c=0;c<
tdbModal.items.length;c++)if(tdbModal.items[c].uid===a)return a=jQuery("body"),a.hasClass("tdb-s-modal-prevent-scroll")&&a.removeClass("tdb-s-modal-prevent-scroll"),jQuery("#tdb_modal_"+tdbModal.items[c].uid).remove(),tdbModal.items.splice(c,1),!0;return!1},resetItems:function(){tdbModal.items=[]},buildModal:function(a){var c=jQuery("body"),b=Math.floor(65536*(1+Math.random())).toString(16).substring(1);c.prepend('<div id="tdb_modal_'+b+'" class="tdb-s-modal-wrap '+a.customClasses+'"><div class="tdb-s-modal-bg"></div><div class="tdb-s-modal"><div class="tdb-s-modal-header"><h3 class="tdb-s-modal-title">'+
a.title+'</h3><svg class="tdb-s-modal-close" mlns="http://www.w3.org/2000/svg" width="14" height="14" viewBox="0 0 14 14"><g transform="translate(-5 -5)"><path d="M0,13a1,1,0,0,1-.707-.293,1,1,0,0,1,0-1.414l12-12a1,1,0,0,1,1.414,0,1,1,0,0,1,0,1.414l-12,12A1,1,0,0,1,0,13Z" transform="translate(6 6)"/><path d="M12,13a1,1,0,0,1-.707-.293l-12-12a1,1,0,0,1,0-1.414,1,1,0,0,1,1.414,0l12,12A1,1,0,0,1,12,13Z" transform="translate(6 6)"/></g></svg></div><div class="tdb-s-modal-body">'+a.body+'</div><div class="tdb-s-modal-footer"><button class="tdb-s-btn tdb-s-btn-sm tdb-s-btn-hollow tdb-s-modal-close tdb-s-modal-cancel">'+
a.cancelBtnTxt+'</button> <button class="tdb-s-btn tdb-s-btn-sm tdb-s-modal-confirm">'+a.confirmBtnTxt+"</button></div></div></div>");c=jQuery("#tdb_modal_"+b);a.uid=b;a.modalObj=c},openModal:function(a){if(!a._is_modal_open){var c=jQuery("body");setTimeout(function(){a.modalObj.addClass("tdb-s-modal-open");a._is_modal_open=!0;c.addClass("tdb-s-modal-prevent-scroll");a.modalObj.trigger("tdbModal.open")},1)}},closeModal:function(a){if(a._is_modal_open){var c=jQuery("body");a.modalObj.removeClass("tdb-s-modal-open");
a._is_modal_open=!1;c.removeClass("tdb-s-modal-prevent-scroll");a.modalObj.trigger("tdbModal.close");setTimeout(function(){tdbModal.deleteItem(a.uid)},300)}},_initialize_item:function(a){!0!==a._is_initialized&&(tdbModal.buildModal(a),a.modalObj.on("click",".tdb-s-modal-close, .tdb-s-modal-bg",function(c){c.preventDefault();a.modalObj.trigger("tdbModal.cancel");tdbModal.closeModal(a)}),a.modalObj.on("click",".tdb-s-modal-confirm",function(c){c.preventDefault();a.modalObj.trigger("tdbModal.confirming")}),
a.modalObj.on("tdbModal.confirming",function(){var c=a.modalObj.find(".tdb-s-modal-confirm"),b=a.modalObj.find(".tdb-s-modal-cancel");c.addClass("tdb-s-btn-saving");c.prop("disabled",!0);b.prop("disabled",!0)}),a.modalObj.on("tdbModal.confirmingReset",function(){var c=a.modalObj.find(".tdb-s-modal-confirm"),b=a.modalObj.find(".tdb-s-modal-cancel");c.removeClass("tdb-s-btn-saving");c.prop("disabled",!1);b.prop("disabled",!1)}),a.modalObj.on("tdbModal.confirmed",function(){tdbModal.closeModal(a)}),
a._is_initialized=!0)},_stringToBinary:function(a){for(var c=new Uint16Array(a.length),b=0;b<c.length;b++)c[b]=a.charCodeAt(b);return btoa(String.fromCharCode.apply(String,$jscomp.arrayFromIterable(new Uint8Array(c.buffer))))},_stringFromBinary:function(a){a=atob(a);for(var c=new Uint8Array(a.length),b=0;b<c.length;b++)c[b]=a.charCodeAt(b);return String.fromCharCode.apply(String,$jscomp.arrayFromIterable(new Uint16Array(c.buffer)))},_validate_form_inputs:function(a){if("undefined"!==typeof a.validateFormInputs){var c=
!0;a.modalObj.find(".tdb-s-form-group").removeClass("tdb-s-fg-error");a.modalObj.find(".tdb-s-fg-error-msg").remove();jQuery.each(a.validateFormInputs,function(b,d){var e=a.modalObj.find("#"+d.id);if(e.length){b=e.closest(".tdb-s-form-group");d=d.rules.split("|");var f="";jQuery.each(d,function(a,b){switch(b){case "required":if(""===e.val())return f="This field is required.",!1;break;case "email":if(!e.val().match(/^\w+([\.-]?\w+)*@\w+([\.-]?\w+)*(\.\w{2,3})+$/))return f="Please enter a valid email.",
!1}});""!==f&&(b.addClass("tdb-s-fg-error"),b.append('<span class="tdb-s-fg-error-msg">'+f+"</span>"),c=!1)}});if(!c)return!1}return!0}}})();var tdbFilters={};
(function(){tdbFilters={items:[],init:function(){tdbFilters.items=[]},item:function(){this.jqueryObj=this.blockAtts=this.blockUid=void 0;this._is_initialized=this.enabled_on_mobiles=this.inComposer=!1},_initialize_item:function(a){if(!0!==a._is_initialized){if(!0===a.enabled_on_mobiles){a.jqueryObj.closest(".vc_column_container").addClass("tdb-filters-mobile");jQuery("body").addClass("tdb-filters");var c=jQuery(".tdb-filters-button-mobile"),b=c.get(0);b=jQuery._data(b,"events");if(void 0===b||void 0===
b.click)c.on("click",function(){jQuery("body").toggleClass("tdb-filters-open")})}else a.jqueryObj.closest(".vc_column_container").removeClass("tdb-filters-mobile"),jQuery("body").removeClass("tdb-filters");!0!==a.inComposer&&(window.onpopstate=function(a){null!==a.state&&window.location.reload()},a.jqueryObj.on("click",".tdb-filters-clear-all",function(a){a.preventDefault();a.stopPropagation();a=new URLSearchParams(window.location.search);var b=window.location.href;a.forEach(function(a,c){-1!==c.indexOf("tdb_")&&
(b=tdbFilters.removeQueryParam(b,c))});window.history.pushState({},"",b);window.location.reload()}),a.jqueryObj.on("click",".tdb-filter-item",function(a){var b=jQuery(this),c=b.parents("ul").data("taxonomy"),d=b.data("term-slug");b.data("term-name");b.hasClass("selected")||b.hasClass("tdb-filter-link")?(b.hasClass("selected")&&b.hasClass("tdb-filter-link")&&a.preventDefault(),window.location.href=tdbFilters.removeQueryParamValue(window.location.href,c,d)):-1!==c.indexOf("tdb_")?(a=tdbFilters.removeQueryParam(window.location.href,
"tdb-loop-page"),window.location.href=tdbFilters.updateQuery(a,c,d)):console.log("invalid filter: "+c)}),a.jqueryObj.on("select2:select",".tdb-filter-item-dropdown",function(a){var b=jQuery(this),c=b.hasClass("multiple");b=b.data("taxonomy");var d=a.params.data,l="";"undefined"!==typeof d.element?(a=jQuery(d.element).data("term-slug"),l=jQuery(d.element).data("filter-link")):a=d.slug;-1!==b.indexOf("tdb_")?(d=tdbFilters.removeQueryParam(window.location.href,"tdb-loop-page"),window.location.href=c||
""===l?"undefined"!==typeof a?tdbFilters.updateQuery(d,b,a):d:l):console.log("invalid filter: "+b)}),a.jqueryObj.on("select2:unselect",".tdb-filter-item-dropdown",function(a){var b=jQuery(this).data("taxonomy");a=a.params.data;a="undefined"!==typeof a.element?jQuery(a.element).data("term-slug"):a.slug;if(-1!==b.indexOf("tdb_")){var c=tdbFilters.removeQueryParam(window.location.href,"tdb-loop-page");window.location.href=a?tdbFilters.removeQueryParamValue(c,b,a):c}else console.log("invalid filter: "+
b)}),jQuery(document).on("tdb_filters_remove_filter",function(b,c){b=c.term;a.jqueryObj.find('[data-taxonomy="'+c.tax+'"]').find("li[data-term-slug="+b+"]").removeClass("selected")}),a._is_initialized=!0)}},addItem:function(a){if("undefined"===typeof a.blockUid)throw"item.blockUid is not defined";tdbFilters.items.push(a);tdbFilters._initialize_item(a)},deleteItem:function(a){for(var c=0;c<tdbFilters.items.length;c++)if(tdbFilters.items[c].blockUid===a)return tdbFilters.items.splice(c,1),!0;return!1},
updateQuery:function(a,c,b){var d=new RegExp("([?&])"+c+"=.*?(&|$)","i"),e=-1!==a.indexOf("?")?"&":"?";return a.match(d)?(e=new URLSearchParams(window.location.search),a.replace(d,"$1"+c+"="+e.get(c)+","+b+"$2")):""===b?a:a+e+c+"="+b},removeQueryParam:function(a,c){return a.replace(new RegExp("([?&])"+c+"=.*?(&|$)","i"),"$1").replace(/[&|?]\s*$/,"")},removeQueryParamValue:function(a,c,b){var d=(new URLSearchParams(window.location.search)).get(c);d=d.replace(new RegExp("(,?)"+b,"i"),"").replace(/^,/,
"");return a=""===d?tdbFilters.removeQueryParam(a,c):a.replace(new RegExp("([?&])"+c+"=.*?(&|$)","i"),"$1"+c+"="+d+"$2")}}})();jQuery().ready(function(){tdbFilters.init()});var tdbFiltersLoop={};
(function(){tdbFiltersLoop={items:[],init:function(){tdbFiltersLoop.items=[]},item:function(){this.jqueryObj=this.blockAtts=this.blockUid=void 0;this._is_initialized=this.inComposer=!1},_initialize_item:function(a){!0!==a._is_initialized&&(a._is_initialized=!0)},addItem:function(a){if("undefined"===typeof a.blockUid)throw"item.blockUid is not defined";tdbFiltersLoop.items.push(a);tdbFiltersLoop._initialize_item(a)},deleteItem:function(a){for(var c=0;c<tdbFiltersLoop.items.length;c++)if(tdbFiltersLoop.items[c].blockUid===
a)return tdbFiltersLoop.items.splice(c,1),!0;return!1}}})();jQuery().ready(function(){tdbFiltersLoop.init()});var tdbFiltersList={};
(function(){tdbFiltersList={items:[],init:function(){tdbFiltersList.items=[]},item:function(){this.jqueryObj=this.blockUid=void 0;this.sampleData=!1;this.closeIcon="";this._is_initialized=this.inComposer=!1},_initialize_item:function(a){!0!==a._is_initialized&&!0!==a.inComposer&&!0!==a.sampleData&&(a.jqueryObj.on("click",".remove",function(a){a.preventDefault();a.stopPropagation();a=jQuery(this).parent().data("tax");var b=jQuery(this).parent().data("term-slug").toString();jQuery(this).parents("li").hide();
jQuery(document).trigger("tdb_filters_remove_filter",{tax:a,term:b});var c=tdbFiltersList.removeQueryParam(window.location.href,"tdb-loop-page");window.location.href=tdbFiltersList.updateQuery(c,a,b)}),window.onpopstate=function(a){null!==a.state&&window.location.reload()},a._is_initialized=!0)},addItem:function(a){if("undefined"===typeof a.blockUid)throw"item.blockUid is not defined";tdbFiltersList.items.push(a);tdbFiltersList._initialize_item(a)},deleteItem:function(a){for(var c=0;c<tdbFiltersList.items.length;c++)if(tdbFiltersList.items[c].blockUid===
a)return tdbFiltersList.items.splice(c,1),!0;return!1},updateQuery:function(a,c,b){var d=new RegExp("([?&])"+c+"=.*?(&|$)","i"),e=(new URLSearchParams(window.location.search)).get(c),f="";if(-1!==e.indexOf(",")){e=e.split(",");for(var h=0;h<e.length;h++)e[h]!==b&&(f+=e[h]+",");f=f.replace(/,\s*$/,"");return a.replace(d,"$1"+c+"="+f+"$2")}return a.replace(d,"$1").replace(/[&|?]\s*$/,"")},removeQueryParam:function(a,c){return a.replace(new RegExp("([?&])"+c+"=.*?(&|$)","i"),"$1").replace(/[&|?]\s*$/,
"")},getItemIndex:function(a){var c=0,b=0;jQuery.each(tdbFiltersList.items,function(d,e){if(e.blockUid===a)return b=c,!1;c++});return b},getItemObjById:function(a){return tdbFiltersList.items[tdbFiltersList.getItemIndex(a)]}}})();jQuery().ready(function(){tdbFiltersList.init()});var tdbFiltersDropdown={};jQuery().ready(function(){tdbFiltersDropdown.init()});
(function(){tdbFiltersDropdown={items:[],item:function(){this.type=this.dropdownObj=this.blockObj=this.dropdownUid=this.uid="";this.isMultiSelect=!1;this.filter_singular_name=this.taxonomy_name=this.taxonomy=this.prefix="";this._is_initialized=this.inComposer=!1},init:function(){tdbFiltersDropdown.items=[];this._is_running=!1},_initialize_item:function(a){if(!0!==a._is_initialized){if("dropdown_search"===a.type)jQuery("."+a.dropdownUid+" .tdb-s-form-group select").select2({placeholder:"-- Search "+
(a.taxonomy_name.charAt(0).toLowerCase()+a.taxonomy_name.slice(1))+" --",minimumInputLength:2,ajax:{url:td_ajax_url,dataType:"json",delay:250,data:function(b){return{action:"tdb_get_search_query_tax_terms",taxonomy:a.taxonomy,search_query:b.term}},processResults:function(a){var b=[];a&&jQuery.each(a,function(a,c){b.push({id:c.term_id,text:c.name,slug:c.slug})});return{results:b}},cache:!0},dropdownCssClass:"tdb-s-select2 tdb-s-select2-"+a.dropdownUid,templateSelection:function(a){jQuery(a.element).attr("data-term-slug",
a.slug);return a.text}});else{var c=jQuery("."+a.dropdownUid+" .tdb-s-form-group select"),b={dropdownCssClass:"tdb-s-select2 tdb-s-select2-"+a.dropdownUid+" tdb-select2-multi",templateSelection:function(a){return jQuery(a.element).text().replace(/ *\([^)]*\) */g,"")}};a.isMultiSelect?(b.dropdownCssClass="tdb-s-select2 tdb-s-select2-"+a.dropdownUid+" tdb-select2-multi",b.placeholder="-- Select "+a.filter_singular_name.toLowerCase()+" --"):b.dropdownCssClass="tdb-s-select2 tdb-s-select2-"+a.dropdownUid;
c.select2(b).on("select2:open",function(b){jQuery(".tdb-s-select2-"+a.dropdownUid+" .select2-search__field").focus()})}a._is_initialized=!0}},addItem:function(a){if("undefined"===typeof a.uid)throw"item.uid is not defined";tdbFiltersDropdown.items.push(a);tdbFiltersDropdown._initialize_item(a)},deleteItem:function(a){for(var c=0;c<tdbFiltersDropdown.items.length;c++)if(tdbFiltersDropdown.items[c].uid===a)return tdbFiltersDropdown.items.splice(c,1),!0;return!1},resetItems:function(){tdbFiltersDropdown.items=
[]}}})();var tdbReviewsList={};jQuery().ready(function(){tdbReviewsList.init()});
(function(){tdbReviewsList={items:[],item:function(){this.blockObj=this.uid="";this.articleAuthorID=0;this.articleAuthorBadge="";this.currentUserID=0;this._nonce=this.deleteTxt=this.requiredTxt=this.replyTxt=this.cancelReplyTxt=this.cancelTxt=this.titleTag=this.emailHolder=this.nameHolder=this.replyHolder=this.submitTxt=this.currentUserEmail=this.currentUserName="";this._is_initialized=this._in_composer=!1},init:function(){tdbReviewsList.items=[];this._is_running=!1},_initialize_item:function(a){!0!==
a._is_initialized&&(a.blockObj.on("click",".tdb-surl-review-leave-reply",function(c){c.preventDefault();c=jQuery(this);var b=c.attr("data-action"),d=c.closest(".tdb-surl-review"),e=""!==a.currentUserName&&""!==a.currentUserEmail;"reply"===b?(c.text(a.cancelReplyTxt),c.attr("data-action","cancel"),d.find("> .tdb-surl-review-right").append('<div class="tdb-surl-review-reply-form tdb-s-form tdb-s-content"><div class="tdb-s-form-content"><div class="tdb-s-fc-inner"><div class="tdb-s-form-group tdb-s-form-group-sm tdb-s-form-group-content"><textarea class="tdb-s-form-input" name="content" placeholder="'+
a.replyHolder+'"></textarea></div><div class="tdb-s-form-group tdb-s-form-group-sm tdb-s-form-group-name"><input class="tdb-s-form-input" type="text" name="name" value="'+a.currentUserName+'" '+(e?"disabled":"")+' placeholder="'+a.nameHolder+'" /></div><div class="tdb-s-form-group tdb-s-form-group-sm tdb-s-form-group-email"><input class="tdb-s-form-input" type="email" name="email" value="'+a.currentUserEmail+'" '+(e?"disabled":"")+' placeholder="'+a.emailHolder+'" /></div></div></div><div class="tdb-s-form-footer"><button class="tdb-s-btn tdb-s-btn-sm tdb-surl-review-reply-submit">'+
a.submitTxt+'</button><button class="tdb-s-btn tdb-s-btn-sm tdb-s-btn-hollow tdb-surl-review-reply-cancel">'+a.cancelTxt+"</button></div></div>"),c=d.find(".tdb-surl-review-reply-form"),jQuery("html, body").animate({scrollTop:c.offset().top-c.height()},200)):"cancel"===b&&(c.text(a.replyTxt),c.attr("data-action","reply"),d.find(".tdb-surl-review-reply-form").remove())}),a.blockObj.on("click",".tdb-surl-review-reply-cancel",function(c){var b=jQuery(this);c=b.closest(".tdb-surl-review").find(".tdb-surl-review-leave-reply");
b=b.closest(".tdb-surl-review-reply-form");c.text(a.replyTxt);c.attr("data-action","reply");b.remove()}),a.blockObj.on("click",".tdb-surl-review-reply-submit",function(c){c.preventDefault();var b=jQuery(this),d=b.closest(".tdb-surl-review");c=d.data("review-id");var e=d.find(".tdb-surl-review-leave-reply"),f=b.closest(".tdb-surl-review-reply-form"),h=f.find('[name="content"]'),l=f.find('[name="name"]'),k=f.find('[name="email"]'),m=0;f.find(".tdb-s-fg-error").removeClass(".tdb-s-fg-error");""===h.val()?
(h.closest(".tdb-s-form-group").addClass("tdb-s-fg-error"),h.closest(".tdb-s-form-group").append('<span class="tdb-s-fg-error-msg">'+a.requiredTxt+"</span>"),m++):(h.closest(".tdb-s-form-group").removeClass("tdb-s-fg-error"),h.closest(".tdb-s-form-group").find(".tdb-s-fg-error-msg").remove());""!==l.val()||l.prop("disabled")?(l.closest(".tdb-s-form-group").removeClass("tdb-s-fg-error"),l.closest(".tdb-s-form-group").find(".tdb-s-fg-error-msg").remove()):(l.closest(".tdb-s-form-group").addClass("tdb-s-fg-error"),
l.closest(".tdb-s-form-group").append('<span class="tdb-s-fg-error-msg">'+a.requiredTxt+"</span>"),m++);""!==k.val()||k.prop("disabled")?(k.closest(".tdb-s-form-group").removeClass("tdb-s-fg-error"),k.closest(".tdb-s-form-group").find(".tdb-s-fg-error-msg").remove()):(k.closest(".tdb-s-form-group").addClass("tdb-s-fg-error"),k.closest(".tdb-s-form-group").append('<span class="tdb-s-fg-error-msg">'+a.requiredTxt+"</span>"),k++);0===m&&(f.addClass("tdb-s-content-disabled"),b.addClass("tdb-s-btn-saving"),
jQuery.ajax({type:"POST",url:td_ajax_url,data:{action:"tdb_review_reply_on_submit",_nonce:a._nonce,content:h.val(),name:l.val(),email:k.val(),reviewID:c,userID:a.currentUserID},success:function(c){c=jQuery.parseJSON(c);if(""!==c.reply_id){var k=d.find(".tdb-surl-review-replies"),m="",n=a.currentUserID==a.articleAuthorID,x="";n&&(x="tdb-surl-review-reply-article-author");b.addClass("tdb-s-btn-saved");m+='<div class="tdb-surl-review tdb-surl-review-reply '+x+' tdb-s-content" data-review-reply-id="'+
c.reply_id+'">';m+='<div class="tdb-surl-review-right">';m+="<"+a.titleTag+' class="tdb-surl-review-title" '+(n?'title="Article author"':"")+">";m+=l.val();n&&(m+=a.articleAuthorBadge);m+="</"+a.titleTag+">";m+='<div class="tdb-surl-review-content">'+h.val()+"</div>";0!=a.currentUserID&&(m+='<div class="tdb-surl-review-options">',m+='<a class="tdb-surl-review-reply-delete" href="#">'+a.deleteTxt+"</a>",m+="</div>");m+="</div>";m+="</div>";setTimeout(function(){k.length?k.append(m):d.find("> .tdb-surl-review-right").append('<div class="tdb-surl-review-replies">'+
m+"</div>");f.remove();e.text(a.replyTxt);e.attr("data-action","reply")},200)}}}))}),a.blockObj.on("click",".tdb-surl-review-reply-delete",function(c){c.preventDefault();var b=jQuery(this),d=b.closest(".tdb-surl-review:not(.tdb-surl-review-reply)");c=d.data("review-id");var e=b.closest(".tdb-surl-review-reply");b=e.data("review-reply-id");e.addClass("tdb-s-content-disabled");jQuery.ajax({type:"POST",url:td_ajax_url,data:{action:"tdb_review_reply_on_delete",_nonce:a._nonce,reviewID:c,reviewReplyID:b},
success:function(a){jQuery.parseJSON(a).success&&setTimeout(function(){e.remove();var a=d.find(".tdb-surl-review-replies");a.find(".tdb-surl-review-reply").length||a.remove()},200)}})}),a._is_initialized=!0)},addItem:function(a){if("undefined"===typeof a.uid)throw"item.uid is not defined";tdbReviewsList.items.push(a);tdbReviewsList._initialize_item(a)},deleteItem:function(a){for(var c=0;c<tdbReviewsList.items.length;c++)if(tdbReviewsList.items[c].uid===a)return tdbReviewsList.items.splice(c,1),!0;
return!1},resetItems:function(){tdbReviewsList.items=[]}}})();var tdbCustomForms={};jQuery().ready(function(){tdbCustomForms.init()});
(function(){tdbCustomForms={items:[],item:function(){this.formType=this.blockObj=this.uid="";this.formData=new FormData;this.customPostTitleField=this.successURL=this.currentUserID=this.formGroupClass="";this.enablePostCreate=!1;this._nonce=this.higher_msg=this.lower_msg=this.valid_email_msg=this.blank_fields_msg=this.required_field_error=this.emailSubject=this.sendEmailToEmailFromField=this.sendEmailToCustomAddr=this.sendEmailToAuthor=this.sendEmailToAdmin=this.enableEmailSubmit=this.linkToPostID=
this.postStatus=this.postFormat=this.postType=this.postID="";this._is_initialized=this._in_composer=!1},init:function(){tdbCustomForms.items=[];this._is_running=!1},_initialize_item:function(a){!0!==a._is_initialized&&(a.blockObj.find(".tdb-s-btn").on("click",function(c){c.preventDefault();c=a.blockObj.find(".tdb-s-form");var b=jQuery(a.formGroupClass+".tdb-s-form-group"),d={},e=!1;a.formData=new FormData;b.removeClass("tdb-s-fg-error");b.find(".tdb-s-fg-error-msg").remove();c.find(".tdb-s-notif").remove();
b=tdbCustomForms.getFormContentElements(a);d["content-fields"]=b.elements;b.hasErrors&&(e=b.hasErrors);b=tdbCustomForms.getFormFileElements(a);d["file-delete-fields"]=b.deleteElements;b.hasErrors&&(e=b.hasErrors);b=tdbCustomForms.getFormACFElements(a);d["acf-fields"]=b.elements;"post"===a.formType&&""!==b.postTitle&&(d["post-title"]=b.postTitle);b.hasErrors&&(e=b.hasErrors);if("post"===a.formType){b=tdbCustomForms.getFormTaxonomyElements(a);d.taxonomies=b.elements;b.hasErrors&&(e=b.hasErrors);b=tdbCustomForms.getFormLocationElement(a);
d["location-data"]=b.element;b.hasErrors&&(e=b.hasErrors);b=tdbCustomForms.getFormTitleElement(a);"undefined"===typeof d["post-title"]&&(d["post-title"]=b.postTitle);b.hasErrors&&(e=b.hasErrors);b=tdbCustomForms.getLinkToPostElement(a);var f=b.linkToPostID;b.hasErrors&&(e=b.hasErrors);""!==f&&(a.linkToPostID=f)}e?c.prepend('<div class="tdb-s-notif tdb-s-notif-sm tdb-s-notif-error"><div class="tdb-s-notif-descr">'+a.blank_fields_msg+"</div></div>"):(a.formData.append("formElements",JSON.stringify(d)),
a.formData.append("enctype","multipart/form-data"),a.formData.append("_nonce",a._nonce),"user"===a.formType?(a.formData.append("action","tdb_user_form_on_submit"),tdbCustomForms.userFormAjaxCall(a)):"post"===a.formType&&(a.formData.append("action","tdb_posts_form_on_submit"),a.formData.append("enablePostCreate",a.enablePostCreate),a.formData.append("postID",a.postID),a.formData.append("authorID",a.currentUserID),a.formData.append("postType",a.postType),a.formData.append("postFormat",a.postFormat),
a.formData.append("postStatus",a.postStatus),a.formData.append("linkToPostID",a.linkToPostID),a.formData.append("cfInputEmailList",a.cfInputEmailList),a.formData.append("emailList",a.emailList),a.formData.append("enableEmailSubmit",a.enableEmailSubmit),a.formData.append("sendEmailToAdmin",a.sendEmailToAdmin),a.formData.append("sendEmailToAuthor",a.sendEmailToAuthor),a.formData.append("sendEmailToCustomAddr",a.sendEmailToCustomAddr),a.formData.append("sendEmailToEmailFromField",a.sendEmailToEmailFromField),
a.formData.append("emailSubject",a.emailSubject),tdbCustomForms.postFormAjaxCall(a)))}),a._is_initialized=!0)},getFormContentElements:function(a){var c=[],b=!1;jQuery(a.formGroupClass+".tdb_form_content").each(function(){var d=jQuery(this),e=d.data("required"),f=d.data("custom-field"),h=d.data("form-type"),l=d.find(".tdb-s-form-group"),k=d.find(".tdb-s-form-label").text().replace(" *",""),m=d.find("textarea");d=d.find(".wp-editor-wrap");var n="";h===a.formType&&(n=d.hasClass("tmce-active")?tinymce.get(m.attr("id")).getContent():
m.val(),c.filter(function(a){return a.name===f}).length||(1===e&&""===n?(l.addClass("tdb-s-fg-error"),l.append('<span class="tdb-s-fg-error-msg">'+a.required_field_error+"</span>"),b=!0):(e=encodeURIComponent(n).replace(/%([0-9A-F]{2})/g,function(a,b){return String.fromCharCode("0x"+b)}),k={name:f,value:btoa(e),label:k},c.push(k))))});return{elements:c,hasErrors:b}},getFormFileElements:function(a){var c=[],b=!1;jQuery(a.formGroupClass+".tdb_form_file_upload").each(function(){var d=jQuery(this),e=
d.data("form-type"),f=d.data("required"),h=d.data("no-save"),l=d.data("custom-field"),k=d.find(".tdb-s-form-group");d=d.find("input");var m=d.val();e===a.formType&&""!==l&&!1===h&&(1===f&&""===m?(k.addClass("tdb-s-fg-error"),k.append('<span class="tdb-s-fg-error-msg">'+a.required_field_error+"</span>"),b=!0):(a.formData.append(l,d.prop("files")[0]),""===m&&c.push(l)))});return{deleteElements:c,hasErrors:b}},getFormACFElements:function(a){var c=[],b="",d=!1;jQuery(a.formGroupClass+".tdb-posts-form-acf-input").each(function(){var e=
jQuery(this),f=e.data("form-type"),h=e.data("type"),l=e.data("required"),k=e.data("name"),m=e.find(".tdb-s-form-label").text().replace(" *",""),n=void 0;if(f===a.formType&&!c.filter(function(a){return a.name===k}).length)switch(h){case "text":case "textarea":case "url":case "select":n=e.find(".tdb-s-form-input");var q=n.val();1===l&&""===n.val()?(e.addClass("tdb-s-fg-error"),e.append('<span class="tdb-s-fg-error-msg">'+a.required_field_error+"</span>"),d=!0):(m={name:k,value:q,label:m,type:h},"select"===
h?(jQuery.isArray(q)?(q.forEach(function(a,b){q[b]={value:a,label:n.find('option[value="'+a+'"]').text()}}),m.type=h+"_multiple"):(q={value:q,label:n.find('option[value="'+q+'"]').text()},"post"===a.formType&&k===a.customPostTitleField&&(b=q)),m.value=q):("textarea"===h&&(m.value=encodeURI(q)),"post"===a.formType&&k===a.customPostTitleField&&(b=q)),c.push(m));break;case "email":f=/^\w+([\.-]?\w+)*@\w+([\.-]?\w+)*(\.\w{2,3})+$/;n=e.find(".tdb-s-form-input");1===l&&""===n.val()?(e.addClass("tdb-s-fg-error"),
e.append('<span class="tdb-s-fg-error-msg">'+a.required_field_error+"</span>"),d=!0):n.val().match(f)||""===n.val()?(h={name:k,value:n.val(),label:m,type:h},c.push(h),"post"===a.formType&&k===a.customPostTitleField&&(b=n.val())):(e.addClass("tdb-s-fg-error"),e.append('<span class="tdb-s-fg-error-msg">'+a.valid_email_msg+"</span>"),d=!0);break;case "number":n=e.find(".tdb-s-form-input");f=n.attr("min");var u=n.attr("max");1===l&&""===n.val()?(e.addClass("tdb-s-fg-error"),e.append('<span class="tdb-s-fg-error-msg">'+
a.required_field_error+"</span>"),d=!0):n.val()<f&&""!==n.val()?(e.addClass("tdb-s-fg-error"),e.append('<span class="tdb-s-fg-error-msg">'+a.lower_msg+f+".</span>"),d=!0):n.val()>u&&""!==n.val()?(e.addClass("tdb-s-fg-error"),e.append('<span class="tdb-s-fg-error-msg">'+a.higher_msg+u+".</span>"),d=!0):(h={name:k,value:n.val(),label:m,type:h},c.push(h),"post"===a.formType&&k===a.customPostTitleField&&(b=n.val()));break;case "checkbox":if(1!==l||e.find("input:checked").length){var v=[];e.find("input:checked").each(function(){var a=
jQuery(this);v.push({value:a.val(),label:a.siblings(".tdb-fi-check-label").text()})});c.push({name:k,value:v,label:m,type:h})}else e.addClass("tdb-s-fg-error"),e.append('<span class="tdb-s-fg-error-msg">'+a.required_field_error+"</span>"),d=!0;break;case "radio":case "button_group":1!==l||e.find("input:checked").length?(e=e.find("input:checked"),l={value:e.val(),label:e.siblings(".tdb-fi-check-label").text()},c.push({name:k,value:l,label:m,type:h}),"post"===a.formType&&k===a.customPostTitleField&&
(b=e.siblings(".tdb-fi-check-label").text())):(e.addClass("tdb-s-fg-error"),e.append('<span class="tdb-s-fg-error-msg">'+a.required_field_error+"</span>"),d=!0)}});return{elements:c,postTitle:b,hasErrors:d}},getFormTaxonomyElements:function(a){var c=[],b=!1;jQuery(a.formGroupClass+".tdb_form_taxonomies").each(function(){var d=jQuery(this),e=d.data("tax-type"),f=d.data("required"),h=d.find('[data-term-hierarchy="parent"]'),l=h.data("display");d=d.find('[data-term-hierarchy="child"], [data-term-hierarchy="sub-child"]');
var k=[];c.filter(function(a){return a.taxType===e}).length||("dropdown"===l?(l=h.find("select"),1===f&&""===l.val()?(h.addClass("tdb-s-fg-error"),h.append('<span class="tdb-s-fg-error-msg">'+a.required_field_error+"</span>"),b=!0):""!==l.val()&&k.push(parseInt(l.val()))):(l=h.find("input:checked"),1!==f||l.length?l.each(function(){k.push(parseInt(jQuery(this).val()))}):(h.addClass("tdb-s-fg-error"),h.append('<span class="tdb-s-fg-error-msg">'+a.required_field_error+"</span>"),b=!0)),d.each(function(){var a=
jQuery(this);"dropdown"===a.data("display")?(a=a.find("select"),""!==a.val()&&k.push(parseInt(a.val()))):a.find("input:checked").each(function(){k.push(parseInt(jQuery(this).val()))})}),k.length&&c.push({terms:k,taxType:e}))});return{elements:c,hasErrors:b}},getFormLocationElement:function(a){var c=jQuery(a.formGroupClass+".tdb_location_finder").first(),b={},d=!1;if(c.length){var e=c.data("tax-type"),f=c.data("required"),h=c.find(".tdb-s-form-group-lf-search input"),l=h.closest(".tdb-s-form-group"),
k=c.find(".tdb-s-form-group-lf-address input"),m=c.find(".tdb-s-form-group-lf-postal-code input"),n=c.find(".tdb-s-form-group-lf-city input"),q=c.find(".tdb-s-form-group-lf-state input");c=c.find(".tdb-s-form-group-lf-country input");1===f&&""===h.val()?(l.addClass("tdb-s-fg-error"),l.append('<span class="tdb-s-fg-error-msg">'+a.required_field_error+"</span>"),d=!0):""!==n.val()&&""!==q.val()&&""!==c.val()&&(b={address:k.val(),postalCode:m.val(),city:n.val(),state:q.val(),country:c.val(),taxType:e})}return{element:b,
hasErrors:d}},getFormTitleElement:function(a){var c=jQuery(a.formGroupClass+".tdb_form_title input").first(),b="",d=!1;if(c.length){c=c.first();var e=c.closest(".tdb-s-form-group");""===c.val()?(e.addClass("tdb-s-fg-error"),e.append('<span class="tdb-s-fg-error-msg">'+a.required_field_error+"</span>"),d=!0):b=c.val()}return{postTitle:b,hasErrors:d}},getLinkToPostElement:function(a){var c=jQuery(a.formGroupClass+".tdb_form_link_post").first(),b="",d=!1;if(c.length){var e=c.find("select"),f=c.find(".tdb-s-form-group");
1===c.data("required")&&""===e.val()?(f.addClass("tdb-s-fg-error"),f.append('<span class="tdb-s-fg-error-msg">'+a.required_field_error+"</span>"),d=!0):b=e.val()}return{linkToPostID:b,hasErrors:d}},userFormAjaxCall:function(a){var c=a.blockObj.find(".tdb-s-form"),b=jQuery(a.formGroupClass+".tdb-s-form-group"),d=a.blockObj.find(".tdb-s-btn");b.addClass("tdb-s-content-disabled");c.addClass("tdb-s-content-disabled");d.addClass("tdb-s-btn-saving");jQuery.ajax({method:"POST",url:td_ajax_url,data:a.formData,
contentType:!1,processData:!1,success:function(e){e=jQuery.parseJSON(e);""!==e.success&&c.prepend('<div class="tdb-s-notif tdb-s-notif-sm tdb-s-notif-success"><div class="tdb-s-notif-descr">'+e.success+"</div></div>");if(e.errors.length){var f='<div class="tdb-s-notif tdb-s-notif-sm tdb-s-notif-error">';f+='<ul class="tdb-s-notif-list">';jQuery.each(e.errors,function(a,b){f+="<li>"+b+"</li>"});f+="</ul>";f+="</div>";c.prepend(f)}d.addClass("tdb-s-btn-saved");c.removeClass("tdb-s-content-disabled");
setTimeout(function(){b.removeClass("tdb-s-content-disabled");d.removeClass("tdb-s-btn-saving").removeClass("tdb-s-btn-saved");setTimeout(function(){a.blockObj.find(".tdb-s-notif-success").remove();a.blockObj.find(".tdb-s-notif-error").remove()},4E3)},200)}})},postFormAjaxCall:function(a){var c=a.blockObj.find(".tdb-s-form"),b=jQuery(a.formGroupClass+".tdb-s-form-group"),d=a.blockObj.find(".tdb-s-btn");b.addClass("tdb-s-content-disabled");c.addClass("tdb-s-content-disabled");d.addClass("tdb-s-btn-saving");
jQuery.ajax({method:"POST",url:td_ajax_url,data:a.formData,contentType:!1,processData:!1,success:function(e){e=jQuery.parseJSON(e);if(""!==a.successURL&&""!==e.success.create_post&&""===a.postID)window.location.replace(a.successURL);else{if(""!==e.success.create_post||""!==e.success.email){var f='<div class="tdb-s-notif tdb-s-notif-sm tdb-s-notif-success"><ul class="tdb-s-notif-list">';""!==e.success.create_post&&(f+="<li>"+e.success.create_post+"</li>");""!==e.success.email&&(f+="<li>"+e.success.email+
"</li>");c.prepend(f+"</ul></div>")}if(""!==e.errors.create_post||""!==e.errors.email||""!==e.errors.permission)f='<div class="tdb-s-notif tdb-s-notif-sm tdb-s-notif-error"><ul class="tdb-s-notif-list">',""!==e.errors.create_post&&(f+="<li>"+e.errors.create_post+"</li>"),""!==e.errors.email&&(f+="<li>"+e.errors.email+"</li>"),""!==e.errors.permission&&(f+="<li>"+e.errors.permission+"</li>"),c.prepend(f+"</ul></div>");d.addClass("tdb-s-btn-saved");c.removeClass("tdb-s-content-disabled");""!==e.success.create_post&&
""===a.postID?setTimeout(function(){window.location.replace(window.location.pathname+window.location.search+window.location.hash)},1E3):setTimeout(function(){b.removeClass("tdb-s-content-disabled");d.removeClass("tdb-s-btn-saving").removeClass("tdb-s-btn-saved");setTimeout(function(){a.blockObj.find(".tdb-s-notif-success").remove();a.blockObj.find(".tdb-s-notif-error").remove()},4E3)},200)}}})},addItem:function(a){if("undefined"===typeof a.uid)throw"item.uid is not defined";tdbCustomForms.items.push(a);
tdbCustomForms._initialize_item(a)},deleteItem:function(a){for(var c=0;c<tdbCustomForms.items.length;c++)if(tdbCustomForms.items[c].uid===a)return tdbCustomForms.items.splice(c,1),!0;return!1},resetItems:function(){tdbCustomForms.items=[]}}})();var tdbTOC={};jQuery().ready(function(){tdbTOC.init()});
(function(){tdbTOC={items:[],item:function(){this.blockObj=this.uid="";this.smoothScroll=!0;this.scrollOffset=0;this.scrollDuration=500;this._is_initialized=!1},init:function(){tdbTOC.items=[];this._is_running=!1},addItem:function(a){if("undefined"===typeof a.uid)throw"item.uid is not defined";tdbTOC.items.push(a);tdbTOC._initialize_item(a)},deleteItem:function(a){for(var c=0;c<tdbTOC.items.length;c++)if(tdbTOC.items[c].uid===a)return tdbTOC.items.splice(c,1),!0;return!1},resetItems:function(){tdbTOC.items=
[]},_initialize_item:function(a){if(!0!==a._is_initialized){var c=jQuery("html, body"),b=jQuery("body");if(a.smoothScroll)a.blockObj.on("click","a",function(d){d.preventDefault();var e=jQuery(this).attr("href");d=tdViewport.getCurrentIntervalIndex();var f=20,h=b.hasClass("admin-bar")?0!==d?32:46:0;if(/^(?:[A-Za-z0-9+/]{4})*(?:[A-Za-z0-9+/]{2}==|[A-Za-z0-9+/]{3}=|[A-Za-z0-9+/]{4})$/.test(a.scrollOffset)){var l=JSON.parse(atob(a.scrollOffset));switch(d){case 0:f="undefined"!==typeof l.phone?parseInt(l.phone):
f;break;case 1:f="undefined"!==typeof l.portrait?parseInt(l.portrait):f;break;case 2:f="undefined"!==typeof l.landscape?parseInt(l.landscape):f;break;case 3:f="undefined"!==typeof l.all?parseInt(l.all):f}}else f=parseInt(a.scrollOffset);c.animate({scrollTop:jQuery(e).offset().top-(f+h)},parseInt(a.scrollDuration),function(){window.location.hash=e})});a._is_initialized=!0}}}})();
